<!DOCTYPE html><html lang="en" data-astro-cid-wxiprx5h> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.6"><title>OCR and AI magic - bad pdfs</title><link rel="stylesheet" href="/_astro/about.K2Del1EQ.css">
<link rel="stylesheet" href="/_astro/about.DqOHNfsy.css">
<style>code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:#999}.token.punctuation{color:#ccc}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.number,.token.function{color:#f08d49}.token.property,.token.class-name,.token.constant,.token.symbol{color:#f8c555}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:#cc99cd}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:#7ec699}.token.operator,.token.entity,.token.url{color:#67cdcc}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}
</style>
<link rel="stylesheet" href="/_astro/_slug_.B3jYt87b.css"></head> <body data-astro-cid-wxiprx5h> <header class="site-header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="header-left" data-astro-cid-3ef6ksr2> <a href="/" class="site-title" data-astro-cid-3ef6ksr2> <h1 data-astro-cid-3ef6ksr2>bad pdfs</h1> </a> <nav class="header-nav" data-astro-cid-3ef6ksr2> <a href="/" class data-astro-cid-3ef6ksr2>Gallery</a> <a href="/methods/" class data-astro-cid-3ef6ksr2>All Methods</a> <a href="/about/" class data-astro-cid-3ef6ksr2>About</a> <a href="https://jsoma.github.io/natural-pdf/" target="_blank" rel="noopener noreferrer" class="external" data-astro-cid-3ef6ksr2>
natural-pdf docs
<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-3ef6ksr2> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" data-astro-cid-3ef6ksr2></path> <polyline points="15 3 21 3 21 9" data-astro-cid-3ef6ksr2></polyline> <line x1="10" y1="14" x2="21" y2="3" data-astro-cid-3ef6ksr2></line> </svg> </a> </nav> </div> <div class="header-right" data-astro-cid-3ef6ksr2> <button class="dark-mode-toggle" aria-label="Toggle dark mode" data-astro-cid-tcsrer47> <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <circle cx="12" cy="12" r="5" data-astro-cid-tcsrer47></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-tcsrer47></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-tcsrer47></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-tcsrer47></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-tcsrer47></line> </svg> <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-tcsrer47></path> </svg> </button>  <script type="module">const m=document.querySelector(".dark-mode-toggle"),e=document.documentElement,r=localStorage.getItem("theme")||"light";e.setAttribute("data-theme",r);m?.addEventListener("click",()=>{const t=e.getAttribute("data-theme")==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const a=window.matchMedia("(prefers-color-scheme: dark)");localStorage.getItem("theme")||e.setAttribute("data-theme",a.matches?"dark":"light");a.addEventListener("change",t=>{localStorage.getItem("theme")||e.setAttribute("data-theme",t.matches?"dark":"light")});</script> <!-- Pass BASE_URL to client-side JavaScript --><meta name="base-url" content="/" style="display: none;"><div class="search-wrapper" data-astro-cid-otpdt6jm> <div class="search-container" data-astro-cid-otpdt6jm> <div class="search-input-wrapper" data-astro-cid-otpdt6jm> <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <path d="m21 21-4.35-4.35" data-astro-cid-otpdt6jm></path> </svg> <input type="search" id="search-input" class="search-input" placeholder="Search PDFs, methods, or content..." autocomplete="off" spellcheck="false" data-astro-cid-otpdt6jm> <span class="search-shortcut" data-astro-cid-otpdt6jm>/</span> </div> <div id="search-results" class="search-results" data-astro-cid-otpdt6jm></div> </div> </div> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.Bxe8LC99.js"></script>  <!-- Global styles for dynamically generated search results -->  </div> </div> </header>  <div class="container mx-auto px-4 py-8 max-w-7xl" data-astro-cid-wxiprx5h> <!-- PDF Preview and Info Header --> <header class="mb-8 border-b" data-astro-cid-wxiprx5h> <div class="md:grid md:grid-cols-3 gap-6 p-6" data-astro-cid-wxiprx5h> <!-- PDF Preview --> <div class="md:col-span-1 mb-6 md:mb-0 header-preview" data-astro-cid-wxiprx5h> <img src="/artifacts/screenshots/ocr-example/ocr-example-1.png" alt="OCR and AI magic preview" class="w-full" data-astro-cid-wxiprx5h> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>ocr-example.pdf</p> </div> <!-- Title and Description --> <div class="md:col-span-2" data-astro-cid-wxiprx5h> <h1 class="text-4xl font-bold mb-3" data-astro-cid-wxiprx5h>OCR and AI magic</h1> <p class="text-lg mb-4" data-astro-cid-wxiprx5h>Master OCR techniques with Natural PDF - from basic text recognition to advanced LLM-powered corrections. Learn to extract text from image-based PDFs, handle tables without proper boundaries, and leverage AI for accuracy improvements.</p> <!-- Methods --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Methods Used</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="/methods/guides" class="method-tag" data-astro-cid-wxiprx5h> Guides </a><a href="/methods/pdf" class="method-tag" data-astro-cid-wxiprx5h> PDF </a><a href="/methods/apply_ocr" class="method-tag" data-astro-cid-wxiprx5h> apply_ocr </a><a href="/methods/below" class="method-tag" data-astro-cid-wxiprx5h> below </a><a href="/methods/correct_ocr" class="method-tag" data-astro-cid-wxiprx5h> correct_ocr </a><a href="/methods/extract_table" class="method-tag" data-astro-cid-wxiprx5h> extract_table </a><a href="/methods/extract_text" class="method-tag" data-astro-cid-wxiprx5h> extract_text </a><a href="/methods/find" class="method-tag" data-astro-cid-wxiprx5h> find </a><a href="/methods/find_all" class="method-tag" data-astro-cid-wxiprx5h> find_all </a><a href="/methods/from_content" class="method-tag" data-astro-cid-wxiprx5h> from_content </a><a href="/methods/from_lines" class="method-tag" data-astro-cid-wxiprx5h> from_lines </a><a href="/methods/inspect" class="method-tag" data-astro-cid-wxiprx5h> inspect </a><a href="/methods/show" class="method-tag" data-astro-cid-wxiprx5h> show </a><a href="/methods/snap_to_whitespace" class="method-tag" data-astro-cid-wxiprx5h> snap_to_whitespace </a><a href="/methods/to_df" class="method-tag" data-astro-cid-wxiprx5h> to_df </a> </div> </div> <!-- Tags --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Tags</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <span class="tag-tag" data-astro-cid-wxiprx5h>
#OCR </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#LLM Integration </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Text Extraction </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Table Detection </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#AI Correction </span> </div> </div> <!-- Colab Link --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>The code</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="https://colab.research.google.com/github/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/ocr-example/notebooks/ocr-example.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block colab-btn" title="Open in Google Colab" data-astro-cid-wxiprx5h> <img src="/colab-badge.svg" alt="Open in Colab" data-astro-cid-wxiprx5h> </a> <a href="https://github.com/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/ocr-example/notebooks/ocr-example.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block gh-btn" title="Open in GitHub" data-astro-cid-wxiprx5h> <img src="/gh-badge.svg" alt="Read notebook" data-astro-cid-wxiprx5h> </a> </div> </div> <!-- Other walkthroughs using this PDF -->  </div> </div> </header> <!-- Main Content Area with Optional PDF Preview --> <div class="content-wrapper" data-astro-cid-wxiprx5h> <!-- PDF Button/Sidebar --> <aside class="pdf-sidebar" data-astro-cid-wxiprx5h> <button class="pdf-view-btn" data-astro-cid-wxiprx5h>
📖 View PDF
</button> <div class="pdf-sidebar-content" style="display: none;" data-astro-cid-wxiprx5h> <button class="pdf-close-btn" data-astro-cid-wxiprx5h> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-wxiprx5h> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-wxiprx5h></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-wxiprx5h></line> </svg> </button> <div class="pdf-preview-wrapper" data-astro-cid-wxiprx5h> <iframe class="pdf-embed" type="application/pdf" data-pdf-url="https://pub-4e99d31d19cb404d8d4f5f7efa51ef6e.r2.dev/pdfs/ocr-example/ocr-example.pdf" data-astro-cid-wxiprx5h></iframe> </div> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>ocr-example.pdf</p> </div> </aside> <!-- Code and Output --> <div class="main-content" data-astro-cid-wxiprx5h> <div class="cells-container space-y-8" data-astro-cid-wxiprx5h> <div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h1>OCR: Recognizing text</h1>
<p>Sometimes you can&#39;t actually get the text off of the page. It&#39;s an <em>image</em> of text instead of being actual text.</p>
</div> </div><div id="code-0" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf import PDF

pdf = PDF(&#34;ocr-example.pdf&#34;)

page = pdf.pages[0]
page.show(width=700)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf <span class="token keyword">import</span> PDF

pdf <span class="token operator">=</span> PDF<span class="token punctuation">(</span><span class="token string">"ocr-example.pdf"</span><span class="token punctuation">)</span>

page <span class="token operator">=</span> pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
page<span class="token punctuation">.</span>show<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">700</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf import PDF
pdf = PDF(&#39;ocr-example.pdf&#39;)
page = pdf.pages[0]...
[DEBUG] Evaluating expression: page.show(width=700)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_1.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_1.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Looks like it&#39;s full of words, right? But when we try to extract the text, it doesn&#39;t go as planned.</p>
</div> </div><div id="code-1" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = page.extract_text()
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = page.extract_text()...
[DEBUG] Evaluating expression: print(text)...

</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Nothing – <strong>it&#39;s time for OCR!</strong></p>
<p>OCR stands for Optical Character Recognition, which just means <em>detecting characters from images</em>. No one ever actually says &quot;optical character recognition,&quot; though, they always just call it &quot;OCR.&quot;</p>
<p>There are a looooot of OCR engines out there, and one of the things that makes Natural PDF nice is that it supports multiples. Figuring out which one is the &quot;best&quot; isn&#39;t as tough when you can just run them all right after each other.</p>
<p>The default is <a href="https://github.com/JaidedAI/EasyOCR">EasyOCR</a> which usually works fine.</p>
</div> </div><div id="code-2" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.apply_ocr()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.apply_ocr()...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]Rendering pages: 100%|##########| 1/1 [00:00&lt;00:00,  3.02it/s]                                                              Using CPU. Note: This module is much faster with a GPU.
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div id="code-3" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = page.extract_text()
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = page.extract_text()...
[DEBUG] Evaluating expression: print(text)...
Jungle Health and Safety Inspection Service
INS-UPZONS1NCLAIR
Date: February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms
These people could not be shown to the visitor for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men; who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor; their peculiar trouble was thattheyfell
into the vats; and whentheywere fished out; there was never enough of them left to be worth
exhibiting sometimestheywould be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lardl
Violations
Statute Description Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical
5.8.3 Inadequate Protective Equipment: Serious
6.3.9 Ineffective Injury Prevention: Serious
7.1.5 Failure to Properly Store Hazardous Materials. Critical
8.9.2 Lack of Adequate Fire Safety Measures. Serious
9.6.4 Inadequate Ventilation Systems. Serious
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious
Jungle Health and Safety Inspection Service
</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>I&#39;m very iritated by the &quot;Durham&#39;s Pure Leaf Lardl&quot; instead of &quot;Durham&#39;s Pure Leaf Lard!&quot;. Why&#39;d it miss that??</p>
<p>I don&#39;t need to know why, though, really, because I can just try some other engine! You can also fool around with the options - some of the the lowest-hanging fruit is increasing the resolution of the OCR. The default at the moment is 150, you can try upping to 300 for (potentially) better results.</p>
</div> </div><div id="code-4" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.apply_ocr('surya', resolution=192)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span><span class="token string">'surya'</span><span class="token punctuation">,</span> resolution<span class="token operator">=</span><span class="token number">192</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.apply_ocr(&#39;surya&#39;, resolution=192)...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]Rendering pages: 100%|##########| 1/1 [00:00&lt;00:00,  2.35it/s]                                                              Downloading text_detection model to /home/runner/.cache/datalab/models/text_detection/2025_05_07:   0%|          | 0/6 [00:00&lt;?, ?it/s]Downloading text_detection model to /home/runner/.cache/datalab/models/text_detection/2025_05_07:  17%|#6        | 1/6 [00:00&lt;00:01,  2.91it/s]Downloading text_detection model to /home/runner/.cache/datalab/models/text_detection/2025_05_07: 100%|##########| 6/6 [00:00&lt;00:00, 17.41it/s]
Downloading text_recognition model to /home/runner/.cache/datalab/models/text_recognition/2025_05_16:   0%|          | 0/10 [00:00&lt;?, ?it/s]Downloading text_recognition model to /home/runner/.cache/datalab/models/text_recognition/2025_05_16:  10%|#         | 1/10 [01:33&lt;14:05, 93.92s/it]Downloading text_recognition model to /home/runner/.cache/datalab/models/text_recognition/2025_05_16: 100%|##########| 10/10 [01:33&lt;00:00,  9.39s/it]
Detecting bboxes:   0%|          | 0/1 [00:00&lt;?, ?it/s]Detecting bboxes: 100%|##########| 1/1 [00:12&lt;00:00, 12.37s/it]Detecting bboxes: 100%|##########| 1/1 [00:12&lt;00:00, 12.37s/it]
Recognizing Text:   0%|          | 0/46 [00:00&lt;?, ?it/s]Recognizing Text:   2%|2         | 1/46 [00:50&lt;38:08, 50.86s/it]Recognizing Text:   4%|4         | 2/46 [00:51&lt;15:36, 21.28s/it]Recognizing Text:  15%|#5        | 7/46 [00:52&lt;02:43,  4.18s/it]Recognizing Text:  22%|##1       | 10/46 [00:58&lt;02:01,  3.39s/it]Recognizing Text:  24%|##3       | 11/46 [01:00&lt;01:48,  3.11s/it]Recognizing Text:  26%|##6       | 12/46 [01:00&lt;01:29,  2.63s/it]Recognizing Text:  39%|###9      | 18/46 [01:04&lt;00:38,  1.37s/it]Recognizing Text:  41%|####1     | 19/46 [01:05&lt;00:34,  1.26s/it]Recognizing Text:  46%|####5     | 21/46 [01:06&lt;00:26,  1.08s/it]Recognizing Text:  50%|#####     | 23/46 [01:07&lt;00:23,  1.02s/it]Recognizing Text:  59%|#####8    | 27/46 [01:08&lt;00:11,  1.59it/s]Recognizing Text:  61%|######    | 28/46 [01:09&lt;00:11,  1.61it/s]Recognizing Text:  63%|######3   | 29/46 [01:11&lt;00:16,  1.01it/s]Recognizing Text:  65%|######5   | 30/46 [01:13&lt;00:18,  1.13s/it]Recognizing Text:  70%|######9   | 32/46 [01:14&lt;00:11,  1.20it/s]Recognizing Text:  72%|#######1  | 33/46 [01:14&lt;00:10,  1.28it/s]Recognizing Text:  74%|#######3  | 34/46 [01:18&lt;00:16,  1.38s/it]Recognizing Text:  76%|#######6  | 35/46 [01:19&lt;00:14,  1.33s/it]Recognizing Text:  80%|########  | 37/46 [01:21&lt;00:10,  1.14s/it]Recognizing Text:  85%|########4 | 39/46 [01:22&lt;00:07,  1.04s/it]Recognizing Text:  87%|########6 | 40/46 [01:28&lt;00:11,  1.92s/it]Recognizing Text:  89%|########9 | 41/46 [01:50&lt;00:33,  6.65s/it]Recognizing Text:  91%|#########1| 42/46 [01:54&lt;00:24,  6.05s/it]Recognizing Text:  93%|#########3| 43/46 [01:55&lt;00:13,  4.63s/it]Recognizing Text:  98%|#########7| 45/46 [01:57&lt;00:03,  3.17s/it]Recognizing Text: 100%|##########| 46/46 [01:58&lt;00:00,  2.57s/it]Recognizing Text: 100%|##########| 46/46 [01:58&lt;00:00,  2.58s/it]
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div id="code-5" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = page.extract_text()
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = page.extract_text()...
[DEBUG] Evaluating expression: print(text)...
Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R
Site: Durham&#39;s Meatpacking Chicago, Ill.
Date: February 3, 1905
&lt;b&gt;Violation Count: 7&lt;/b&gt;
&lt;b&gt;Summary:&lt;/b&gt; Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lard!
&lt;b&gt;Violations&lt;/b&gt;
&lt;b&gt;Statute&lt;/b&gt; &lt;b&gt;Description&lt;/b&gt; Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical &lt;math&gt;\boxtimes&lt;/math&gt;
5.8.3 Inadequate Protective Equipment. Serious &lt;math&gt;\boxtimes&lt;/math&gt;
6.3.9 Ineffective Injury Prevention. Serious &lt;math display=&quot;inline&quot;&gt;\Box&lt;/math&gt;
7.1.5 Failure to Properly Store Hazardous Materials. Critical &lt;math display=&quot;inline&quot;&gt;\Box&lt;/math&gt;
8.9.2 Lack of Adequate Fire Safety Measures. Serious &lt;math display=&quot;inline&quot;&gt;\overline{\phantom{a}}&lt;/math&gt;
9.6.4 Inadequate Ventilation Systems. Serious &lt;math&gt;\boxtimes&lt;/math&gt;
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious &lt;math display=&quot;inline&quot;&gt;\Box&lt;/math&gt;
Jungle Health and Safety Inspection Service
</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h2>Finding tables on OCR documents</h2>
<p>When we used <code>page.extract_table()</code> last time, it was easy because there were all of these <code>line</code> elements on the page that pdfplumber could detect and say &quot;hey, it&#39;s a table!&quot; For the same reason that there&#39;s no <em>real</em> text on the page, there&#39;s also no <em>real</em> lines on the page. Instead, we&#39;re going to do a fun secret trick where we look at what horizontal and vertical coordinates <em>seem</em> like they might be lines by setting a threshold.</p>
</div> </div><div id="code-6" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.extract_table()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.extract_table()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>TableResult(rows=0)</pre> </div>   </div> </div> </div> </div><div id="code-7" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table_area = (
    page
    .find('text:contains(Violations)')
    .below(
        until='text:contains(Jungle)',
        include_endpoint=False
    )
)
table_area.show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>table_area <span class="token operator">=</span> <span class="token punctuation">(</span>
    page
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(Violations)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(Jungle)'</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
table_area<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table_area = page.find(&#39;text:contains(Violations)&#39;).below(until=&#39;text:contains(Jungle)&#39;, include_end...
[DEBUG] Evaluating expression: table_area.show(crop=True)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_2.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_2.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div id="code-8" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf.analyzers import Guides

guides = Guides(table_area)

# Add guides between the headers
guides.vertical.from_content(
    ['Statute', 'Description', 'Level', 'Repeat'],
    align='between'
)

# Shift them around so they don't overlap the text
guides.vertical.snap_to_whitespace(detection_method='text')

# add in horizontal lines in places where 80% of the pixels are 'used'
guides.horizontal.from_lines(threshold=0.8)

# Honestly you could have done the same thing for the vertical lines
# but it isn't as fun as .from_content, you know?
# n=5 finds the 5 most likely places based on pixel density
# guides.vertical.from_lines(n=5)

guides.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf<span class="token punctuation">.</span>analyzers <span class="token keyword">import</span> Guides

guides <span class="token operator">=</span> Guides<span class="token punctuation">(</span>table_area<span class="token punctuation">)</span>

<span class="token comment"># Add guides between the headers</span>
guides<span class="token punctuation">.</span>vertical<span class="token punctuation">.</span>from_content<span class="token punctuation">(</span>
    <span class="token punctuation">[</span><span class="token string">'Statute'</span><span class="token punctuation">,</span> <span class="token string">'Description'</span><span class="token punctuation">,</span> <span class="token string">'Level'</span><span class="token punctuation">,</span> <span class="token string">'Repeat'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    align<span class="token operator">=</span><span class="token string">'between'</span>
<span class="token punctuation">)</span>

<span class="token comment"># Shift them around so they don't overlap the text</span>
guides<span class="token punctuation">.</span>vertical<span class="token punctuation">.</span>snap_to_whitespace<span class="token punctuation">(</span>detection_method<span class="token operator">=</span><span class="token string">'text'</span><span class="token punctuation">)</span>

<span class="token comment"># add in horizontal lines in places where 80% of the pixels are 'used'</span>
guides<span class="token punctuation">.</span>horizontal<span class="token punctuation">.</span>from_lines<span class="token punctuation">(</span>threshold<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">)</span>

<span class="token comment"># Honestly you could have done the same thing for the vertical lines</span>
<span class="token comment"># but it isn't as fun as .from_content, you know?</span>
<span class="token comment"># n=5 finds the 5 most likely places based on pixel density</span>
<span class="token comment"># guides.vertical.from_lines(n=5)</span>

guides<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf.analyzers import Guides
guides = Guides(table_area)
guides.vertical.from_content([&#39;...
[DEBUG] Evaluating expression: guides.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_3.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_3.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>You can just extract the data with <code>.extract_table()</code>...</p>
</div> </div><div id="code-9" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df = guides.extract_table().to_df()
df" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>df <span class="token operator">=</span> guides<span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_df<span class="token punctuation">(</span><span class="token punctuation">)</span>
df</code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: df = guides.extract_table().to_df()...
[DEBUG] Evaluating expression: df...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>&lt;b&gt;Statute&lt;/b&gt;</th>
      <th>&lt;b&gt;Description&lt;/b&gt;</th>
      <th>Level</th>
      <th>Repeat?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.12.7</td>
      <td>Unsanitary Working Conditions.</td>
      <td>Critical</td>
      <td>&lt;math&gt;\boxtimes&lt;/math&gt;</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5.8.3</td>
      <td>Inadequate Protective Equipment.</td>
      <td>Serious</td>
      <td>&lt;math&gt;\boxtimes&lt;/math&gt;</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.3.9</td>
      <td>Ineffective Injury Prevention.</td>
      <td>Serious</td>
      <td>&lt;math display="inline"&gt;\Box&lt;/math&gt;</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7.1.5</td>
      <td>Failure to Properly Store Hazardous Materials.</td>
      <td>Critical</td>
      <td>&lt;math display="inline"&gt;\Box&lt;/math&gt;</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8.9.2</td>
      <td>Lack of Adequate Fire Safety Measures.</td>
      <td>Serious</td>
      <td>&lt;math display="inline"&gt;\overline{\phantom{a}}&lt;...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>9.6.4</td>
      <td>Inadequate Ventilation Systems.</td>
      <td>Serious</td>
      <td>&lt;math&gt;\boxtimes&lt;/math&gt;</td>
    </tr>
    <tr>
      <th>6</th>
      <td>10.2.7</td>
      <td>Insufficient Employee Training for Safe Work P...</td>
      <td>Serious</td>
      <td>&lt;math display="inline"&gt;\Box&lt;/math&gt;</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div id="code-10" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df.to_csv(&#34;output.csv&#34;, index=False)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">"output.csv"</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: df.to_csv(&#39;output.csv&#39;, index=False)...
</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>But if you want to actually do things with specific columns or have more control, you can ask the guides for specific columns or rows.</p>
</div> </div><div id="code-11" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="guides.columns[-1].show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>guides<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: guides.columns[-1].show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_4.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_4.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div id="code-12" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="guides.rows[3].show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>guides<span class="token punctuation">.</span>rows<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: guides.rows[3].show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_5.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_5.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h3>Figuring out information about things that are <em>not</em> text</h3>
<p>In a tiny preview of the next notebook: <strong>what about those checkboxes?</strong> Turns out we can use <strong>image classification AI</strong> to do it for us!</p>
</div> </div><div id="code-13" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="last_col = guides.columns[-1].expand(top=-40)
last_col.show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>last_col <span class="token operator">=</span> guides<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span>
last_col<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: last_col = guides.columns[-1].expand(top=-40)...
[DEBUG] Evaluating expression: last_col.show(crop=True)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_6.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_6.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div id="code-14" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="cells = guides.cells[-1][:]
cells = cells.expand(left=-60, right=-175, top=-16, bottom=-16)
cells.show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>cells <span class="token operator">=</span> guides<span class="token punctuation">.</span>cells<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
cells <span class="token operator">=</span> cells<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token operator">-</span><span class="token number">175</span><span class="token punctuation">,</span> top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">)</span>
cells<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: cells = guides.cells[-1][:]
cells = cells.expand(left=-60, right=-175, top=-16, bottom=-16)...
[DEBUG] Evaluating expression: cells.show(crop=True)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_7.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_7.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div id="code-15" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="cells.classify_all(['X', 'empty'], using='vision')" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>cells<span class="token punctuation">.</span>classify_all<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'X'</span><span class="token punctuation">,</span> <span class="token string">'empty'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> using<span class="token operator">=</span><span class="token string">'vision'</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: cells.classify_all([&#39;X&#39;, &#39;empty&#39;], using=&#39;vision&#39;)...
Classifying batch (openai/clip-vit-base-patch16):   0%|          | 0/4 [00:00&lt;?, ?it/s]                                                                                       </pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;ElementCollection[Region](count=4)&gt;</pre> </div>   </div> </div> </div> </div><div id="code-16" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="cells.apply(lambda cell: (cell.category, cell.category_confidence))" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>cells<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> cell<span class="token punctuation">:</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span>category<span class="token punctuation">,</span> cell<span class="token punctuation">.</span>category_confidence<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: cells.apply(lambda cell: (cell.category, cell.category_confidence))...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;ElementCollection[tuple](count=4)&gt;</pre> </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>It&#39;s like magic! We&#39;ll look at it more in another notebook.</p>
<h2>Correcting OCR</h2>
<p>While we love OCR when it works, it often does <em>not</em> work great. We have a few solutions: send humans after it, or use LLMs or spell check to correct it.</p>
<h3>With LLMs</h3>
<p>Let&#39;s OCR at a low resolution, then see what our text looks like.</p>
</div> </div><div id="code-17" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.apply_ocr(resolution=50)
page.find_all('text').inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span>resolution<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: page.apply_ocr(resolution=50)...
[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).inspect()...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]Rendering pages: 100%|##########| 1/1 [00:00&lt;00:00,  5.32it/s]                                                              /home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/torch/utils/data/dataloader.py:666: UserWarning: &#39;pin_memory&#39; argument is set as true but no accelerator is found, then device pinned memory won&#39;t be used.
  warnings.warn(warn_msg)
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (45 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jungle Health and Safety Inspection Service</td>
<td>799</td>
<td>73</td>
<td>1133</td>
<td>94</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td>0.72</td>
<td>#000000</td>
</tr>
<tr>
<td>INS-UPZONSINCLAIR</td>
<td>799</td>
<td>92</td>
<td>976</td>
<td>114</td>
<td>OCR</td>
<td></td>
<td>22</td>
<td></td>
<td>ocr</td>
<td>0.57</td>
<td>#000000</td>
</tr>
<tr>
<td>Site: Durham's Meatpacking Chicago</td>
<td>102</td>
<td>171</td>
<td>459</td>
<td>200</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.96</td>
<td>#000000</td>
</tr>
<tr>
<td>Date: February 3, 1905</td>
<td>101</td>
<td>210</td>
<td>331</td>
<td>245</td>
<td>OCR</td>
<td></td>
<td>35</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>Violation Count:</td>
<td>102</td>
<td>258</td>
<td>269</td>
<td>281</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.98</td>
<td>#000000</td>
</tr>
<tr>
<td>Summary: Worst of any, however;</td>
<td>101</td>
<td>297</td>
<td>425</td>
<td>324</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.64</td>
<td>#000000</td>
</tr>
<tr>
<td>were the fertilizer men; and those who served in t...</td>
<td>430</td>
<td>301</td>
<td>1052</td>
<td>327</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>ordinary</td>
<td>983</td>
<td>328</td>
<td>1068</td>
<td>363</td>
<td>OCR</td>
<td></td>
<td>35</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>These people could not be shown to the visitor</td>
<td>105</td>
<td>333</td>
<td>540</td>
<td>358</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.81</td>
<td>#000000</td>
</tr>
<tr>
<td>for the odor of a fertilizer man would scare any</td>
<td>548</td>
<td>333</td>
<td>986</td>
<td>358</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.97</td>
<td>#000000</td>
</tr>
<tr>
<td>who</td>
<td>583</td>
<td>365</td>
<td>628</td>
<td>389</td>
<td>OCR</td>
<td></td>
<td>24</td>
<td></td>
<td>ocr</td>
<td>0.53</td>
<td>#000000</td>
</tr>
<tr>
<td>hundred yards, and as for the other men_</td>
<td>203</td>
<td>366</td>
<td>580</td>
<td>393</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.95</td>
<td>#000000</td>
</tr>
<tr>
<td>worked in tank rooms full of steam; and in</td>
<td>632</td>
<td>367</td>
<td>1020</td>
<td>390</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.84</td>
<td>#000000</td>
</tr>
<tr>
<td>some of which there were open vats near the level ...</td>
<td>102</td>
<td>396</td>
<td>1038</td>
<td>425</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.68</td>
<td>#000000</td>
</tr>
<tr>
<td>into the vats; and when they were fished out, ther...</td>
<td>102</td>
<td>433</td>
<td>968</td>
<td>459</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>exhibiting</td>
<td>101</td>
<td>462</td>
<td>197</td>
<td>491</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.92</td>
<td>#000000</td>
</tr>
<tr>
<td>sometimes they would be overlooked for days, till ...</td>
<td>209</td>
<td>465</td>
<td>1032</td>
<td>491</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.83</td>
<td>#000000</td>
</tr>
<tr>
<td>to the world as Durham's Pure Leaf Lardl</td>
<td>102</td>
<td>499</td>
<td>488</td>
<td>523</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.94</td>
<td>#000000</td>
</tr>
<tr>
<td>Violations</td>
<td>101</td>
<td>772</td>
<td>224</td>
<td>800</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Repeat?</td>
<td>1051</td>
<td>826</td>
<td>1138</td>
<td>855</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.96</td>
<td>#000000</td>
</tr>
<tr>
<td>Statute</td>
<td>114</td>
<td>828</td>
<td>189</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Description</td>
<td>217</td>
<td>831</td>
<td>338</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Level</td>
<td>945</td>
<td>831</td>
<td>1006</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>4.12.7</td>
<td>111</td>
<td>868</td>
<td>174</td>
<td>894</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.99</td>
<td>#000000</td>
</tr>
<tr>
<td>Unsanitary Working Conditions</td>
<td>216</td>
<td>868</td>
<td>508</td>
<td>897</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Critical</td>
<td>945</td>
<td>871</td>
<td>1017</td>
<td>894</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Inadequate Protective Equipment:</td>
<td>216</td>
<td>908</td>
<td>534</td>
<td>938</td>
<td>OCR</td>
<td></td>
<td>30</td>
<td></td>
<td>ocr</td>
<td>0.66</td>
<td>#000000</td>
</tr>
<tr>
<td>5.8.3</td>
<td>114</td>
<td>911</td>
<td>165</td>
<td>934</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.65</td>
<td>#000000</td>
</tr>
<tr>
<td>Serious</td>
<td>948</td>
<td>911</td>
<td>1023</td>
<td>934</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Ineffective Injury Prevention:</td>
<td>217</td>
<td>953</td>
<td>485</td>
<td>980</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.73</td>
<td>#000000</td>
</tr>
<tr>
<td><em>Showing 30 of 45 elements (pass limit= to see more)</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Some of these are pretty easy - for example, &quot;Uraanilary Warking Conditions&quot; should be &quot;Unsanity working conditions.&quot; OCR tools just don&#39;t know that kind of thing! But what if we could go through each piece of text, some some sort of spell check or something?</p>
<p>You can use <code>correct_ocr</code> to change the text in a region.</p>
</div> </div><div id="code-18" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="def correct_text_region(region):
    return &#34;This is the updated text&#34;
    
page.correct_ocr(correct_text_region)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">def</span> <span class="token function">correct_text_region</span><span class="token punctuation">(</span>region<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"This is the updated text"</span>
    
page<span class="token punctuation">.</span>correct_ocr<span class="token punctuation">(</span>correct_text_region<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: def correct_text_region(region):
    return &#39;This is the updated text&#39;...
[DEBUG] Evaluating expression: page.correct_ocr(correct_text_region)...
Updating text Page 1:   0%|          | 0/45 [00:00&lt;?, ?element/s]                                                                 </pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>And then, magically, all of our text is whatever we <code>return</code>.</p>
</div> </div><div id="code-19" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.find_all('text').inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).inspect()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (45 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td>This is the updated text</td>
<td>799</td>
<td>73</td>
<td>1133</td>
<td>94</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td>0.72</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>799</td>
<td>92</td>
<td>976</td>
<td>114</td>
<td>OCR</td>
<td></td>
<td>22</td>
<td></td>
<td>ocr</td>
<td>0.57</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>102</td>
<td>171</td>
<td>459</td>
<td>200</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.96</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>101</td>
<td>210</td>
<td>331</td>
<td>245</td>
<td>OCR</td>
<td></td>
<td>35</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>102</td>
<td>258</td>
<td>269</td>
<td>281</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.98</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>101</td>
<td>297</td>
<td>425</td>
<td>324</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.64</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>430</td>
<td>301</td>
<td>1052</td>
<td>327</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>983</td>
<td>328</td>
<td>1068</td>
<td>363</td>
<td>OCR</td>
<td></td>
<td>35</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>105</td>
<td>333</td>
<td>540</td>
<td>358</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.81</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>548</td>
<td>333</td>
<td>986</td>
<td>358</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.97</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>583</td>
<td>365</td>
<td>628</td>
<td>389</td>
<td>OCR</td>
<td></td>
<td>24</td>
<td></td>
<td>ocr</td>
<td>0.53</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>203</td>
<td>366</td>
<td>580</td>
<td>393</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.95</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>632</td>
<td>367</td>
<td>1020</td>
<td>390</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.84</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>102</td>
<td>396</td>
<td>1038</td>
<td>425</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.68</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>102</td>
<td>433</td>
<td>968</td>
<td>459</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.69</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>101</td>
<td>462</td>
<td>197</td>
<td>491</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.92</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>209</td>
<td>465</td>
<td>1032</td>
<td>491</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.83</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>102</td>
<td>499</td>
<td>488</td>
<td>523</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.94</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>101</td>
<td>772</td>
<td>224</td>
<td>800</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>1051</td>
<td>826</td>
<td>1138</td>
<td>855</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>0.96</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>114</td>
<td>828</td>
<td>189</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>217</td>
<td>831</td>
<td>338</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>945</td>
<td>831</td>
<td>1006</td>
<td>854</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>111</td>
<td>868</td>
<td>174</td>
<td>894</td>
<td>OCR</td>
<td></td>
<td>26</td>
<td></td>
<td>ocr</td>
<td>0.99</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>216</td>
<td>868</td>
<td>508</td>
<td>897</td>
<td>OCR</td>
<td></td>
<td>29</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>945</td>
<td>871</td>
<td>1017</td>
<td>894</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>216</td>
<td>908</td>
<td>534</td>
<td>938</td>
<td>OCR</td>
<td></td>
<td>30</td>
<td></td>
<td>ocr</td>
<td>0.66</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>114</td>
<td>911</td>
<td>165</td>
<td>934</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>0.65</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>948</td>
<td>911</td>
<td>1023</td>
<td>934</td>
<td>OCR</td>
<td></td>
<td>23</td>
<td></td>
<td>ocr</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>This is the updated text</td>
<td>217</td>
<td>953</td>
<td>485</td>
<td>980</td>
<td>OCR</td>
<td></td>
<td>27</td>
<td></td>
<td>ocr</td>
<td>0.73</td>
<td>#000000</td>
</tr>
<tr>
<td><em>Showing 30 of 45 elements (pass limit= to see more)</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>But clearly we don&#39;t want the same thing every time! Let&#39;s add the bad OCR back in...</p>
</div> </div><div id="code-20" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="# Re-apply the OCR to break it again
page.apply_ocr('surya', resolution=15)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token comment"># Re-apply the OCR to break it again</span>
page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span><span class="token string">'surya'</span><span class="token punctuation">,</span> resolution<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.apply_ocr(&#39;surya&#39;, resolution=15)...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]                                                      Detecting bboxes:   0%|          | 0/1 [00:00&lt;?, ?it/s]Detecting bboxes: 100%|##########| 1/1 [00:02&lt;00:00,  2.75s/it]Detecting bboxes: 100%|##########| 1/1 [00:02&lt;00:00,  2.75s/it]
Recognizing Text:   0%|          | 0/46 [00:00&lt;?, ?it/s]Recognizing Text:   2%|2         | 1/46 [00:26&lt;19:37, 26.17s/it]Recognizing Text:   4%|4         | 2/46 [00:26&lt;08:06, 11.05s/it]Recognizing Text:   9%|8         | 4/46 [00:27&lt;02:59,  4.27s/it]Recognizing Text:  15%|#5        | 7/46 [00:28&lt;01:18,  2.00s/it]Recognizing Text:  17%|#7        | 8/46 [00:32&lt;01:37,  2.57s/it]Recognizing Text:  26%|##6       | 12/46 [00:33&lt;00:43,  1.29s/it]Recognizing Text:  28%|##8       | 13/46 [00:34&lt;00:38,  1.15s/it]Recognizing Text:  35%|###4      | 16/46 [00:39&lt;00:41,  1.37s/it]Recognizing Text:  37%|###6      | 17/46 [00:39&lt;00:35,  1.22s/it]Recognizing Text:  41%|####1     | 19/46 [00:40&lt;00:24,  1.10it/s]Recognizing Text:  43%|####3     | 20/46 [00:40&lt;00:21,  1.21it/s]Recognizing Text:  46%|####5     | 21/46 [00:41&lt;00:18,  1.33it/s]Recognizing Text:  48%|####7     | 22/46 [00:41&lt;00:16,  1.45it/s]Recognizing Text:  50%|#####     | 23/46 [00:42&lt;00:14,  1.57it/s]Recognizing Text:  57%|#####6    | 26/46 [00:42&lt;00:07,  2.56it/s]Recognizing Text:  59%|#####8    | 27/46 [00:43&lt;00:09,  1.99it/s]Recognizing Text:  61%|######    | 28/46 [00:43&lt;00:08,  2.01it/s]Recognizing Text:  65%|######5   | 30/46 [00:46&lt;00:13,  1.16it/s]Recognizing Text:  67%|######7   | 31/46 [00:47&lt;00:11,  1.28it/s]Recognizing Text:  74%|#######3  | 34/46 [00:49&lt;00:09,  1.26it/s]Recognizing Text:  76%|#######6  | 35/46 [00:50&lt;00:09,  1.20it/s]Recognizing Text:  78%|#######8  | 36/46 [00:52&lt;00:09,  1.04it/s]Recognizing Text:  83%|########2 | 38/46 [00:53&lt;00:06,  1.27it/s]Recognizing Text:  85%|########4 | 39/46 [00:55&lt;00:07,  1.03s/it]Recognizing Text:  87%|########6 | 40/46 [01:00&lt;00:11,  1.94s/it]Recognizing Text:  89%|########9 | 41/46 [01:18&lt;00:30,  6.10s/it]Recognizing Text:  91%|#########1| 42/46 [01:19&lt;00:19,  4.77s/it]Recognizing Text:  93%|#########3| 43/46 [01:21&lt;00:12,  4.03s/it]Recognizing Text:  96%|#########5| 44/46 [01:22&lt;00:06,  3.05s/it]Recognizing Text:  98%|#########7| 45/46 [01:24&lt;00:02,  2.92s/it]Recognizing Text: 100%|##########| 46/46 [01:25&lt;00:00,  2.22s/it]Recognizing Text: 100%|##########| 46/46 [01:25&lt;00:00,  1.86s/it]
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>...and feed each line to an LLM trying to fix it.</p>
</div> </div><div id="code-21" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="import os
from openai import OpenAI
from natural_pdf.ocr.utils import direct_ocr_llm

# Set your API key as an environment variable:
# export OPENAI_API_KEY=&#34;your_actual_api_key&#34;
client = OpenAI(api_key=os.environ.get('OPENAI_API_KEY'))

prompt = &#34;&#34;&#34;
Correct the spelling of this OCR'd text, a snippet of a document.
Preserve original capitalization, punctuation, and symbols. 
Changing meaning is okay if it's clearly an OCR issue.
Do not add any explanatory text, translations, comments, or quotation marks around the result.
&#34;&#34;&#34;

def correct_text_region(region):
    text = region.extract_text()
    completion = client.chat.completions.create(
        model=&#34;gpt-4o-nano&#34;,
        messages=[
            {
                &#34;role&#34;: &#34;system&#34;, &#34;content&#34;: prompt
            },
            {
                &#34;role&#34;: &#34;user&#34;,
                &#34;content&#34;: text
            },
        ],
    )

    updated = completion.choices[0].message.content

    if text != updated:    
        print(f&#34;OLD: {text}\nNEW:{updated}&#34;) 

    return updated

page.correct_ocr(correct_text_region)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">import</span> os
<span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI
<span class="token keyword">from</span> natural_pdf<span class="token punctuation">.</span>ocr<span class="token punctuation">.</span>utils <span class="token keyword">import</span> direct_ocr_llm

<span class="token comment"># Set your API key as an environment variable:</span>
<span class="token comment"># export OPENAI_API_KEY="your_actual_api_key"</span>
client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span>api_key<span class="token operator">=</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'OPENAI_API_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

prompt <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
Correct the spelling of this OCR'd text, a snippet of a document.
Preserve original capitalization, punctuation, and symbols. 
Changing meaning is okay if it's clearly an OCR issue.
Do not add any explanatory text, translations, comments, or quotation marks around the result.
"""</span>

<span class="token keyword">def</span> <span class="token function">correct_text_region</span><span class="token punctuation">(</span>region<span class="token punctuation">)</span><span class="token punctuation">:</span>
    text <span class="token operator">=</span> region<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    completion <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model<span class="token operator">=</span><span class="token string">"gpt-4o-nano"</span><span class="token punctuation">,</span>
        messages<span class="token operator">=</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> prompt
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
                <span class="token string">"content"</span><span class="token punctuation">:</span> text
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

    updated <span class="token operator">=</span> completion<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content

    <span class="token keyword">if</span> text <span class="token operator">!=</span> updated<span class="token punctuation">:</span>    
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"OLD: </span><span class="token interpolation"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token string">\nNEW:</span><span class="token interpolation"><span class="token punctuation">{</span>updated<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span> 

    <span class="token keyword">return</span> updated

page<span class="token punctuation">.</span>correct_ocr<span class="token punctuation">(</span>correct_text_region<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: import os
from openai import OpenAI
from natural_pdf.ocr.utils import direct_ocr_llm
client = OpenAI...
[DEBUG] Evaluating expression: page.correct_ocr(correct_text_region)...
Updating text Page 1:   0%|          | 0/42 [00:00&lt;?, ?element/s]Updating text Page 1:   2%|2         | 1/42 [00:02&lt;01:41,  2.47s/element]Updating text Page 1:   5%|4         | 2/42 [00:03&lt;00:54,  1.35s/element]Updating text Page 1:   7%|7         | 3/42 [00:03&lt;00:30,  1.28element/s]Updating text Page 1:  10%|9         | 4/42 [00:03&lt;00:29,  1.29element/s]Updating text Page 1:  12%|#1        | 5/42 [00:04&lt;00:19,  1.86element/s]Updating text Page 1:  14%|#4        | 6/42 [00:04&lt;00:14,  2.56element/s]Updating text Page 1:  17%|#6        | 7/42 [00:04&lt;00:10,  3.35element/s]Updating text Page 1:  19%|#9        | 8/42 [00:05&lt;00:21,  1.55element/s]Updating text Page 1:  21%|##1       | 9/42 [00:06&lt;00:21,  1.53element/s]Updating text Page 1:  24%|##3       | 10/42 [00:06&lt;00:15,  2.06element/s]Updating text Page 1:  26%|##6       | 11/42 [00:06&lt;00:14,  2.20element/s]Updating text Page 1:  29%|##8       | 12/42 [00:06&lt;00:10,  2.86element/s]Updating text Page 1:  31%|###       | 13/42 [00:07&lt;00:08,  3.34element/s]Updating text Page 1:  33%|###3      | 14/42 [00:08&lt;00:16,  1.69element/s]Updating text Page 1:  36%|###5      | 15/42 [00:08&lt;00:12,  2.23element/s]Updating text Page 1:  38%|###8      | 16/42 [00:08&lt;00:09,  2.85element/s]Updating text Page 1:  40%|####      | 17/42 [00:08&lt;00:06,  3.59element/s]Updating text Page 1:  43%|####2     | 18/42 [00:08&lt;00:05,  4.41element/s]Updating text Page 1:  45%|####5     | 19/42 [00:08&lt;00:04,  5.27element/s]Updating text Page 1:  50%|#####     | 21/42 [00:09&lt;00:03,  6.76element/s]Updating text Page 1:  52%|#####2    | 22/42 [00:09&lt;00:02,  6.85element/s]Updating text Page 1:  57%|#####7    | 24/42 [00:09&lt;00:02,  7.71element/s]Updating text Page 1:  60%|#####9    | 25/42 [00:09&lt;00:02,  8.01element/s]Updating text Page 1:  62%|######1   | 26/42 [00:09&lt;00:01,  8.13element/s]Updating text Page 1:  64%|######4   | 27/42 [00:09&lt;00:01,  8.35element/s]Updating text Page 1:  67%|######6   | 28/42 [00:09&lt;00:01,  8.73element/s]Updating text Page 1:  71%|#######1  | 30/42 [00:10&lt;00:01, 10.40element/s]Updating text Page 1:  76%|#######6  | 32/42 [00:10&lt;00:01,  9.61element/s]Updating text Page 1:  79%|#######8  | 33/42 [00:10&lt;00:00,  9.02element/s]Updating text Page 1:  81%|########  | 34/42 [00:11&lt;00:02,  3.14element/s]Updating text Page 1:  83%|########3 | 35/42 [00:11&lt;00:01,  3.68element/s]Updating text Page 1:  86%|########5 | 36/42 [00:11&lt;00:01,  4.38element/s]Updating text Page 1:  88%|########8 | 37/42 [00:11&lt;00:00,  5.11element/s]Updating text Page 1:  90%|######### | 38/42 [00:11&lt;00:00,  5.73element/s]Updating text Page 1:  93%|#########2| 39/42 [00:11&lt;00:00,  6.27element/s]Updating text Page 1:  95%|#########5| 40/42 [00:12&lt;00:00,  6.82element/s]Updating text Page 1:  98%|#########7| 41/42 [00:12&lt;00:00,  7.46element/s]Updating text Page 1: 100%|##########| 42/42 [00:12&lt;00:00,  7.92element/s]                                                                          </pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>And now we can use <code>.extract_text()</code> the magical same way.</p>
<p>The real benefit of this vs sending the whole document to the LLM is <em>we don&#39;t change where the text is</em>. An LLM might OCR something for us, but it <em>loses the spatial context that we find so important</em>.</p>
</div> </div><div id="code-22" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = page.extract_text()
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = page.extract_text()...
[DEBUG] Evaluating expression: print(text)...
Angle Health and Safety Inspection Service
&lt;b&gt;RELIGIONS ENGLISH&lt;/b&gt;
&lt;b&gt;Blue Durham&#39;s Mostpacking Chicago, III&lt;/b&gt;
Date: Calinary 3, 1995
&lt;b&gt;Victorian Passet 3&lt;/b&gt;
Summary, Wast of any, havever, were the fertilizer men, and these who served in the coulding rooms.
These people could not be above to the visitor - for the oder of a fedilizer man would econy any ordinary
visitor at a hundred years, and as for the other men, who worked in tank rooms full of steam, and in
some photost there were open rath near the level of the floor, their presilier trouble was that they fell.
into the vate; and when they ware fished out, there was never anough of them left to be worth
solding - sendimes flow would be overlooked for days, 38 all but the bones of them had gone out
In the world as Darbory&#39;s Pure Leaf Land
Winterland
&lt;b&gt;Statute&lt;/b&gt; Description Level Regeart
6527 Uraanitary Markins Conditions. Oitout 33
683 Inationals Detection Engineers &lt;b&gt;Carinus&lt;/b&gt; 51
638 Institution Injury Presention &lt;b&gt;Serious&lt;/b&gt;
Fallure to Property Store Hazardous Materials. Colorad &lt;math&gt;\mathbf{r}&lt;/math&gt;
0.92 Leck of Adequate Fine Solidy Moseums. Gerinus
0.6.6 Inadequate Ventilation Systems &lt;b&gt;Renner&lt;/b&gt; 53
15.97 Insufficient Employee Training for Suds Vibri Practices. &lt;math&gt;\mathbf{r}&lt;/math&gt;
Angle Hoffi and Safey transdenderen
</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h2>Let&#39;s do the OCR with the LLM, period</h2>
<p>But if the LLM is <em>that good</em> at OCR, we can also find pieces of the page we would like to OCR and <em>send them each in isolation to the LLM</em>. We use <code>detect_only=True</code> so it doesn&#39;t try to figure out what the text is, just that the text is there.</p>
</div> </div><div id="code-23" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.apply_ocr('surya', detect_only=True)
page.find_all('text').show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span><span class="token string">'surya'</span><span class="token punctuation">,</span> detect_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: page.apply_ocr(&#39;surya&#39;, detect_only=True)...
[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).show()...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]Rendering pages: 100%|##########| 1/1 [00:00&lt;00:00,  3.00it/s]                                                              Detecting bboxes:   0%|          | 0/1 [00:00&lt;?, ?it/s]Detecting bboxes: 100%|##########| 1/1 [00:08&lt;00:00,  8.39s/it]Detecting bboxes: 100%|##########| 1/1 [00:08&lt;00:00,  8.39s/it]
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_8.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/ocr-example/ocr-example/images/image_8.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div id="code-24" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.find_all('text').inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).inspect()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (46 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>798</td>
<td>74</td>
<td>1133</td>
<td>91</td>
<td>OCR</td>
<td></td>
<td>17</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>800</td>
<td>95</td>
<td>976</td>
<td>110</td>
<td>OCR</td>
<td></td>
<td>15</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>177</td>
<td>492</td>
<td>195</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>218</td>
<td>330</td>
<td>237</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>101</td>
<td>259</td>
<td>286</td>
<td>276</td>
<td>OCR</td>
<td></td>
<td>17</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>300</td>
<td>1057</td>
<td>320</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>103</td>
<td>335</td>
<td>1067</td>
<td>354</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>368</td>
<td>1022</td>
<td>387</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>401</td>
<td>1039</td>
<td>420</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>435</td>
<td>968</td>
<td>454</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>468</td>
<td>1033</td>
<td>487</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>100</td>
<td>500</td>
<td>488</td>
<td>517</td>
<td>OCR</td>
<td></td>
<td>17</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>101</td>
<td>778</td>
<td>227</td>
<td>797</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>1048</td>
<td>828</td>
<td>1140</td>
<td>850</td>
<td>OCR</td>
<td></td>
<td>22</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>214</td>
<td>830</td>
<td>338</td>
<td>850</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>943</td>
<td>830</td>
<td>1007</td>
<td>849</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>111</td>
<td>831</td>
<td>189</td>
<td>848</td>
<td>OCR</td>
<td></td>
<td>17</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>214</td>
<td>870</td>
<td>512</td>
<td>893</td>
<td>OCR</td>
<td></td>
<td>24</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>1079</td>
<td>870</td>
<td>1105</td>
<td>890</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>110</td>
<td>872</td>
<td>177</td>
<td>890</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>945</td>
<td>872</td>
<td>1015</td>
<td>890</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>1078</td>
<td>912</td>
<td>1105</td>
<td>931</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>111</td>
<td>913</td>
<td>166</td>
<td>931</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>215</td>
<td>913</td>
<td>536</td>
<td>933</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>945</td>
<td>913</td>
<td>1022</td>
<td>932</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>1078</td>
<td>953</td>
<td>1103</td>
<td>972</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>110</td>
<td>955</td>
<td>166</td>
<td>973</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>215</td>
<td>955</td>
<td>485</td>
<td>975</td>
<td>OCR</td>
<td></td>
<td>20</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>945</td>
<td>955</td>
<td>1022</td>
<td>973</td>
<td>OCR</td>
<td></td>
<td>18</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>1078</td>
<td>995</td>
<td>1103</td>
<td>1014</td>
<td>OCR</td>
<td></td>
<td>19</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td><em>Showing 30 of 46 elements (pass limit= to see more)</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Now we&#39;ll do an even fancier <code>correct_text_region</code>: it takes the region as an image, and sends it right on over to the LLM for OCR.</p>
</div> </div><div id="code-25" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="import os
from openai import OpenAI
from natural_pdf.ocr.utils import direct_ocr_llm

# Set your API key as an environment variable:
# export OPENAI_API_KEY=&#34;your_actual_api_key&#34;
client = OpenAI(api_key=os.environ.get('OPENAI_API_KEY'))

prompt = &#34;&#34;&#34;OCR this image patch. Return only the exact text content visible in the image. 
Preserve original spelling, capitalization, punctuation, and symbols.
Fix misspellings if they are the result of blurry or incorrect OCR.
Do not add any explanatory text, translations, comments, or quotation marks around the result.
If you cannot process the image or do not see any text, return an empty space.
The text is from an inspection report of a slaughterhouse.&#34;&#34;&#34;
# The text is likely from a Greek document, potentially a spreadsheet, containing Modern Greek words or numbers

def correct_text_region(region):
    # Use a high resolution for the LLM call for best accuracy
    return direct_ocr_llm(
        region, 
        client, 
        prompt=prompt, 
        resolution=150, 
        model=&#34;gpt-4o&#34; 
    )

page.correct_ocr(correct_text_region)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">import</span> os
<span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI
<span class="token keyword">from</span> natural_pdf<span class="token punctuation">.</span>ocr<span class="token punctuation">.</span>utils <span class="token keyword">import</span> direct_ocr_llm

<span class="token comment"># Set your API key as an environment variable:</span>
<span class="token comment"># export OPENAI_API_KEY="your_actual_api_key"</span>
client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span>api_key<span class="token operator">=</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'OPENAI_API_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

prompt <span class="token operator">=</span> <span class="token triple-quoted-string string">"""OCR this image patch. Return only the exact text content visible in the image. 
Preserve original spelling, capitalization, punctuation, and symbols.
Fix misspellings if they are the result of blurry or incorrect OCR.
Do not add any explanatory text, translations, comments, or quotation marks around the result.
If you cannot process the image or do not see any text, return an empty space.
The text is from an inspection report of a slaughterhouse."""</span>
<span class="token comment"># The text is likely from a Greek document, potentially a spreadsheet, containing Modern Greek words or numbers</span>

<span class="token keyword">def</span> <span class="token function">correct_text_region</span><span class="token punctuation">(</span>region<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Use a high resolution for the LLM call for best accuracy</span>
    <span class="token keyword">return</span> direct_ocr_llm<span class="token punctuation">(</span>
        region<span class="token punctuation">,</span> 
        client<span class="token punctuation">,</span> 
        prompt<span class="token operator">=</span>prompt<span class="token punctuation">,</span> 
        resolution<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">,</span> 
        model<span class="token operator">=</span><span class="token string">"gpt-4o"</span> 
    <span class="token punctuation">)</span>

page<span class="token punctuation">.</span>correct_ocr<span class="token punctuation">(</span>correct_text_region<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: import os
from openai import OpenAI
from natural_pdf.ocr.utils import direct_ocr_llm
client = OpenAI...
[DEBUG] Evaluating expression: page.correct_ocr(correct_text_region)...
Updating text Page 1:   0%|          | 0/46 [00:00&lt;?, ?element/s]Updating text Page 1:   2%|2         | 1/46 [00:10&lt;07:44, 10.33s/element]Updating text Page 1:   4%|4         | 2/46 [00:25&lt;09:35, 13.09s/element]Updating text Page 1:   7%|6         | 3/46 [00:34&lt;08:06, 11.32s/element]Updating text Page 1:   9%|8         | 4/46 [00:44&lt;07:28, 10.67s/element]Updating text Page 1:  11%|#         | 5/46 [00:55&lt;07:20, 10.74s/element]Updating text Page 1:  13%|#3        | 6/46 [01:05&lt;07:09, 10.75s/element]Updating text Page 1:  15%|#5        | 7/46 [01:17&lt;07:04, 10.90s/element]Updating text Page 1:  17%|#7        | 8/46 [01:28&lt;06:56, 10.97s/element]Updating text Page 1:  20%|#9        | 9/46 [01:39&lt;06:50, 11.09s/element]Updating text Page 1:  22%|##1       | 10/46 [01:50&lt;06:35, 10.98s/element]Updating text Page 1:  24%|##3       | 11/46 [02:00&lt;06:14, 10.71s/element]Updating text Page 1:  26%|##6       | 12/46 [02:07&lt;05:28,  9.65s/element]Updating text Page 1:  28%|##8       | 13/46 [02:21&lt;05:56, 10.81s/element]Updating text Page 1:  30%|###       | 14/46 [02:32&lt;05:47, 10.85s/element]Updating text Page 1:  33%|###2      | 15/46 [02:44&lt;05:50, 11.32s/element]Updating text Page 1:  35%|###4      | 16/46 [03:10&lt;07:48, 15.62s/element]Updating text Page 1:  37%|###6      | 17/46 [03:19&lt;06:38, 13.75s/element]Updating text Page 1:  39%|###9      | 18/46 [03:31&lt;06:12, 13.29s/element]Updating text Page 1:  41%|####1     | 19/46 [03:45&lt;06:05, 13.55s/element]Updating text Page 1:  43%|####3     | 20/46 [03:56&lt;05:26, 12.57s/element]Updating text Page 1:  46%|####5     | 21/46 [04:09&lt;05:17, 12.70s/element]Updating text Page 1:  48%|####7     | 22/46 [04:20&lt;04:54, 12.26s/element]Updating text Page 1:  50%|#####     | 23/46 [04:28&lt;04:14, 11.09s/element]Updating text Page 1:  52%|#####2    | 24/46 [04:46&lt;04:50, 13.19s/element]Updating text Page 1:  54%|#####4    | 25/46 [04:58&lt;04:28, 12.77s/element]Updating text Page 1:  57%|#####6    | 26/46 [05:09&lt;04:02, 12.10s/element]Updating text Page 1:  59%|#####8    | 27/46 [05:20&lt;03:45, 11.87s/element]Updating text Page 1:  61%|######    | 28/46 [05:30&lt;03:25, 11.42s/element]Updating text Page 1:  63%|######3   | 29/46 [05:42&lt;03:17, 11.64s/element]Updating text Page 1:  65%|######5   | 30/46 [05:54&lt;03:04, 11.53s/element]Updating text Page 1:  67%|######7   | 31/46 [06:04&lt;02:47, 11.18s/element]Updating text Page 1:  70%|######9   | 32/46 [06:10&lt;02:15,  9.70s/element]Updating text Page 1:  72%|#######1  | 33/46 [06:21&lt;02:10, 10.01s/element]Updating text Page 1:  74%|#######3  | 34/46 [06:31&lt;02:00, 10.00s/element]Updating text Page 1:  76%|#######6  | 35/46 [06:43&lt;01:56, 10.55s/element]Updating text Page 1:  78%|#######8  | 36/46 [06:53&lt;01:44, 10.41s/element]Updating text Page 1:  80%|########  | 37/46 [07:01&lt;01:26,  9.65s/element]Updating text Page 1:  83%|########2 | 38/46 [07:08&lt;01:10,  8.82s/element]Updating text Page 1:  85%|########4 | 39/46 [07:17&lt;01:02,  8.91s/element]Updating text Page 1:  87%|########6 | 40/46 [07:27&lt;00:55,  9.24s/element]Updating text Page 1:  89%|########9 | 41/46 [07:37&lt;00:47,  9.53s/element]Updating text Page 1:  91%|#########1| 42/46 [07:47&lt;00:38,  9.71s/element]Updating text Page 1:  93%|#########3| 43/46 [07:59&lt;00:30, 10.22s/element]Updating text Page 1:  96%|#########5| 44/46 [08:06&lt;00:18,  9.33s/element]Updating text Page 1:  98%|#########7| 45/46 [08:21&lt;00:10, 10.94s/element]Updating text Page 1: 100%|##########| 46/46 [08:31&lt;00:00, 10.70s/element]                                                                          </pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>&lt;Page number=1 index=0&gt;</pre> </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>What do we have now?</p>
</div> </div><div id="code-26" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.find_all('text').inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).inspect()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (46 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td>Site: Durham’s Meatpacking  Chicago, Ill.</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Date: Fe...</td>
<td>798</td>
<td>74</td>
<td>1133</td>
<td>91</td>
<td>OCR</td>
<td></td>
<td>17</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td>Site: Durham’s Meatpacking  Chicago, Ill.</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Date:  F...</td>
<td>800</td>
<td>95</td>
<td>976</td>
<td>110</td>
<td>OCR</td>
<td></td>
<td>15</td>
<td></td>
<td>ocr</td>
<td></td>
<td>#000000</td>
</tr>
<tr>
<td>Site: Durham’s Meatpacking  Chicago, Ill.</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Date:  ... | 100 | 177 | 492 | 195 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 100 | 218 | 330 | 237 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 101 | 259 | 286 | 276 | OCR |  | 17 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.<br />
Date: ... | 100 | 300 | 1057 | 320 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham's Meatpacking  Chicago, Ill.
Date:  F... | 103 | 335 | 1067 | 354 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 100 | 368 | 1022 | 387 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham's Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 100 | 401 | 1039 | 420 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.
Date:  F... | 100 | 435 | 968 | 454 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking Chicago, Ill.
Date: Feb... | 100 | 468 | 1033 | 487 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.  </p>
<p>Date:... | 100 | 500 | 488 | 517 | OCR |  | 17 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 101 | 778 | 227 | 797 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 1048 | 828 | 1140 | 850 | OCR |  | 22 |  | ocr |  | #000000 |
| Site:  Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: ... | 214 | 830 | 338 | 850 | OCR |  | 20 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.
Date:  F... | 943 | 830 | 1007 | 849 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 111 | 831 | 189 | 848 | OCR |  | 17 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 214 | 870 | 512 | 893 | OCR |  | 24 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 1079 | 870 | 1105 | 890 | OCR |  | 20 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 110 | 872 | 177 | 890 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 945 | 872 | 1015 | 890 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 1078 | 912 | 1105 | 931 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill. </p>
<p>Date: ... | 111 | 913 | 166 | 931 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham's Meatpacking  Chicago, Ill. </p>
<p>Date: ... | 215 | 913 | 536 | 933 | OCR |  | 20 |  | ocr |  | #000000 |
| Jungle Health and Safety Inspection Service
INS-UP... | 945 | 913 | 1022 | 932 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 1078 | 953 | 1103 | 972 | OCR |  | 19 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 110 | 955 | 166 | 973 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date: F... | 215 | 955 | 485 | 975 | OCR |  | 20 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 945 | 955 | 1022 | 973 | OCR |  | 18 |  | ocr |  | #000000 |
| Site: Durham’s Meatpacking  Chicago, Ill.</p>
<p>Date:  ... | 1078 | 995 | 1103 | 1014 | OCR |  | 19 |  | ocr |  | #000000 |
<em>Showing 30 of 46 elements (pass limit= to see more)</em></p></div>  </div>   </div> </div> </div> </div><div id="code-27" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = page.extract_text()
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = page.extract_text()...
[DEBUG] Evaluating expression: print(text)...
Site: Durham’s Meatpacking  Chicago, Ill.
Date: February 3, 1905
Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute    Description                                                                                                   Level                Repeat?
4.12.7      Unsanitary Working Conditions.                                                                    Critical              ☒
5.8.3        Inadequate Protective Equipment.                                                                Serious                 ☐
6.3.9        Ineffective Injury Prevention.                                                                        Serious                 ☐
7.1.5        Failure to Properly Store Hazardous Materials.                                      Critical                 ☐
8.9.2        Lack of Adequate Fire Safety Measures.                                                  Serious                 ☐
9.6.4        Inadequate Ventilation Systems.                                                                Serious                 ☒
10.2.7      Insufficient Employee Training for Safe Work Practices.                     Serious                ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!
_________________________________________________________________________
Violations
 Statute  Description  Level  Repeat?
4.12.7  Unsanitary Working Conditions.  Critical ☒
5.8.3  Inadequate Protective Equipment.  Serious ☒
6.3.9  Ineffective Injury Prevention.  Serious ☐
7.1.5  Failure to Properly Store Hazardous Materials.  Critical ☐
8.9.2  Lack of Adequate Fire Safety Measures.  Serious ☐
9.6.4  Inadequate Ventilation Systems.  Serious ☒
10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious ☐
_________________________________________________________________________
Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute    Description                                                      Level      Repeat?
4.12.7    Unsanitary Working Conditions.                  Critical
5.8.3      Inadequate Protective Equipment.              Serious     ⌧
6.3.9      Ineffective Injury Prevention.                         Serious
7.1.5      Failure to Properly Store Hazardous Materials. Critical
8.9.2      Lack of Adequate Fire Safety Measures.     Serious
9.6.4      Inadequate Ventilation Systems.                   Serious     ⌧
10.2.7   Insufficient Employee Training for Safe Work Practices. Serious

Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute Description Level Repeat?

4.12.7 Unsanitary Working Conditions. Critical ☒
5.8.3 Inadequate Protective Equipment. Serious ☒
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ☒
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute   Description                                                                       Level          Repeat?
4.12.7    Unsanitary Working Conditions.                                     Critical
5.8.3      Inadequate Protective Equipment.                                 Serious
6.3.9      Ineffective Injury Prevention.                                            Serious
7.1.5      Failure to Properly Store Hazardous Materials.            Critical
8.9.2      Lack of Adequate Fire Safety Measures.                        Serious
9.6.4      Inadequate Ventilation Systems.                                     Serious
10.2.7    Insufficient Employee Training for Safe Work Practices. Serious

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.
Date: February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description  Level  Repeat?
4.12.7  Unsanitary Working Conditions.  Critical  ☒
5.8.3  Inadequate Protective Equipment.  Serious  ☒
6.3.9  Ineffective Injury Prevention.  Serious  ☐
7.1.5  Failure to Properly Store Hazardous Materials.  Critical  ☐
8.9.2  Lack of Adequate Fire Safety Measures.  Serious  ☐
9.6.4  Inadequate Ventilation Systems.  Serious  ☒
10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious  ☐

Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R
Site: Durham&#39;s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?

4.12.7	Unsanitary Working Conditions.	Critical	☒
5.8.3	Inadequate Protective Equipment.	Serious	☒
6.3.9	Ineffective Injury Prevention.	Serious	☐
7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☐
8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐
9.6.4	Inadequate Ventilation Systems.	Serious	☒
10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute   Description                                                                               Level        Repeat?
4.12.7      Unsanitary Working Conditions.                               Critical         ☐
5.8.3        Inadequate Protective Equipment.                             Serious       ☒
6.3.9        Ineffective Injury Prevention.                                      Serious       ☐
7.1.5        Failure to Properly Store Hazardous Materials.    Critical         ☐
8.9.2        Lack of Adequate Fire Safety Measures.                 Serious       ☐
9.6.4        Inadequate Ventilation Systems.                              Serious       ☒
10.2.7      Insufficient Employee Training for Safe Work Practices.    Serious       ☐

Jungle Health and Safety Inspection Service
Site: Durham&#39;s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute 	Description 	Level 	Repeat?

4.12.7 	Unsanitary Working Conditions. 	Critical 	✂
5.8.3 	Inadequate Protective Equipment. 	Serious 	☒
6.3.9 	Ineffective Injury Prevention. 	Serious 	☐
7.1.5 	Failure to Properly Store Hazardous Materials. 	Critical 	☐
8.9.2 	Lack of Adequate Fire Safety Measures. 	Serious 	☐
9.6.4 	Inadequate Ventilation Systems. 	Serious 	☒
10.2.7 	Insufficient Employee Training for Safe Work Practices. 	Serious 	☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!
Violations
Statute  Description Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical ✆
5.8.3 Inadequate Protective Equipment. Serious ☐
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ✆
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking Chicago, Ill.
Date: February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations
Statute Description Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical ☒
5.8.3 Inadequate Protective Equipment. Serious ☒
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ☒
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute    Description                                                                                       Level                  Repeat?

4.12.7     Unsanitary Working Conditions.                                                  Critical                 ☒

5.8.3       Inadequate Protective Equipment.                                                Serious                  ☐

6.3.9       Ineffective Injury Prevention.                                                         Serious                  ☐

7.1.5       Failure to Properly Store Hazardous Materials.                Critical                 ☐

8.9.2       Lack of Adequate Fire Safety Measures.                              Serious                  ☐

9.6.4       Inadequate Ventilation Systems.                                               Serious                  ☐

10.2.7     Insufficient Employee Training for Safe Work Practices.  Serious                  ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description                                                                     Level        Repeat?

4.12.7   Unsanitary Working Conditions.                                   Critical       ☒

5.8.3    Inadequate Protective Equipment.                                Serious        ☒

6.3.9    Ineffective Injury Prevention.                                       Serious        ☐

7.1.5    Failure to Properly Store Hazardous Materials.        Critical        ☐

8.9.2    Lack of Adequate Fire Safety Measures.                   Serious        ☐

9.6.4    Inadequate Ventilation Systems.                             Serious        ☒

10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious        ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?

4.12.7	Unsanitary Working Conditions.	Critical	☒

5.8.3	Inadequate Protective Equipment.	Serious	☒

6.3.9	Ineffective Injury Prevention.	Serious

7.1.5	Failure to Properly Store Hazardous Materials.	Critical

8.9.2	Lack of Adequate Fire Safety Measures.	Serious

9.6.4	Inadequate Ventilation Systems.	Serious	☒

10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious

Jungle Health and Safety Inspection Service

INS-UP70N51NCL41R Site:  Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count:  7

Summary:  Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute                 Description                                                                  Level              Repeat?

4.12.7                 Unsanitary Working Conditions.                                     Critical            ☒

5.8.3                   Inadequate Protective Equipment.                                  Serious           ☒

6.3.9                   Ineffective Injury Prevention.                                             Serious           ☐

7.1.5                   Failure to Properly Store Hazardous Materials.            Critical             ☐

8.9.2                   Lack of Adequate Fire Safety Measures.                         Serious           ☐

9.6.4                   Inadequate Ventilation Systems.                                      Serious           ☒

10.2.7                 Insufficient Employee Training for Safe Work Practices. Serious           ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!
___________________________________________________________________________________

Violations
Statute            Description                                                        Level              Repeat?

4.12.7            Unsanitary Working Conditions.                              Critical               ☒

5.8.3              Inadequate Protective Equipment.                           Serious                ☐

6.3.9              Ineffective Injury Prevention.                                   Serious                ☐

7.1.5              Failure to Properly Store Hazardous Materials.       Critical                ☐

8.9.2              Lack of Adequate Fire Safety Measures.                Serious                ☐

9.6.4              Inadequate Ventilation Systems.                               Serious               ☒

10.2.7            Insufficient Employee Training for Safe Work
                    Practices.                                                                  Serious                ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute                             Description                                                                                      Level              Repeat?

4.12.7                           Unsanitary Working Conditions.                                                     Critical            ☒

5.8.3                             Inadequate Protective Equipment.                                                 Serious            ☒

6.3.9                             Ineffective Injury Prevention.                                                           Serious

7.1.5                             Failure to Properly Store Hazardous Materials.                        Critical

8.9.2                             Lack of Adequate Fire Safety Measures.                                     Serious

9.6.4                             Inadequate Ventilation Systems.                                                   Serious            ☒

10.2.7                           Insufficient Employee Training for Safe Work Practices.      Serious

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description  Level  Repeat?

4.12.7  Unsanitary Working Conditions.  Critical  ☒

5.8.3  Inadequate Protective Equipment.  Serious  ☒

6.3.9  Ineffective Injury Prevention.  Serious  ☐

7.1.5  Failure to Properly Store Hazardous Materials.  Critical  ☐

8.9.2  Lack of Adequate Fire Safety Measures.  Serious  ☐

9.6.4  Inadequate Ventilation Systems.  Serious  ☒

10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious  ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?
4.12.7	Unsanitary Working Conditions.	Critical	☒
5.8.3	Inadequate Protective Equipment.	Serious	☒
6.3.9	Ineffective Injury Prevention.	Serious	☐
7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☒
8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐
9.6.4	Inadequate Ventilation Systems.	Serious	☒
10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!
______________________________________________________________________________


Violations

Statute                          Description                                                   Level    Repeat?

4.12.7                          Unsanitary Working Conditions.                       Critical   ☒

5.8.3                            Inadequate Protective Equipment.                    Serious   ☐

6.3.9                            Ineffective Injury Prevention.                             Serious   ☐

7.1.5                            Failure to Properly Store Hazardous Materials.  Critical    ☐

8.9.2                            Lack of Adequate Fire Safety Measures.             Serious   ☐

9.6.4                            Inadequate Ventilation Systems.                       Serious   ☒

10.2.7                          Insufficient Employee Training for Safe Work Practices. Serious   ☐

______________________________________________________________________________


Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!


Violations

Statute  Description  Level  Repeat?

4.12.7  Unsanitary Working Conditions.  Critical ☒

5.8.3  Inadequate Protective Equipment.  Serious ☒

6.3.9  Ineffective Injury Prevention.  Serious ☐

7.1.5  Failure to Properly Store Hazardous Materials.  Critical ☐

8.9.2  Lack of Adequate Fire Safety Measures.  Serious ☐

9.6.4  Inadequate Ventilation Systems.  Serious ☒

10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary:  Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor — for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting — sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description  Level  Repeat?

4.12.7  Unsanitary Working Conditions.  Critical  ☒

5.8.3  Inadequate Protective Equipment.  Serious  ☒

6.3.9  Ineffective Injury Prevention.  Serious  ☐

7.1.5  Failure to Properly Store Hazardous Materials.  Critical  ☐

8.9.2  Lack of Adequate Fire Safety Measures.  Serious  ☐

9.6.4  Inadequate Ventilation Systems.  Serious  ☒

10.2.7  Insufficient Employee Training for Safe Work Practices.  Serious  ☐

Jungle Health and Safety Inspection Service Site: Durham&#39;s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute           Description                                                       Level        Repeat?

4.12.7           Unsanitary Working Conditions.                     Critical       ☒

5.8.3             Inadequate Protective Equipment.                  Serious       ☒

6.3.9             Ineffective Injury Prevention.                             Serious        ☐

7.1.5             Failure to Properly Store Hazardous Materials.  Critical        ☐

8.9.2             Lack of Adequate Fire Safety Measures.        Serious        ☐

9.6.4             Inadequate Ventilation Systems.                      Serious       ☒

10.2.7           Insufficient Employee Training for Safe Work Practices. Serious  ☐

Jungle Health and Safety Inspection Service Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R

Site: Durham’s Meatpacking Chicago, Ill.
Date: February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations
Statute Description Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical ☐
5.8.3 Inadequate Protective Equipment. Serious ☒
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ☒
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description                                                                          Level         Repeat?
4.12.7   Unsanitary Working Conditions.                                            Critical       ☒
5.8.3     Inadequate Protective Equipment.                                       Serious        ☒
6.3.9     Ineffective Injury Prevention.                                               Serious        ☐
7.1.5     Failure to Properly Store Hazardous Materials.                     Critical       ☐
8.9.2     Lack of Adequate Fire Safety Measures.                            Serious        ☐
9.6.4     Inadequate Ventilation Systems.                                        Serious        ☒
10.2.7   Insufficient Employee Training for Safe Work Practices.    Serious        ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!


Violations

Statute  Description                                                        Level   Repeat?

4.12.7   Unsanitary Working Conditions.                                     Critical ☐

5.8.3    Inadequate Protective Equipment.                                   Serious  ☒

6.3.9    Ineffective Injury Prevention.                                     Serious  ☐

7.1.5    Failure to Properly Store Hazardous Materials.                     Critical ☐

8.9.2    Lack of Adequate Fire Safety Measures.                             Serious  ☐

9.6.4    Inadequate Ventilation Systems.                                    Serious  ☒

10.2.7   Insufficient Employee Training for Safe Work Practices.            Serious  ☐


Jungle Health and Safety Inspection Service

INS-UP70N51NCL41R

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute Description Level Repeat?

4.12.7 Unsanitary Working Conditions. Critical ☒
5.8.3 Inadequate Protective Equipment. Serious ☒
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ☐
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute            Description                                                      Level         Repeat?

4.12.7             Unsanitary Working Conditions.                   Critical       ☒

5.8.3               Inadequate Protective Equipment.                 Serious       ☐

6.3.9               Ineffective Injury Prevention.                             Serious       ☐

7.1.5               Failure to Properly Store Hazardous Materials.    Critical           ☐

8.9.2               Lack of Adequate Fire Safety Measures.         Serious       ☐

9.6.4               Inadequate Ventilation Systems.                     Serious       ☒

10.2.7            Insufficient Employee Training for Safe Work Practices.     Serious ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute                       Description                                                                   Level          Repeat?

4.12.7  Unsanitary Working Conditions.                                         Critical          ☒

5.8.3  Inadequate Protective Equipment.                                        Serious          ☐

6.3.9  Ineffective Injury Prevention.                                                  Serious          ☐

7.1.5  Failure to Properly Store Hazardous Materials.         Critical          ☐

8.9.2  Lack of Adequate Fire Safety Measures.                        Serious          ☐

9.6.4  Inadequate Ventilation Systems.                                        Serious          ☒

10.2.7  Insufficient Employee Training for Safe Work Practices.   Serious          ☐

Jungle Health and Safety Inspection Service
Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R

Site: Durham&#39;s Meatpacking Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?
4.12.7	Unsanitary Working Conditions.	Critical	☒

5.8.3	Inadequate Protective Equipment.	Serious	☒

6.3.9	Ineffective Injury Prevention.	Serious	☐

7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☐

8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐

9.6.4	Inadequate Ventilation Systems.	Serious	☒

10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐


Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?
4.12.7	Unsanitary Working Conditions.	Critical	✆
5.8.3	Inadequate Protective Equipment.	Serious	☐
6.3.9	Ineffective Injury Prevention.	Serious	☐
7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☐
8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐
9.6.4	Inadequate Ventilation Systems.	Serious	✆
10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Violations

Statute       Description                                                                    Level            Repeat?
4.12.7       Unsanitary Working Conditions.                           Critical         ☒
5.8.3         Inadequate Protective Equipment.                        Serious           ☐
6.3.9         Ineffective Injury Prevention.                                    Serious           ☐
7.1.5         Failure to Properly Store Hazardous Materials.   Critical          ☐
8.9.2         Lack of Adequate Fire Safety Measures.                Serious           ☐
9.6.4         Inadequate Ventilation Systems.                           Serious          ☒
10.2.7       Insufficient Employee Training for Safe Work Practices.  Serious  ☐


Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description                                                                        Level         Repeat?

4.12.7  Unsanitary Working Conditions.                                           Critical       ☒

5.8.3    Inadequate Protective Equipment.                                     Serious       ☐

6.3.9    Ineffective Injury Prevention.                                               Serious        ☐

7.1.5    Failure to Properly Store Hazardous Materials.                  Critical       ☒

8.9.2    Lack of Adequate Fire Safety Measures.                          Serious        ☐

9.6.4   Inadequate Ventilation Systems.                                        Serious       ☒

10.2.7 Insufficient Employee Training for Safe Work Practices. Serious        ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute   Description  Level  Repeat?

4.12.7 Unsanitary Working Conditions.  Critical  ☒

5.8.3 Inadequate Protective Equipment.  Serious  ☒

6.3.9 Ineffective Injury Prevention.  Serious  ☐

7.1.5 Failure to Properly Store Hazardous Materials.  Critical  ☐

8.9.2 Lack of Adequate Fire Safety Measures.  Serious  ☐

9.6.4 Inadequate Ventilation Systems.  Serious  ☒

10.2.7 Insufficient Employee Training for Safe Work Practices. Serious  ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute     Description                                                                                  Level             Repeat?
4.12.7     Unsanitary Working Conditions.                                      Critical           ☒
5.8.3       Inadequate Protective Equipment.                                    Serious           ☐
6.3.9       Ineffective Injury Prevention.                                            Serious          ☐
7.1.5       Failure to Properly Store Hazardous Materials.              Critical             ☒
8.9.2       Lack of Adequate Fire Safety Measures.                         Serious           ☐
9.6.4       Inadequate Ventilation Systems.                                      Serious          ☒
10.2.7     Insufficient Employee Training for Safe Work Practices.   Serious          ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham’s Pure Leaf Lard!

Violations
Statute	Description	Level	Repeat?

4.12.7	Unsanitary Working Conditions.	Critical	☒
5.8.3	Inadequate Protective Equipment.	Serious	☒
6.3.9	Ineffective Injury Prevention.	Serious	☐
7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☐
8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐
9.6.4	Inadequate Ventilation Systems.	Serious	☒
10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐

Jungle Health and Safety Inspection Service Jungle Health and Safety Inspection Service
INS-UP70N51NCL41R

Site: Durham&#39;s Meatpacking  Chicago, Ill.
Date: February 3, 1905
Violation Count: 7
Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute Description Level Repeat?
4.12.7 Unsanitary Working Conditions. Critical ☐
5.8.3 Inadequate Protective Equipment. Serious ☒
6.3.9 Ineffective Injury Prevention. Serious ☐
7.1.5 Failure to Properly Store Hazardous Materials. Critical ☐
8.9.2 Lack of Adequate Fire Safety Measures. Serious ☐
9.6.4 Inadequate Ventilation Systems. Serious ☒
10.2.7 Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute

Description

Level

Repeat?

4.12.7

Unsanitary Working Conditions.

Critical

☒

5.8.3

Inadequate Protective Equipment.

Serious

☒

6.3.9

Ineffective Injury Prevention.

Serious

☐

7.1.5

Failure to Properly Store Hazardous Materials.

Critical

☒

8.9.2

Lack of Adequate Fire Safety Measures.

Serious

☐

9.6.4

Inadequate Ventilation Systems.

Serious

☒

10.2.7

Insufficient Employee Training for Safe Work Practices.

Serious

☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms.
These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary
visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in
some of which there were open vats near the level of the floor, their peculiar trouble was that they fell
into the vats; and when they were fished out, there was never enough of them left to be worth
exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out
to the world as Durham&#39;s Pure Leaf Lard!

Violations

Statute  Description                                                            Level            Repeat?

4.12.7   Unsanitary Working Conditions.                                          Critical          ☒

5.8.3    Inadequate Protective Equipment.                                        Serious           ☐

6.3.9    Ineffective Injury Prevention.                                          Serious           ☐

7.1.5    Failure to Properly Store Hazardous Materials.                          Critical          ☐

8.9.2    Lack of Adequate Fire Safety Measures.                                  Serious           ☐

9.6.4    Inadequate Ventilation Systems.                                         Serious           ☒

10.2.7   Insufficient Employee Training for Safe Work Practices.                 Serious           ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count:  7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute      Description                                                         Level     Repeat?

4.12.7       Unsanitary Working Conditions.                        Critical   ☒

5.8.3         Inadequate Protective Equipment.                     Serious     ☐

6.3.9         Ineffective Injury Prevention.                               Serious     ☐

7.1.5         Failure to Properly Store Hazardous Materials. Critical   ☐

8.9.2         Lack of Adequate Fire Safety Measures.             Serious     ☐

9.6.4         Inadequate Ventilation Systems.                          Serious     ☒

10.2.7       Insufficient Employee Training for Safe Work Practices. Serious     ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description                                              Level       Repeat?

4.12.7    Unsanitary Working Conditions.               Critical    ☒

5.8.3      Inadequate Protective Equipment.            Serious     ☒

6.3.9      Ineffective Injury Prevention.                      Serious     ☐

7.1.5      Failure to Properly Store Hazardous Materials. Critical  ☐

8.9.2      Lack of Adequate Fire Safety Measures.  Serious     ☐

9.6.4      Inadequate Ventilation Systems.                Serious     ☒

10.2.7    Insufficient Employee Training for Safe Work Practices. Serious ☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date:  February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute    Description                                                                      Level              Repeat?

4.12.7    Unsanitary Working Conditions.                               Critical                ☒

5.8.3      Inadequate Protective Equipment.                             Serious              ☒

6.3.9      Ineffective Injury Prevention.                                        Serious             ☐

7.1.5      Failure to Properly Store Hazardous Materials.     Critical                ☐

8.9.2      Lack of Adequate Fire Safety Measures.                  Serious              ☐

9.6.4      Inadequate Ventilation Systems.                                 Serious              ☒

10.2.7   Insufficient Employee Training for Safe Work Practices.    Serious              ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute	                                       Description                                                                                       Level    Repeat?
4.12.7                                            Unsanitary Working Conditions.                                               Critical     ☒
5.8.3                                              Inadequate Protective Equipment.                                          Serious    ☐
6.3.9                                              Ineffective Injury Prevention.                                                       Serious    ☐
7.1.5                                              Failure to Properly Store Hazardous Materials.                   Critical     ☐
8.9.2                                              Lack of Adequate Fire Safety Measures.                                Serious    ☐
9.6.4                                              Inadequate Ventilation Systems.                                               Serious    ☒
10.2.7                                           Insufficient Employee Training for Safe Work Practices.  Serious    ☐

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.
Date:  February 3, 1905
Violation Count: 7
Summary:  Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

| Statute | Description                                          | Level   | Repeat? |
|---------|------------------------------------------------------|---------|---------|
| 4.12.7  | Unsanitary Working Conditions.                        | Critical| ☒       |
| 5.8.3   | Inadequate Protective Equipment.                      | Serious | ☐       |
| 6.3.9   | Ineffective Injury Prevention.                        | Serious | ☐       |
| 7.1.5   | Failure to Properly Store Hazardous Materials.       | Critical| ☐       |
| 8.9.2   | Lack of Adequate Fire Safety Measures.                | Serious | ☐       |
| 9.6.4   | Inadequate Ventilation Systems.                       | Serious | ☒       |
| 10.2.7  | Insufficient Employee Training for Safe Work Practices.| Serious | ☐       |

Jungle Health and Safety Inspection Service Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute	Description	Level	Repeat?

4.12.7	Unsanitary Working Condition.	Critical	☒

5.8.3	Inadequate Protective Equipment.	Serious	☒

6.3.9	Ineffective Injury Prevention.	Serious	☐

7.1.5	Failure to Properly Store Hazardous Materials.	Critical	☐

8.9.2	Lack of Adequate Fire Safety Measures.	Serious	☐

9.6.4	Inadequate Ventilation Systems.	Serious	☒

10.2.7	Insufficient Employee Training for Safe Work Practices.	Serious	☐

Jungle Health and Safety Inspection Service
Site: Durham’s Meatpacking  Chicago, Ill.

Date: February 3, 1905

Violation Count: 7

Summary: Worst of any, however, were the fertilizer men, and those who served in the cooking rooms. These people could not be shown to the visitor - for the odor of a fertilizer man would scare any ordinary visitor at a hundred yards, and as for the other men, who worked in tank rooms full of steam, and in some of which there were open vats near the level of the floor, their peculiar trouble was that they fell into the vats; and when they were fished out, there was never enough of them left to be worth exhibiting - sometimes they would be overlooked for days, till all but the bones of them had gone out to the world as Durham’s Pure Leaf Lard!

Violations

Statute  Description                                                      Level     Repeat?
4.12.7    Unsanitary Working Conditions.                        Critical   ☒
5.8.3      Inadequate Protective Equipment.                      Serious    ☐
6.3.9      Ineffective Injury Prevention.                                Serious    ☐
7.1.5      Failure to Properly Store Hazardous Materials. Critical   ☒
8.9.2      Lack of Adequate Fire Safety Measures.            Serious    ☐
9.6.4      Inadequate Ventilation Systems.                        Serious    ☒
10.2.7    Insufficient Employee Training for Safe Work Practices. Serious  ☐

Jungle Health and Safety Inspection Service
</pre> </div>    </div> </div> </div> </div> </div> </div> </div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab-group-wrapper").forEach(t=>{const a=t.querySelectorAll(".tab-button"),c=t.querySelectorAll(".tab-panel");a.forEach((r,s)=>{r.addEventListener("click",()=>{a.forEach(e=>e.classList.remove("active")),c.forEach(e=>e.classList.remove("active")),r.classList.add("active"),c[s].classList.add("active")})})})});</script> <script type="module">function t(){const n=window.location.hash;if(!n)return;const c=decodeURIComponent(n.substring(1)),s=document.querySelectorAll(".code-section pre code");for(const o of s)if((o.textContent||"").includes(c)){const e=o.closest(".cell-container");if(e){e.scrollIntoView({behavior:"smooth",block:"center"}),e.style.background="#fef3c7",setTimeout(()=>{e.style.transition="background 1s ease",e.style.background=""},1e3);break}}}window.addEventListener("load",t);window.addEventListener("hashchange",t);</script> <script type="module">window.copyCode=function(e){const c=e.getAttribute("data-code");navigator.clipboard.writeText(c).then(()=>{const t=e.querySelector("span"),o=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=o},2e3)}).catch(t=>{console.error("Failed to copy:",t)})};let r=localStorage.getItem("columnView")==="true",s=!1;r&&document.querySelector(".cells-container")?.classList.add("column-view");const n=document.createElement("div");n.style.cssText="position: fixed; bottom: 20px; right: 20px; background: black; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; opacity: 0; transition: opacity 0.2s; z-index: 9999;";document.body.appendChild(n);function d(e){n.textContent=e,n.style.opacity="0.8",setTimeout(()=>{n.style.opacity="0"},1500)}document.addEventListener("keydown",e=>{document.querySelector(".cells-container"),document.querySelectorAll(".result-image"),e.key==="r"&&i()});setTimeout(()=>{d("R: toggle PDF")},1e3);function i(){const e=document.querySelector(".pdf-view-btn"),c=document.querySelector(".pdf-sidebar-content"),t=document.querySelector(".content-wrapper"),o=document.querySelector(".pdf-embed");if(s)e.style.display="block",c.style.display="none",t.classList.remove("show-pdf"),s=!1,d("PDF: OFF");else{if(e.style.display="none",c.style.display="block",t.classList.add("show-pdf"),!o.src){const l=o.dataset.pdfUrl;o.src=l+"#toolbar=1&navpanes=0&scrollbar=1"}s=!0,d("PDF: ON")}}const a=document.querySelector(".pdf-view-btn");a?.addEventListener("click",i);const p=document.querySelector(".pdf-close-btn");p?.addEventListener("click",i);</script> <script type="module" src="/_astro/ImageLightbox.astro_astro_type_script_index_0_lang.Cx4c9KCn.js"></script> <footer class="site-footer" data-astro-cid-sz7xmlte> <div class="footer-container" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Bad PDFs</h3> <p data-astro-cid-sz7xmlte>Real-world successfully extracting data from bad, bad pdfs.</p> <div class="footer-links" data-astro-cid-sz7xmlte> <a href="https://github.com/jsoma/natural-pdf" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-sz7xmlte> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-astro-cid-sz7xmlte></path> </svg>
GitHub
</a> </div> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Resources</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf Documentation</a></li> <li data-astro-cid-sz7xmlte><a href="/methods/" data-astro-cid-sz7xmlte>All Methods Reference</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf/issues" data-astro-cid-sz7xmlte>Report an Issue</a></li> <li data-astro-cid-sz7xmlte><a href="/about/" data-astro-cid-sz7xmlte>About This Gallery</a></li> </ul> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Contribute</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="/submit/" data-astro-cid-sz7xmlte>Submit a PDF Example</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/badpdfs-analysis" data-astro-cid-sz7xmlte>Gallery Source Code</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf#contributing" data-astro-cid-sz7xmlte>Contributing Guide</a></li> </ul> </div> </div> <div class="footer-bottom" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>&copy; 2025 Bad PDFs. Built with <a href="https://astro.build" data-astro-cid-sz7xmlte>Astro</a> and powered by <a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf</a>.</p> </div> </div> </footer>   </body></html>