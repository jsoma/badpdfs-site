<!DOCTYPE html><html lang="en" data-astro-cid-wxiprx5h> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.6"><title>Extracting State Agency Call Center Wait Times from FOIA PDF - bad pdfs</title><link rel="stylesheet" href="/_astro/about.K2Del1EQ.css">
<link rel="stylesheet" href="/_astro/about.DqOHNfsy.css">
<style>code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:#999}.token.punctuation{color:#ccc}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.number,.token.function{color:#f08d49}.token.property,.token.class-name,.token.constant,.token.symbol{color:#f8c555}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:#cc99cd}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:#7ec699}.token.operator,.token.entity,.token.url{color:#67cdcc}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}
</style>
<link rel="stylesheet" href="/_astro/_slug_.B3jYt87b.css"></head> <body data-astro-cid-wxiprx5h> <header class="site-header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="header-left" data-astro-cid-3ef6ksr2> <a href="/" class="site-title" data-astro-cid-3ef6ksr2> <h1 data-astro-cid-3ef6ksr2>bad pdfs</h1> </a> <nav class="header-nav" data-astro-cid-3ef6ksr2> <a href="/" class data-astro-cid-3ef6ksr2>Gallery</a> <a href="/methods/" class data-astro-cid-3ef6ksr2>All Methods</a> <a href="/about/" class data-astro-cid-3ef6ksr2>About</a> <a href="https://jsoma.github.io/natural-pdf/" target="_blank" rel="noopener noreferrer" class="external" data-astro-cid-3ef6ksr2>
natural-pdf docs
<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-3ef6ksr2> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" data-astro-cid-3ef6ksr2></path> <polyline points="15 3 21 3 21 9" data-astro-cid-3ef6ksr2></polyline> <line x1="10" y1="14" x2="21" y2="3" data-astro-cid-3ef6ksr2></line> </svg> </a> </nav> </div> <div class="header-right" data-astro-cid-3ef6ksr2> <button class="dark-mode-toggle" aria-label="Toggle dark mode" data-astro-cid-tcsrer47> <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <circle cx="12" cy="12" r="5" data-astro-cid-tcsrer47></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-tcsrer47></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-tcsrer47></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-tcsrer47></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-tcsrer47></line> </svg> <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-tcsrer47></path> </svg> </button>  <script type="module">const m=document.querySelector(".dark-mode-toggle"),e=document.documentElement,r=localStorage.getItem("theme")||"light";e.setAttribute("data-theme",r);m?.addEventListener("click",()=>{const t=e.getAttribute("data-theme")==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const a=window.matchMedia("(prefers-color-scheme: dark)");localStorage.getItem("theme")||e.setAttribute("data-theme",a.matches?"dark":"light");a.addEventListener("change",t=>{localStorage.getItem("theme")||e.setAttribute("data-theme",t.matches?"dark":"light")});</script> <!-- Pass BASE_URL to client-side JavaScript --><meta name="base-url" content="/" style="display: none;"><div class="search-wrapper" data-astro-cid-otpdt6jm> <div class="search-container" data-astro-cid-otpdt6jm> <div class="search-input-wrapper" data-astro-cid-otpdt6jm> <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <path d="m21 21-4.35-4.35" data-astro-cid-otpdt6jm></path> </svg> <input type="search" id="search-input" class="search-input" placeholder="Search PDFs, methods, or content..." autocomplete="off" spellcheck="false" data-astro-cid-otpdt6jm> <span class="search-shortcut" data-astro-cid-otpdt6jm>/</span> </div> <div id="search-results" class="search-results" data-astro-cid-otpdt6jm></div> </div> </div> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.Bxe8LC99.js"></script>  <!-- Global styles for dynamically generated search results -->  </div> </div> </header>  <div class="container mx-auto px-4 py-8 max-w-7xl" data-astro-cid-wxiprx5h> <!-- PDF Preview and Info Header --> <header class="mb-8 border-b" data-astro-cid-wxiprx5h> <div class="md:grid md:grid-cols-3 gap-6 p-6" data-astro-cid-wxiprx5h> <!-- PDF Preview --> <div class="md:col-span-1 mb-6 md:mb-0 header-preview" data-astro-cid-wxiprx5h> <img src="/artifacts/screenshots/statecallcenterdata_redacted/statecallcenterdata_redacted-1.png" alt="Extracting State Agency Call Center Wait Times from FOIA PDF preview" class="w-full" data-astro-cid-wxiprx5h> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>statecallcenterdata_redacted.pdf</p> </div> <!-- Title and Description --> <div class="md:col-span-2" data-astro-cid-wxiprx5h> <h1 class="text-4xl font-bold mb-3" data-astro-cid-wxiprx5h>Extracting State Agency Call Center Wait Times from FOIA PDF</h1> <p class="text-lg mb-4" data-astro-cid-wxiprx5h>This PDF contains data on wait times at a state agency call center. The main focus is on the data on the first two pages, which matches other states&#39; submission formats. The later pages provide granular breakdowns over several years. Challenges include it being heavily pixelated, making it hard to read numbers and text, with inconsistent and unreadable charts.</p> <!-- Methods --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Methods Used</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="/methods/guides" class="method-tag" data-astro-cid-wxiprx5h> Guides </a><a href="/methods/pdf" class="method-tag" data-astro-cid-wxiprx5h> PDF </a><a href="/methods/apply_ocr" class="method-tag" data-astro-cid-wxiprx5h> apply_ocr </a><a href="/methods/below" class="method-tag" data-astro-cid-wxiprx5h> below </a><a href="/methods/divide" class="method-tag" data-astro-cid-wxiprx5h> divide </a><a href="/methods/expand" class="method-tag" data-astro-cid-wxiprx5h> expand </a><a href="/methods/extract_table" class="method-tag" data-astro-cid-wxiprx5h> extract_table </a><a href="/methods/extract_text" class="method-tag" data-astro-cid-wxiprx5h> extract_text </a><a href="/methods/find" class="method-tag" data-astro-cid-wxiprx5h> find </a><a href="/methods/find_all" class="method-tag" data-astro-cid-wxiprx5h> find_all </a><a href="/methods/from_lines" class="method-tag" data-astro-cid-wxiprx5h> from_lines </a><a href="/methods/show" class="method-tag" data-astro-cid-wxiprx5h> show </a><a href="/methods/snap_to_whitespace" class="method-tag" data-astro-cid-wxiprx5h> snap_to_whitespace </a><a href="/methods/to_df" class="method-tag" data-astro-cid-wxiprx5h> to_df </a> </div> </div> <!-- Tags --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Tags</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <span class="tag-tag" data-astro-cid-wxiprx5h>
#Call Center Data </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Pixelated Scan </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#OCR Required </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Granular Breakdown </span> </div> </div> <!-- Colab Link --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>The code</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="https://colab.research.google.com/github/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/statecallcenterdata_redacted/notebooks/statecallcenterdata_redacted.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block colab-btn" title="Open in Google Colab" data-astro-cid-wxiprx5h> <img src="/colab-badge.svg" alt="Open in Colab" data-astro-cid-wxiprx5h> </a> <a href="https://github.com/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/statecallcenterdata_redacted/notebooks/statecallcenterdata_redacted.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block gh-btn" title="Open in GitHub" data-astro-cid-wxiprx5h> <img src="/gh-badge.svg" alt="Read notebook" data-astro-cid-wxiprx5h> </a> </div> </div> <!-- Other walkthroughs using this PDF -->  </div> </div> </header> <!-- Main Content Area with Optional PDF Preview --> <div class="content-wrapper" data-astro-cid-wxiprx5h> <!-- PDF Button/Sidebar --> <aside class="pdf-sidebar" data-astro-cid-wxiprx5h> <button class="pdf-view-btn" data-astro-cid-wxiprx5h>
ðŸ“– View PDF
</button> <div class="pdf-sidebar-content" style="display: none;" data-astro-cid-wxiprx5h> <button class="pdf-close-btn" data-astro-cid-wxiprx5h> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-wxiprx5h> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-wxiprx5h></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-wxiprx5h></line> </svg> </button> <div class="pdf-preview-wrapper" data-astro-cid-wxiprx5h> <iframe class="pdf-embed" type="application/pdf" data-pdf-url="https://pub-4e99d31d19cb404d8d4f5f7efa51ef6e.r2.dev/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted.pdf" data-astro-cid-wxiprx5h></iframe> </div> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>statecallcenterdata_redacted.pdf</p> </div> </aside> <!-- Code and Output --> <div class="main-content" data-astro-cid-wxiprx5h> <div class="cells-container space-y-8" data-astro-cid-wxiprx5h> <div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h1>Extracting State Agency Call Center Wait Times from FOIA PDF</h1>
<p>This PDF contains data on wait times at a state agency call center. The main focus is on the data on the first two pages, which matches other states&#39; submission formats. The later pages provide granular breakdowns over several years. Challenges include it being heavily pixelated, making it hard to read numbers and text, with inconsistent and unreadable charts.</p>
<p>The submission said &quot;the first two pages&quot; so I&#39;m going with that. The rest of the pages are <em>insane</em> and will need a wholly separate writeup.</p>
</div> </div><div id="code-0" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf import PDF

pdf = PDF(&#34;statecallcenterdata_redacted.pdf&#34;)
page = pdf.pages[0]
page.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf <span class="token keyword">import</span> PDF

pdf <span class="token operator">=</span> PDF<span class="token punctuation">(</span><span class="token string">"statecallcenterdata_redacted.pdf"</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
page<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf import PDF
pdf = PDF(&#39;statecallcenterdata_redacted.pdf&#39;)
page = pdf.pages[0]...
[DEBUG] Evaluating expression: page.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_1.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_1.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>The pages are images so they don&#39;t have text, but we can always double-check.</p>
</div> </div><div id="code-1" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="# No results? Needs OCR!
print(page.extract_text())" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token comment"># No results? Needs OCR!</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: print(page.extract_text())...

</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>I love <a href="https://github.com/datalab-to/surya">surya</a> so I&#39;m going to use it instead of the default of easyocr. Two ways to check the results: look at where it found text and look at what the text is.</p>
</div> </div><div id="code-2" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="page.apply_ocr('surya')
page.find_all('text').show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>page<span class="token punctuation">.</span>apply_ocr<span class="token punctuation">(</span><span class="token string">'surya'</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: page.apply_ocr(&#39;surya&#39;)...
[DEBUG] Evaluating expression: page.find_all(&#39;text&#39;).show(crop=True)...
Rendering pages:   0%|          | 0/1 [00:00&lt;?, ?it/s]                                                      Detecting bboxes:   0%|          | 0/1 [00:00&lt;?, ?it/s]Detecting bboxes: 100%|##########| 1/1 [00:03&lt;00:00,  3.61s/it]Detecting bboxes: 100%|##########| 1/1 [00:03&lt;00:00,  3.61s/it]
Recognizing Text:   0%|          | 0/73 [00:00&lt;?, ?it/s]Recognizing Text:   1%|1         | 1/73 [00:36&lt;43:45, 36.46s/it]Recognizing Text:   3%|2         | 2/73 [00:37&lt;18:49, 15.91s/it]Recognizing Text:   4%|4         | 3/73 [00:40&lt;11:09,  9.57s/it]Recognizing Text:   5%|5         | 4/73 [00:40&lt;06:53,  6.00s/it]Recognizing Text:   7%|6         | 5/73 [00:42&lt;04:58,  4.39s/it]Recognizing Text:   8%|8         | 6/73 [00:42&lt;03:25,  3.07s/it]Recognizing Text:  10%|9         | 7/73 [00:43&lt;02:27,  2.23s/it]Recognizing Text:  11%|#         | 8/73 [00:49&lt;03:54,  3.61s/it]Recognizing Text:  12%|#2        | 9/73 [00:50&lt;02:59,  2.81s/it]Recognizing Text:  16%|#6        | 12/73 [00:51&lt;01:19,  1.30s/it]Recognizing Text:  19%|#9        | 14/73 [00:51&lt;00:55,  1.07it/s]Recognizing Text:  21%|##        | 15/73 [00:56&lt;01:42,  1.78s/it]Recognizing Text:  22%|##1       | 16/73 [00:57&lt;01:25,  1.49s/it]Recognizing Text:  23%|##3       | 17/73 [00:58&lt;01:17,  1.39s/it]Recognizing Text:  25%|##4       | 18/73 [01:01&lt;01:40,  1.83s/it]Recognizing Text:  26%|##6       | 19/73 [01:02&lt;01:20,  1.48s/it]Recognizing Text:  27%|##7       | 20/73 [01:02&lt;01:04,  1.22s/it]Recognizing Text:  29%|##8       | 21/73 [01:03&lt;00:52,  1.02s/it]Recognizing Text:  30%|###       | 22/73 [01:08&lt;01:52,  2.20s/it]Recognizing Text:  33%|###2      | 24/73 [01:08&lt;01:04,  1.32s/it]Recognizing Text:  34%|###4      | 25/73 [01:09&lt;01:00,  1.26s/it]Recognizing Text:  38%|###8      | 28/73 [01:10&lt;00:31,  1.42it/s]Recognizing Text:  40%|###9      | 29/73 [01:15&lt;01:07,  1.54s/it]Recognizing Text:  41%|####1     | 30/73 [01:16&lt;01:01,  1.44s/it]Recognizing Text:  53%|#####3    | 39/73 [01:24&lt;00:36,  1.06s/it]Recognizing Text:  63%|######3   | 46/73 [01:27&lt;00:20,  1.35it/s]Recognizing Text:  67%|######7   | 49/73 [01:27&lt;00:14,  1.61it/s]Recognizing Text:  77%|#######6  | 56/73 [01:28&lt;00:06,  2.55it/s]Recognizing Text:  79%|#######9  | 58/73 [01:28&lt;00:05,  2.68it/s]Recognizing Text:  81%|########  | 59/73 [01:29&lt;00:05,  2.59it/s]Recognizing Text:  82%|########2 | 60/73 [01:30&lt;00:06,  2.14it/s]Recognizing Text:  84%|########3 | 61/73 [01:31&lt;00:06,  1.81it/s]Recognizing Text:  85%|########4 | 62/73 [01:38&lt;00:18,  1.64s/it]Recognizing Text:  86%|########6 | 63/73 [01:42&lt;00:21,  2.17s/it]Recognizing Text:  89%|########9 | 65/73 [02:04&lt;00:43,  5.42s/it]Recognizing Text:  90%|######### | 66/73 [02:06&lt;00:32,  4.67s/it]Recognizing Text:  92%|#########1| 67/73 [02:07&lt;00:23,  3.89s/it]Recognizing Text:  93%|#########3| 68/73 [02:09&lt;00:16,  3.23s/it]Recognizing Text:  96%|#########5| 70/73 [02:10&lt;00:06,  2.14s/it]Recognizing Text:  97%|#########7| 71/73 [02:10&lt;00:03,  1.79s/it]Recognizing Text: 100%|##########| 73/73 [02:10&lt;00:00,  1.79s/it]
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_2.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_2.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>And now we&#39;ll look at what the text is.</p>
</div> </div><div id="code-3" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="print(page.extract_text(layout=True))" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">print</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span>layout<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: print(page.extract_text(layout=True))...
               On-Demand Interviews - Interim and Final Reporting                                            
                    Complete all shaded fields                                                               
                          Figure    Comments*   State:                                                       
        Average call wait time for interview in minutes 19 Minutes &lt;b&gt;Report Start Date&lt;/b&gt; 9/1/2019         
        Number of all calls that result in a completed                                                       
                  .interview 34,396             &lt;b&gt;Report End Date&lt;/b&gt; 3/31/2020                             
                   Percent 98.31%                                                                            
                                                Number of applications                                       
          Average call completion time in minutes 29 filed 34438                                             
                                                Number of recertification:                                   
              Number of dropped calls 627       filed      17604                                             
                                These were the completed Face to face Number of applications                 
        Number of requests for an in-person interview 16982 Intervews. There is no way to track in the intervlewed on 1st day 22409
        Number of NOMIs sent for failure to complete                                                         
             initial application interview 7809                                                              
                   Percent 22.60%                                                                            
        Number of NOMIs sent for failure to complete-                                                        
              recertification interview. 13007                                                               
                   Percent 73.80%                                                                            
         Number of applications denied for failure to                                                        
           complete the interview in 30 days 3885                                                            
                   Percent 45.00%                                                                            
        Number of recertifications denied for failure to                                                     
           complete the interview in 30 days. 74                                                             
                   Percent 10.00%                                                                            
      *Please use the comments field for any clarifications or context that are needed for any data points.  
                      &lt;b&gt;Notes on Measures&lt;/b&gt;                                                               
      1. Average call wait time for interview: Do not include abandoned and dropped calls. &quot;Wat time&quot; ends when the eligibility worker answers the call to
      begin the interview                                                                                    
      2. Number and percent of all calls that result in a completed interview; Include abandoned and eropped calls in the denominator when calculating the
      percentage.                                                                                            
      3. Average call completion time in minutes: &quot;Completion time&quot; means the full duration of time the client spends on the call, beginning when the client.
      nters the call center queue until the Interview is completed                                           
      4. Number of dropped rails: Include all calls disconnected due to call center error, lack of call center capacity, etc. Do not include abandoned calls,
      uring which the client terminates the call before completion.                                          
      5. Number of requests for an in-person interview: This figure should represent the number of clients who were given directions to complete their
      interview through the call certer, but requested an in-person interview instead.                       
      6. Number and percent of NOMIs sent for failure to complete initial application interview: Include all applications across the casebad in the
      ferominator when calculating the percentage.                                                           
      7. Number and percent of NOMIs sent for failure to complete the recertification interview: Include all recertifications across the caseload in the
        nator when calculating the percentage.                                                               
      8. Number and percent of all applications denied that were denied due to failure to complete the interview in 30 days: include all applications across
      the caselcad for which a denial was ssued in the denominator when calculating the percentage.          
      9. Number and percent of all recertifications denied that were denied due to failure to complete the interviev in 30 days: Include all recertifications
      across the caselead for which a denial was issued in the denominator when calculating the percentage.  
                                                                                                             
</pre> </div>    </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>To get the table area, we get everything from the &quot;Figure&quot; header down to &quot;Please use the comments field&quot;</p>
</div> </div><div id="code-4" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table_area = (
    page
    .find('text:contains(Figure)')
    .below(
        until='text:contains(Please use the comments)',
        include_endpoint=False
    )
)
table_area.show(crop='wide')" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>table_area <span class="token operator">=</span> <span class="token punctuation">(</span>
    page
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(Figure)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(Please use the comments)'</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
table_area<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token string">'wide'</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table_area = page.find(&#39;text:contains(Figure)&#39;).below(until=&#39;text:contains(Please use the comments)&#39;...
[DEBUG] Evaluating expression: table_area.show(crop=&#39;wide&#39;)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_3.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_3.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>We need to cut it in on the sides a little bit, and expand it on the bottom. I just pick some manual values because I&#39;m lazy, should probably be a better way to resize things based on selectors.</p>
</div> </div><div id="code-5" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table_area = (
    page
    .find('text:contains(Figure)')
    .below(
        until='text:contains(Please use the comments)',
        include_endpoint=False
    )
    .expand(
        right=-(page.width * 0.58),
        left=-30,
        bottom=3
    )
)
table_area.show(crop='wide')" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>table_area <span class="token operator">=</span> <span class="token punctuation">(</span>
    page
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(Figure)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(Please use the comments)'</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>
        right<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.58</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        left<span class="token operator">=</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span>
        bottom<span class="token operator">=</span><span class="token number">3</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
table_area<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token string">'wide'</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table_area = page.find(&#39;text:contains(Figure)&#39;).below(until=&#39;text:contains(Please use the comments)&#39;...
[DEBUG] Evaluating expression: table_area.show(crop=&#39;wide&#39;)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_4.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_4.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Now we can see all the text in our area.</p>
</div> </div><div id="code-6" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table_area.find_all('text').show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>table_area<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: table_area.find_all(&#39;text&#39;).show(crop=True)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_5.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_5.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>For some reason we can&#39;t just use <code>.extract_table(&#39;stream&#39;)</code> on this, even though there are some nice gaps between each column. Oh well!</p>
<p>Instead we&#39;ll throw three vertical dividers in and then shuffle then around until they don&#39;t intersect any of the text. The horizontal borders are easier because they&#39;re just lines.</p>
</div> </div><div id="code-7" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf.analyzers.guides import Guides

guide = Guides(table_area)
guide.vertical.divide(3)
guide.vertical.snap_to_whitespace(detection_method='text')
guide.horizontal.from_lines()
guide.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf<span class="token punctuation">.</span>analyzers<span class="token punctuation">.</span>guides <span class="token keyword">import</span> Guides

guide <span class="token operator">=</span> Guides<span class="token punctuation">(</span>table_area<span class="token punctuation">)</span>
guide<span class="token punctuation">.</span>vertical<span class="token punctuation">.</span>divide<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
guide<span class="token punctuation">.</span>vertical<span class="token punctuation">.</span>snap_to_whitespace<span class="token punctuation">(</span>detection_method<span class="token operator">=</span><span class="token string">'text'</span><span class="token punctuation">)</span>
guide<span class="token punctuation">.</span>horizontal<span class="token punctuation">.</span>from_lines<span class="token punctuation">(</span><span class="token punctuation">)</span>
guide<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf.analyzers.guides import Guides
guide = Guides(table_area)
guide.vertical.divide(3)
...
[DEBUG] Evaluating expression: guide.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_6.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_6.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>And now we can grab the table!</p>
</div> </div><div id="code-8" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df = (
  guide
  .extract_table()
  .to_df(
    header=['value', 'amount', 'comments']
  )
)
df" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>df <span class="token operator">=</span> <span class="token punctuation">(</span>
  guide
  <span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>
    header<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">,</span> <span class="token string">'amount'</span><span class="token punctuation">,</span> <span class="token string">'comments'</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
df</code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: df = guide.extract_table().to_df(header=[&#39;value&#39;, &#39;amount&#39;, &#39;comments&#39;])...
[DEBUG] Evaluating expression: df...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>amount</th>
      <th>comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Number of all calls that result in a completed...</td>
      <td>34,396</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Percent</td>
      <td>98.31%</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Average call completion time in minutes</td>
      <td>29</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Number of dropped calls</td>
      <td>627</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Number of requests for an in-person interview\...</td>
      <td>16982 Intervews. There is no way to track in the</td>
      <td>These were the completed Face to face\nInterve...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Number of NOMIs sent for failure to complete\n...</td>
      <td>7809</td>
      <td>None</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Percent</td>
      <td>22.60%</td>
      <td>None</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Number of NOMIs sent for failure to complete-\...</td>
      <td>13007</td>
      <td>None</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Percent\nNumber of applications denied for fai...</td>
      <td>73.80%</td>
      <td>None</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Number of applications denied for failure to\n...</td>
      <td>3885</td>
      <td>None</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Percent</td>
      <td>45.00%</td>
      <td>None</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Number of recertifications denied for failure ...</td>
      <td>74</td>
      <td>None</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Percent</td>
      <td>10.00%</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>The next page is....... too hard for now.</p>
</div> </div><div id="code-9" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="pdf.pages[1].show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: pdf.pages[1].show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_7.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/statecallcenterdata_redacted/statecallcenterdata_redacted/images/image_7.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div> </div> </div> </div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab-group-wrapper").forEach(t=>{const a=t.querySelectorAll(".tab-button"),c=t.querySelectorAll(".tab-panel");a.forEach((r,s)=>{r.addEventListener("click",()=>{a.forEach(e=>e.classList.remove("active")),c.forEach(e=>e.classList.remove("active")),r.classList.add("active"),c[s].classList.add("active")})})})});</script> <script type="module">function t(){const n=window.location.hash;if(!n)return;const c=decodeURIComponent(n.substring(1)),s=document.querySelectorAll(".code-section pre code");for(const o of s)if((o.textContent||"").includes(c)){const e=o.closest(".cell-container");if(e){e.scrollIntoView({behavior:"smooth",block:"center"}),e.style.background="#fef3c7",setTimeout(()=>{e.style.transition="background 1s ease",e.style.background=""},1e3);break}}}window.addEventListener("load",t);window.addEventListener("hashchange",t);</script> <script type="module">window.copyCode=function(e){const c=e.getAttribute("data-code");navigator.clipboard.writeText(c).then(()=>{const t=e.querySelector("span"),o=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=o},2e3)}).catch(t=>{console.error("Failed to copy:",t)})};let r=localStorage.getItem("columnView")==="true",s=!1;r&&document.querySelector(".cells-container")?.classList.add("column-view");const n=document.createElement("div");n.style.cssText="position: fixed; bottom: 20px; right: 20px; background: black; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; opacity: 0; transition: opacity 0.2s; z-index: 9999;";document.body.appendChild(n);function d(e){n.textContent=e,n.style.opacity="0.8",setTimeout(()=>{n.style.opacity="0"},1500)}document.addEventListener("keydown",e=>{document.querySelector(".cells-container"),document.querySelectorAll(".result-image"),e.key==="r"&&i()});setTimeout(()=>{d("R: toggle PDF")},1e3);function i(){const e=document.querySelector(".pdf-view-btn"),c=document.querySelector(".pdf-sidebar-content"),t=document.querySelector(".content-wrapper"),o=document.querySelector(".pdf-embed");if(s)e.style.display="block",c.style.display="none",t.classList.remove("show-pdf"),s=!1,d("PDF: OFF");else{if(e.style.display="none",c.style.display="block",t.classList.add("show-pdf"),!o.src){const l=o.dataset.pdfUrl;o.src=l+"#toolbar=1&navpanes=0&scrollbar=1"}s=!0,d("PDF: ON")}}const a=document.querySelector(".pdf-view-btn");a?.addEventListener("click",i);const p=document.querySelector(".pdf-close-btn");p?.addEventListener("click",i);</script> <script type="module" src="/_astro/ImageLightbox.astro_astro_type_script_index_0_lang.Cx4c9KCn.js"></script> <footer class="site-footer" data-astro-cid-sz7xmlte> <div class="footer-container" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Bad PDFs</h3> <p data-astro-cid-sz7xmlte>Real-world successfully extracting data from bad, bad pdfs.</p> <div class="footer-links" data-astro-cid-sz7xmlte> <a href="https://github.com/jsoma/natural-pdf" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-sz7xmlte> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-astro-cid-sz7xmlte></path> </svg>
GitHub
</a> </div> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Resources</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf Documentation</a></li> <li data-astro-cid-sz7xmlte><a href="/methods/" data-astro-cid-sz7xmlte>All Methods Reference</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf/issues" data-astro-cid-sz7xmlte>Report an Issue</a></li> <li data-astro-cid-sz7xmlte><a href="/about/" data-astro-cid-sz7xmlte>About This Gallery</a></li> </ul> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Contribute</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="/submit/" data-astro-cid-sz7xmlte>Submit a PDF Example</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/badpdfs-analysis" data-astro-cid-sz7xmlte>Gallery Source Code</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf#contributing" data-astro-cid-sz7xmlte>Contributing Guide</a></li> </ul> </div> </div> <div class="footer-bottom" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>&copy; 2025 Bad PDFs. Built with <a href="https://astro.build" data-astro-cid-sz7xmlte>Astro</a> and powered by <a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf</a>.</p> </div> </div> </footer>   </body></html>