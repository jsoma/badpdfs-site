<!DOCTYPE html><html lang="en" data-astro-cid-wxiprx5h> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.6"><title>Extracting Economic Data from Brazil&#39;s Central Bank PDF - bad pdfs</title><link rel="stylesheet" href="/_astro/about.K2Del1EQ.css">
<link rel="stylesheet" href="/_astro/about.DqOHNfsy.css">
<style>code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:#999}.token.punctuation{color:#ccc}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.number,.token.function{color:#f08d49}.token.property,.token.class-name,.token.constant,.token.symbol{color:#f8c555}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:#cc99cd}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:#7ec699}.token.operator,.token.entity,.token.url{color:#67cdcc}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}
</style>
<link rel="stylesheet" href="/_astro/_slug_.B3jYt87b.css"></head> <body data-astro-cid-wxiprx5h> <header class="site-header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="header-left" data-astro-cid-3ef6ksr2> <a href="/" class="site-title" data-astro-cid-3ef6ksr2> <h1 data-astro-cid-3ef6ksr2>bad pdfs</h1> </a> <nav class="header-nav" data-astro-cid-3ef6ksr2> <a href="/" class data-astro-cid-3ef6ksr2>Gallery</a> <a href="/methods/" class data-astro-cid-3ef6ksr2>All Methods</a> <a href="/about/" class data-astro-cid-3ef6ksr2>About</a> <a href="https://jsoma.github.io/natural-pdf/" target="_blank" rel="noopener noreferrer" class="external" data-astro-cid-3ef6ksr2>
natural-pdf docs
<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-3ef6ksr2> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" data-astro-cid-3ef6ksr2></path> <polyline points="15 3 21 3 21 9" data-astro-cid-3ef6ksr2></polyline> <line x1="10" y1="14" x2="21" y2="3" data-astro-cid-3ef6ksr2></line> </svg> </a> </nav> </div> <div class="header-right" data-astro-cid-3ef6ksr2> <button class="dark-mode-toggle" aria-label="Toggle dark mode" data-astro-cid-tcsrer47> <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <circle cx="12" cy="12" r="5" data-astro-cid-tcsrer47></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-tcsrer47></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-tcsrer47></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-tcsrer47></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-tcsrer47></line> </svg> <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-tcsrer47></path> </svg> </button>  <script type="module">const m=document.querySelector(".dark-mode-toggle"),e=document.documentElement,r=localStorage.getItem("theme")||"light";e.setAttribute("data-theme",r);m?.addEventListener("click",()=>{const t=e.getAttribute("data-theme")==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const a=window.matchMedia("(prefers-color-scheme: dark)");localStorage.getItem("theme")||e.setAttribute("data-theme",a.matches?"dark":"light");a.addEventListener("change",t=>{localStorage.getItem("theme")||e.setAttribute("data-theme",t.matches?"dark":"light")});</script> <!-- Pass BASE_URL to client-side JavaScript --><meta name="base-url" content="/" style="display: none;"><div class="search-wrapper" data-astro-cid-otpdt6jm> <div class="search-container" data-astro-cid-otpdt6jm> <div class="search-input-wrapper" data-astro-cid-otpdt6jm> <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <path d="m21 21-4.35-4.35" data-astro-cid-otpdt6jm></path> </svg> <input type="search" id="search-input" class="search-input" placeholder="Search PDFs, methods, or content..." autocomplete="off" spellcheck="false" data-astro-cid-otpdt6jm> <span class="search-shortcut" data-astro-cid-otpdt6jm>/</span> </div> <div id="search-results" class="search-results" data-astro-cid-otpdt6jm></div> </div> </div> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.Bxe8LC99.js"></script>  <!-- Global styles for dynamically generated search results -->  </div> </div> </header>  <div class="container mx-auto px-4 py-8 max-w-7xl" data-astro-cid-wxiprx5h> <!-- PDF Preview and Info Header --> <header class="mb-8 border-b" data-astro-cid-wxiprx5h> <div class="md:grid md:grid-cols-3 gap-6 p-6" data-astro-cid-wxiprx5h> <!-- PDF Preview --> <div class="md:col-span-1 mb-6 md:mb-0 header-preview" data-astro-cid-wxiprx5h> <img src="/artifacts/screenshots/focus/focus-1.png" alt="Extracting Economic Data from Brazil's Central Bank PDF preview" class="w-full" data-astro-cid-wxiprx5h> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>focus.pdf</p> </div> <!-- Title and Description --> <div class="md:col-span-2" data-astro-cid-wxiprx5h> <h1 class="text-4xl font-bold mb-3" data-astro-cid-wxiprx5h>Extracting Economic Data from Brazil&#39;s Central Bank PDF</h1> <p class="text-lg mb-4" data-astro-cid-wxiprx5h>This PDF is the weekly “Focus” report from Brazil’s central bank with economic projections and statistics. Challenges include commas instead of decimal points, images showing projection changes, and tables without border lines that merge during extraction.</p> <!-- Methods --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Methods Used</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="/methods/pdf" class="method-tag" data-astro-cid-wxiprx5h> PDF </a><a href="/methods/assign" class="method-tag" data-astro-cid-wxiprx5h> assign </a><a href="/methods/below" class="method-tag" data-astro-cid-wxiprx5h> below </a><a href="/methods/clip" class="method-tag" data-astro-cid-wxiprx5h> clip </a><a href="/methods/dropna" class="method-tag" data-astro-cid-wxiprx5h> dropna </a><a href="/methods/expand" class="method-tag" data-astro-cid-wxiprx5h> expand </a><a href="/methods/extract_table" class="method-tag" data-astro-cid-wxiprx5h> extract_table </a><a href="/methods/extract_text" class="method-tag" data-astro-cid-wxiprx5h> extract_text </a><a href="/methods/find" class="method-tag" data-astro-cid-wxiprx5h> find </a><a href="/methods/find_all" class="method-tag" data-astro-cid-wxiprx5h> find_all </a><a href="/methods/right" class="method-tag" data-astro-cid-wxiprx5h> right </a><a href="/methods/show" class="method-tag" data-astro-cid-wxiprx5h> show </a><a href="/methods/to_df" class="method-tag" data-astro-cid-wxiprx5h> to_df </a> </div> </div> <!-- Tags --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Tags</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <span class="tag-tag" data-astro-cid-wxiprx5h>
#Brazil </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Economic Data </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#PDF Extraction </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Tables without Borders </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Comma as Decimal </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Image Interpretation </span> </div> </div> <!-- Colab Link --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>The code</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="https://colab.research.google.com/github/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/focus/notebooks/focus.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block colab-btn" title="Open in Google Colab" data-astro-cid-wxiprx5h> <img src="/colab-badge.svg" alt="Open in Colab" data-astro-cid-wxiprx5h> </a> <a href="https://github.com/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/focus/notebooks/focus.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block gh-btn" title="Open in GitHub" data-astro-cid-wxiprx5h> <img src="/gh-badge.svg" alt="Read notebook" data-astro-cid-wxiprx5h> </a> </div> </div> <!-- Other walkthroughs using this PDF -->  </div> </div> </header> <!-- Main Content Area with Optional PDF Preview --> <div class="content-wrapper" data-astro-cid-wxiprx5h> <!-- PDF Button/Sidebar --> <aside class="pdf-sidebar" data-astro-cid-wxiprx5h> <button class="pdf-view-btn" data-astro-cid-wxiprx5h>
📖 View PDF
</button> <div class="pdf-sidebar-content" style="display: none;" data-astro-cid-wxiprx5h> <button class="pdf-close-btn" data-astro-cid-wxiprx5h> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-wxiprx5h> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-wxiprx5h></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-wxiprx5h></line> </svg> </button> <div class="pdf-preview-wrapper" data-astro-cid-wxiprx5h> <iframe class="pdf-embed" type="application/pdf" data-pdf-url="https://pub-4e99d31d19cb404d8d4f5f7efa51ef6e.r2.dev/pdfs/focus/focus.pdf" data-astro-cid-wxiprx5h></iframe> </div> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>focus.pdf</p> </div> </aside> <!-- Code and Output --> <div class="main-content" data-astro-cid-wxiprx5h> <div class="cells-container space-y-8" data-astro-cid-wxiprx5h> <div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h1>Extracting Economic Data from Brazil&#39;s Central Bank PDF</h1>
<p>This PDF is the weekly “Focus” report from Brazil’s central bank with economic projections and statistics. Challenges include commas instead of decimal points, images showing projection changes, and tables without border lines that merge during extraction.</p>
</div> </div><div id="code-0" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf import PDF

pdf = PDF(&#34;focus.pdf&#34;)
page = pdf.pages[0]
page.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf <span class="token keyword">import</span> PDF

pdf <span class="token operator">=</span> PDF<span class="token punctuation">(</span><span class="token string">"focus.pdf"</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
page<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf import PDF
pdf = PDF(&#39;focus.pdf&#39;)
page = pdf.pages[0]...
[DEBUG] Evaluating expression: page.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_1.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_1.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Let&#39;s cut out the part of the page we&#39;re interested in: everything from <strong>Expectativas</strong> to the long, light text that starts with <strong>comportamento</strong>.</p>
</div> </div><div id="code-1" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="data = (
    page
    .find(text='Expectativas')
    .below(
        until='text:contains(comportamento)',
        include_endpoint=False
    )
)
    
data.show(crop=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>data <span class="token operator">=</span> <span class="token punctuation">(</span>
    page
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">'Expectativas'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(comportamento)'</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
    
data<span class="token punctuation">.</span>show<span class="token punctuation">(</span>crop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: data = page.find(text=&#39;Expectativas&#39;).below(until=&#39;text:contains(comportamento)&#39;, include_endpoint=F...
[DEBUG] Evaluating expression: data.show(crop=True)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_2.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_2.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h2>Grabbing headers</h2>
<p>While we could type out the column names on the left, it&#39;s probably easier to just scrape them from the page. We start from IPCA, move down, clip it to the section we cut out earlier (otherwise it runs down the whole page), then find all of the text that even somewhat overlaps.</p>
</div> </div><div id="code-2" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="row_names = (
    data
    .find(text='IPCA')
    .below(width='element', include_source=True)
    .clip(data)
    .find_all('text', overlap='partial')
)
headers = row_names.extract_each_text()
headers" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>row_names <span class="token operator">=</span> <span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">'IPCA'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">,</span> include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>clip<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">,</span> overlap<span class="token operator">=</span><span class="token string">'partial'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
headers <span class="token operator">=</span> row_names<span class="token punctuation">.</span>extract_each_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
headers</code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: row_names = data.find(text=&#39;IPCA&#39;).below(width=&#39;element&#39;, include_source=True).clip(data).find_all(&#39;...
[DEBUG] Evaluating expression: headers...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>[&#39;IPCA (variação %)&#39;, &#39;PIB Total (variação % sobre ano anterior)&#39;, &#39;Câmbio (R$/US$)&#39;, &#39;Selic (% a.a)&#39;, &#39;IGP-M (variação %)&#39;, &#39;IPCA Administrados (variação %)&#39;, &#39;Conta corrente (US$ bilhões)&#39;, &#39;Balança comercial (US$ bilhões)&#39;, &#39;Investimento direto no país (US$ bilhões)&#39;, &#39;Dívida líquida do setor público (% do PIB)&#39;, &#39;Resultado primário (% do PIB)&#39;, &#39;Resultado nominal (% do PIB)&#39;]</pre> </div>   </div> </div> </div> </div><div class="cell-container " data-astro-cid-wxiprx5h> <div class="tab-group-wrapper" data-astro-cid-wxiprx5h> <div class="multiple-approaches-indicator" data-astro-cid-wxiprx5h> <span class="approaches-text" data-astro-cid-wxiprx5h>Multiple approaches</span> <svg class="swirly-arrow" width="50" height="30" viewBox="0 0 50 30" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-wxiprx5h> <path d="M2 15 Q 15 5, 28 12 T 45 12" stroke="#6366f1" stroke-width="2" stroke-linecap="round" fill="none" data-astro-cid-wxiprx5h></path> <path d="M40 10 L 45 12 L 42 17" stroke="#6366f1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" data-astro-cid-wxiprx5h></path> </svg> </div> <div class="tab-group" data-astro-cid-wxiprx5h> <div class="tab-nav" data-astro-cid-wxiprx5h> <button class="tab-button active" data-tab-index="0" data-astro-cid-wxiprx5h> Using sections </button><button class="tab-button " data-tab-index="1" data-astro-cid-wxiprx5h> Manually selecting tables </button> </div> <div class="tab-panels" data-astro-cid-wxiprx5h> <div class="tab-panel active" data-tab-index="0" data-astro-cid-wxiprx5h> <div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><h2>Horizontal sections</h2>
<p>While you usually use <code>.get_sections</code> to split pages vertically, you can also do it horizontally. In this case we&#39;ll find the year headers - four numbers in a row, size 10 font - and use them as our breakpoints.</p>
</div> </div><div class="tab-cell" id="code-3" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="sections = (
    data.get_sections(
        start_elements=&#34;text[size~=10]:regex(\d\d\d\d)&#34;,
        include_boundaries='start',
        orientation='horizontal'
    )
)
sections.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>sections <span class="token operator">=</span> <span class="token punctuation">(</span>
    data<span class="token punctuation">.</span>get_sections<span class="token punctuation">(</span>
        start_elements<span class="token operator">=</span><span class="token string">"text[size~=10]:regex(\d\d\d\d)"</span><span class="token punctuation">,</span>
        include_boundaries<span class="token operator">=</span><span class="token string">'start'</span><span class="token punctuation">,</span>
        orientation<span class="token operator">=</span><span class="token string">'horizontal'</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
sections<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: sections = data.get_sections(start_elements=&#39;text[size~=10]:regex(\\d\\d\\d\\d)&#39;, include_boundaries...
[DEBUG] Evaluating expression: sections.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_3.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_3.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>We&#39;ll take the first table as an example. We don&#39;t want all of that junk up top – it&#39;s easy to retype multi-row headers – so we&#39;ll dial it back in a bit.</p>
</div> </div><div class="tab-cell" id="code-4" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="(
    sections[0]
    .expand(top=-50)
    .show()
)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token punctuation">(</span>
    sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: sections[0].expand(top=-50).show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_4.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_4.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Then we&#39;ll ask it to extract the content using the <strong>stream</strong> method, which uses the space between text. Even though we can see lines and backgrounds and all sorts of things, stream works consistently when other approaches don&#39;t!</p>
</div> </div><div class="tab-cell" id="code-5" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="(
    sections[0]
    .expand(top=-50, right=0)
    .extract_table('stream')
    .to_df(header=False)
    .dropna(axis=0, how='all')
)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token punctuation">(</span>
    sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: sections[0].expand(top=-50, right=0).extract_table(&#39;stream&#39;).to_df(header=False).dropna(axis=0, how=...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>semanas</td>
      <td>semana</td>
      <td>s</td>
      <td>ema</td>
      <td>nal *</td>
      <td>**</td>
      <td>úteis</td>
      <td>***</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5,65</td>
      <td>5,55</td>
      <td>5,53</td>
      <td>▼</td>
      <td>(3)</td>
      <td>148</td>
      <td>5,51</td>
      <td>112</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1,97</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>112</td>
      <td>2,00</td>
      <td>71</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5,90</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>▼</td>
      <td>(1)</td>
      <td>119</td>
      <td>5,85</td>
      <td>84</td>
    </tr>
    <tr>
      <th>4</th>
      <td>15,00</td>
      <td>15,00</td>
      <td>14,75</td>
      <td>▼</td>
      <td>(1)</td>
      <td>144</td>
      <td>14,75</td>
      <td>102</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5,10</td>
      <td>4,84</td>
      <td>4,98</td>
      <td>▲</td>
      <td>(1)</td>
      <td>75</td>
      <td>4,96</td>
      <td>54</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5,06</td>
      <td>4,75</td>
      <td>4,63</td>
      <td>▼</td>
      <td>(4)</td>
      <td>104</td>
      <td>4,52</td>
      <td>80</td>
    </tr>
    <tr>
      <th>8</th>
      <td>-56,30</td>
      <td>-55,90</td>
      <td>-55,90</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>37</td>
      <td>-55,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>10</th>
      <td>75,00</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>38</td>
      <td>75,96</td>
      <td>23</td>
    </tr>
    <tr>
      <th>11</th>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(20)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>13</th>
      <td>65,79</td>
      <td>65,90</td>
      <td>65,80</td>
      <td>▼</td>
      <td>(1)</td>
      <td>55</td>
      <td>65,40</td>
      <td>38</td>
    </tr>
    <tr>
      <th>14</th>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>65</td>
      <td>-0,60</td>
      <td>46</td>
    </tr>
    <tr>
      <th>15</th>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>49</td>
      <td>-8,80</td>
      <td>34</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>We include the <code>.dropna</code> in there because stream injects some phantom rows full of empty values.</p>
<h2>Looping through sections</h2>
<p>Now that we know how it works from one section, let&#39;s do it for all of them. We&#39;ll use <code>.apply</code> so that it creates a list of dataframes that we can combine later on.</p>
</div> </div><div class="tab-cell" id="code-6" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="dataframes = sections.apply(lambda section: (
    section
        .expand(top=-50, right=0)
        .extract_table('stream')
        .to_df(header=False)
        .dropna(axis=0, how='all')
        .assign(
            year=section.find('text[size~=10]:regex(\d\d\d\d)').extract_text(),
            value=headers
        )
    )
)

import pandas as pd

pd.concat(dataframes, ignore_index=True)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>dataframes <span class="token operator">=</span> sections<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> section<span class="token punctuation">:</span> <span class="token punctuation">(</span>
    section
        <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>assign<span class="token punctuation">(</span>
            year<span class="token operator">=</span>section<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text[size~=10]:regex(\d\d\d\d)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            value<span class="token operator">=</span>headers
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>dataframes<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: dataframes = sections.apply(lambda section: section.expand(top=-50, right=0).extract_table(&#39;stream&#39;)...
</pre> </div>   <div class="p-4 bg-red-50 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-red-600 mb-2 uppercase tracking-wider font-sans" data-astro-cid-wxiprx5h>Error</div> <pre class="whitespace-pre-wrap text-red-700" data-astro-cid-wxiprx5h>Traceback (most recent call last):
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/tasks/execution.py&quot;, line 358, in _execute_code
    exec(code_without_last, self.namespace)
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/natural_pdf/collections/mixins.py&quot;, line 100, in apply
    results = [func(item, *args, **kwargs) for item in items_iterable]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/natural_pdf/collections/mixins.py&quot;, line 100, in &lt;listcomp&gt;
    results = [func(item, *args, **kwargs) for item in items_iterable]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;lambda&gt;
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/pandas/core/frame.py&quot;, line 5246, in assign
    data[k] = com.apply_if_callable(v, data)
    ~~~~^^^
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/pandas/core/frame.py&quot;, line 4316, in __setitem__
    self._set_item(key, value)
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/pandas/core/frame.py&quot;, line 4529, in _set_item
    value, refs = self._sanitize_column(value)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/pandas/core/frame.py&quot;, line 5273, in _sanitize_column
    com.require_length_match(value, self.index)
  File &quot;/home/runner/work/badpdfs-site/badpdfs-site/processor/.venv/lib/python3.11/site-packages/pandas/core/common.py&quot;, line 573, in require_length_match
    raise ValueError(
ValueError: Length of values (12) does not match length of index (13)
</pre> </div> </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>import pandas as pd</p>
<p>pd.concat(dataframes, ignore_index=True)</p>
</div> </div> </div><div class="tab-panel " data-tab-index="1" data-astro-cid-wxiprx5h> <div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><h2>Grabbing tables</h2>
<p>We start by grabbing the space between the 2025 and 2026 headers.</p>
</div> </div><div class="tab-cell" id="code-7" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="(
    data
    .find('text:contains(2025)')
    .right(
        until='text:contains(2026)',
        include_source=True,
        include_endpoint=False
    )
).show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2025)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(2026)'</span><span class="token punctuation">,</span>
        include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: data.find(&#39;text:contains(2025)&#39;).right(until=&#39;text:contains(2026)&#39;, include_source=True, include_end...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_5.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_5.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>...then we move down...</p>
</div> </div><div class="tab-cell" id="code-8" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="(
    data
    .find('text:contains(2025)')
    .right(
        until='text:contains(2026)',
        include_source=True,
        include_endpoint=False
    )
    .below(width='element')
).show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2025)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(2026)'</span><span class="token punctuation">,</span>
        include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: data.find(&#39;text:contains(2025)&#39;).right(until=&#39;text:contains(2026)&#39;, include_source=True, include_end...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_6.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_6.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>...then we nudge the top down a little bit and clip it to the size of the region of interest (the <code>data</code> region).</p>
</div> </div><div class="tab-cell" id="code-9" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table = (
    data
    .find('text:contains(2025)')
    .right(
        until='text:contains(2026)',
        include_source=True,
        include_endpoint=False
    )
    .below(width='element')
    .expand(top=-20)
    .clip(data)
)

table.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>table <span class="token operator">=</span> <span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2025)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(2026)'</span><span class="token punctuation">,</span>
        include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>clip<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span>

table<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table = data.find(&#39;text:contains(2025)&#39;).right(until=&#39;text:contains(2026)&#39;, include_source=True, inc...
[DEBUG] Evaluating expression: table.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_7.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_7.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>We could try to figure out something magic with all of the headers and colors and backgrounds and blah blah blah, but it&#39;s easier to just extract the table using the &quot;stream&quot; method, which looks at the gaps between rows and columns. While there <em>are</em> actual boundaries between the rows, I promise stream works the best.</p>
</div> </div><div class="tab-cell" id="code-10" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df_2025 = table.expand(top=-5).extract_table('stream').to_df(header=False)
df_2025" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>df_2025 <span class="token operator">=</span> table<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
df_2025</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: df_2025 = table.expand(top=-5).extract_table(&#39;stream&#39;).to_df(header=False)...
[DEBUG] Evaluating expression: df_2025...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5,65</td>
      <td>5,55</td>
      <td>5,53</td>
      <td>▼</td>
      <td>(3)</td>
      <td>148</td>
      <td>5,51</td>
      <td>112</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1,97</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>112</td>
      <td>2,00</td>
      <td>71</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5,90</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>▼</td>
      <td>(1)</td>
      <td>119</td>
      <td>5,85</td>
      <td>84</td>
    </tr>
    <tr>
      <th>3</th>
      <td>15,00</td>
      <td>15,00</td>
      <td>14,75</td>
      <td>▼</td>
      <td>(1)</td>
      <td>144</td>
      <td>14,75</td>
      <td>102</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5,10</td>
      <td>4,84</td>
      <td>4,98</td>
      <td>▲</td>
      <td>(1)</td>
      <td>75</td>
      <td>4,96</td>
      <td>54</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5,06</td>
      <td>4,75</td>
      <td>4,63</td>
      <td>▼</td>
      <td>(4)</td>
      <td>104</td>
      <td>4,52</td>
      <td>80</td>
    </tr>
    <tr>
      <th>6</th>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>7</th>
      <td>-56,30</td>
      <td>-55,90</td>
      <td>-55,90</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>37</td>
      <td>-55,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>8</th>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>9</th>
      <td>75,00</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>38</td>
      <td>75,96</td>
      <td>23</td>
    </tr>
    <tr>
      <th>10</th>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(20)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>11</th>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>12</th>
      <td>65,79</td>
      <td>65,90</td>
      <td>65,80</td>
      <td>▼</td>
      <td>(1)</td>
      <td>55</td>
      <td>65,40</td>
      <td>38</td>
    </tr>
    <tr>
      <th>13</th>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>65</td>
      <td>-0,60</td>
      <td>46</td>
    </tr>
    <tr>
      <th>14</th>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>49</td>
      <td>-8,80</td>
      <td>34</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>It needs a <em>little</em> cleanup. Due to using the steam approach we got some extra (empty) columns, but we can just drop them with pandas. We&#39;ll also insert the year and the row titles that we grabbed up above.</p>
</div> </div><div class="tab-cell" id="code-11" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df_2025 = df_2025.dropna(axis=0, how='all')
df_2025.insert(0, 'year', 2025)
df_2025.insert(0, 'value', headers)
df_2025" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>df_2025 <span class="token operator">=</span> df_2025<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
df_2025<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">,</span> <span class="token number">2025</span><span class="token punctuation">)</span>
df_2025<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> headers<span class="token punctuation">)</span>
df_2025</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: df_2025 = df_2025.dropna(axis=0, how=&#39;all&#39;)
df_2025.insert(0, &#39;year&#39;, 2025)
df_2025.insert(0, &#39;value...
[DEBUG] Evaluating expression: df_2025...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>year</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>IPCA (variação %)</td>
      <td>2025</td>
      <td>5,65</td>
      <td>5,55</td>
      <td>5,53</td>
      <td>▼</td>
      <td>(3)</td>
      <td>148</td>
      <td>5,51</td>
      <td>112</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2025</td>
      <td>1,97</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>112</td>
      <td>2,00</td>
      <td>71</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Câmbio (R$/US$)</td>
      <td>2025</td>
      <td>5,90</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>▼</td>
      <td>(1)</td>
      <td>119</td>
      <td>5,85</td>
      <td>84</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Selic (% a.a)</td>
      <td>2025</td>
      <td>15,00</td>
      <td>15,00</td>
      <td>14,75</td>
      <td>▼</td>
      <td>(1)</td>
      <td>144</td>
      <td>14,75</td>
      <td>102</td>
    </tr>
    <tr>
      <th>4</th>
      <td>IGP-M (variação %)</td>
      <td>2025</td>
      <td>5,10</td>
      <td>4,84</td>
      <td>4,98</td>
      <td>▲</td>
      <td>(1)</td>
      <td>75</td>
      <td>4,96</td>
      <td>54</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2025</td>
      <td>5,06</td>
      <td>4,75</td>
      <td>4,63</td>
      <td>▼</td>
      <td>(4)</td>
      <td>104</td>
      <td>4,52</td>
      <td>80</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2025</td>
      <td>-56,30</td>
      <td>-55,90</td>
      <td>-55,90</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>37</td>
      <td>-55,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2025</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>38</td>
      <td>75,96</td>
      <td>23</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2025</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(20)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2025</td>
      <td>65,79</td>
      <td>65,90</td>
      <td>65,80</td>
      <td>▼</td>
      <td>(1)</td>
      <td>55</td>
      <td>65,40</td>
      <td>38</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2025</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>65</td>
      <td>-0,60</td>
      <td>46</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2025</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>49</td>
      <td>-8,80</td>
      <td>34</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><h3>Working on all the other tables</h3>
<p>2026 is basically the same.</p>
</div> </div><div class="tab-cell" id="code-12" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table = (
    data
    .find('text:contains(2026)')
    .right(
        until='text:contains(2027)',
        include_source=True,
        include_endpoint=False
    )
    .below(width='element')
    .expand(top=-20)
    .clip(data)
)
table.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>table <span class="token operator">=</span> <span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2026)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(2027)'</span><span class="token punctuation">,</span>
        include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>clip<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
table<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table = data.find(&#39;text:contains(2026)&#39;).right(until=&#39;text:contains(2027)&#39;, include_source=True, inc...
[DEBUG] Evaluating expression: table.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/focus/focus/images/image_8.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/focus/focus/images/image_8.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" id="code-13" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="df_2026 = table.expand(top=-5).extract_table('stream').to_df(header=False).dropna(axis=0, how='all')
df_2026.insert(0, 'year', 2026)
df_2026.insert(0, 'value', headers)
df_2026" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>df_2026 <span class="token operator">=</span> table<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
df_2026<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">,</span> <span class="token number">2026</span><span class="token punctuation">)</span>
df_2026<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> headers<span class="token punctuation">)</span>
df_2026</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: df_2026 = table.expand(top=-5).extract_table(&#39;stream&#39;).to_df(header=False).dropna(axis=0, how=&#39;all&#39;)...
[DEBUG] Evaluating expression: df_2026...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>year</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>IPCA (variação %)</td>
      <td>2026</td>
      <td>4,50</td>
      <td>4,51</td>
      <td>4,51</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>142</td>
      <td>4,52</td>
      <td>109</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2026</td>
      <td>1,60</td>
      <td>1,70</td>
      <td>1,70</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>106</td>
      <td>1,70</td>
      <td>69</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Câmbio (R$/US$)</td>
      <td>2026</td>
      <td>5,99</td>
      <td>5,95</td>
      <td>5,91</td>
      <td>▼</td>
      <td>(5)</td>
      <td>117</td>
      <td>5,91</td>
      <td>83</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Selic (% a.a)</td>
      <td>2026</td>
      <td>12,50</td>
      <td>12,50</td>
      <td>12,50</td>
      <td>&lt;NA&gt;</td>
      <td>(14)</td>
      <td>137</td>
      <td>12,50</td>
      <td>98</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IGP-M (variação %)</td>
      <td>2026</td>
      <td>4,52</td>
      <td>4,59</td>
      <td>4,52</td>
      <td>▼</td>
      <td>(1)</td>
      <td>67</td>
      <td>4,50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>6</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2026</td>
      <td>4,28</td>
      <td>4,28</td>
      <td>4,28</td>
      <td>&lt;NA&gt;</td>
      <td>(6)</td>
      <td>96</td>
      <td>4,28</td>
      <td>76</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2026</td>
      <td>-50,60</td>
      <td>-51,00</td>
      <td>-52,90</td>
      <td>▼</td>
      <td>(1)</td>
      <td>37</td>
      <td>-52,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2026</td>
      <td>79,51</td>
      <td>79,40</td>
      <td>78,60</td>
      <td>▼</td>
      <td>(1)</td>
      <td>36</td>
      <td>78,60</td>
      <td>22</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2026</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(6)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2026</td>
      <td>70,01</td>
      <td>70,35</td>
      <td>70,18</td>
      <td>▼</td>
      <td>(1)</td>
      <td>52</td>
      <td>69,95</td>
      <td>36</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2026</td>
      <td>-0,70</td>
      <td>-0,67</td>
      <td>-0,64</td>
      <td>▲</td>
      <td>(1)</td>
      <td>62</td>
      <td>-0,60</td>
      <td>44</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2026</td>
      <td>-8,50</td>
      <td>-8,55</td>
      <td>-8,51</td>
      <td>▲</td>
      <td>(1)</td>
      <td>48</td>
      <td>-8,50</td>
      <td>33</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>As is 2027.</p>
</div> </div><div class="tab-cell" id="code-14" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table = (
    data
    .find('text:contains(2027)')
    .right(
        until='text:contains(2028)',
        include_source=True,
        include_endpoint=False
    )
    .below(width='element')
    .expand(top=-20)
    .clip(data)
)
df_2027 = table.expand(top=-5).extract_table('stream').to_df(header=False).dropna(axis=0, how='all')
df_2027.insert(0, 'year', 2027)
df_2027.insert(0, 'value', headers)
df_2027" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>table <span class="token operator">=</span> <span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2027)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:contains(2028)'</span><span class="token punctuation">,</span>
        include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>clip<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
df_2027 <span class="token operator">=</span> table<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
df_2027<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">,</span> <span class="token number">2027</span><span class="token punctuation">)</span>
df_2027<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> headers<span class="token punctuation">)</span>
df_2027</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table = data.find(&#39;text:contains(2027)&#39;).right(until=&#39;text:contains(2028)&#39;, include_source=True, inc...
[DEBUG] Evaluating expression: df_2027...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>year</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>IPCA (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(11)</td>
      <td>117</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2027</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>77</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Câmbio (R$/US$)</td>
      <td>2027</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>5,85</td>
      <td>▼</td>
      <td>(2)</td>
      <td>85</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Selic (% a.a)</td>
      <td>2027</td>
      <td>10,50</td>
      <td>10,50</td>
      <td>10,50</td>
      <td>&lt;NA&gt;</td>
      <td>(12)</td>
      <td>111</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IGP-M (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(16)</td>
      <td>58</td>
    </tr>
    <tr>
      <th>6</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(15)</td>
      <td>68</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2027</td>
      <td>-50,00</td>
      <td>-50,00</td>
      <td>-50,74</td>
      <td>▼</td>
      <td>(1)</td>
      <td>26</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2027</td>
      <td>79,60</td>
      <td>80,00</td>
      <td>80,11</td>
      <td>▲</td>
      <td>(5)</td>
      <td>24</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2027</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>76,90</td>
      <td>▼</td>
      <td>(1)</td>
      <td>25</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2027</td>
      <td>74,08</td>
      <td>74,13</td>
      <td>74,08</td>
      <td>▼</td>
      <td>(1)</td>
      <td>43</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2027</td>
      <td>-0,50</td>
      <td>-0,46</td>
      <td>-0,46</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>46</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2027</td>
      <td>-7,19</td>
      <td>-7,20</td>
      <td>-7,20</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>37</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>2028 is a <em>little</em> different because it doesn&#39;t including an endpoint on the right. We just blast on through until we hit the right-hand side of the page.</p>
</div> </div><div class="tab-cell" id="code-15" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="table = (
    data
    .find('text:contains(2028)')
    .right(include_source=True)
    .below(width='element')
    .expand(top=-20)
    .clip(data)
)
df_2028 = table.expand(top=-5).extract_table('stream').to_df(header=False).dropna(axis=0, how='all')
df_2028.insert(0, 'year', 2028)
df_2028.insert(0, 'value', headers)
df_2028" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>table <span class="token operator">=</span> <span class="token punctuation">(</span>
    data
    <span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'text:contains(2028)'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>right<span class="token punctuation">(</span>include_source<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>below<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'element'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>clip<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
df_2028 <span class="token operator">=</span> table<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>top<span class="token operator">=</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_table<span class="token punctuation">(</span><span class="token string">'stream'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_df<span class="token punctuation">(</span>header<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
df_2028<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">,</span> <span class="token number">2028</span><span class="token punctuation">)</span>
df_2028<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">,</span> headers<span class="token punctuation">)</span>
df_2028</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: table = data.find(&#39;text:contains(2028)&#39;).right(include_source=True).below(width=&#39;element&#39;).expand(to...
[DEBUG] Evaluating expression: df_2028...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>year</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>IPCA (variação %)</td>
      <td>2028</td>
      <td>3,78</td>
      <td>3,78</td>
      <td>3,80</td>
      <td>▲</td>
      <td>(1)</td>
      <td>105</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2028</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(60)</td>
      <td>77</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Câmbio (R$/US$)</td>
      <td>2028</td>
      <td>5,85</td>
      <td>5,85</td>
      <td>5,85</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>82</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Selic (% a.a)</td>
      <td>2028</td>
      <td>10,00</td>
      <td>10,00</td>
      <td>10,00</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>103</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IGP-M (variação %)</td>
      <td>2028</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(14)</td>
      <td>55</td>
    </tr>
    <tr>
      <th>6</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2028</td>
      <td>3,94</td>
      <td>3,90</td>
      <td>3,95</td>
      <td>▲</td>
      <td>(2)</td>
      <td>64</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2028</td>
      <td>-51,18</td>
      <td>-51,06</td>
      <td>-53,15</td>
      <td>▼</td>
      <td>(1)</td>
      <td>24</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2028</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>81,00</td>
      <td>▲</td>
      <td>(1)</td>
      <td>20</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2028</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>76,40</td>
      <td>▼</td>
      <td>(1)</td>
      <td>24</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2028</td>
      <td>75,96</td>
      <td>75,98</td>
      <td>76,00</td>
      <td>▲</td>
      <td>(2)</td>
      <td>39</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2028</td>
      <td>-0,26</td>
      <td>-0,12</td>
      <td>-0,10</td>
      <td>▲</td>
      <td>(4)</td>
      <td>43</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2028</td>
      <td>-6,50</td>
      <td>-6,60</td>
      <td>-6,60</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>35</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Now we&#39;ll set up the dataframes in a nice long list to combine in the next step.</p>
</div> </div><div class="tab-cell" id="code-16" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="dataframes = [df_2025, df_2026, df_2027, df_2028]" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>dataframes <span class="token operator">=</span> <span class="token punctuation">[</span>df_2025<span class="token punctuation">,</span> df_2026<span class="token punctuation">,</span> df_2027<span class="token punctuation">,</span> df_2028<span class="token punctuation">]</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: dataframes = [df_2025, df_2026, df_2027, df_2028]...
</pre> </div>    </div> </div> </div> </div> </div> </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h2>Combining our data</h2>
<p>Now that we have a list of dataframes (no matter which path we took) we can just use pandas to concatenate them.</p>
</div> </div><div id="code-17" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="import pandas as pd

df = pd.concat(dataframes, ignore_index=True)
df" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>dataframes<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
df</code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: import pandas as pd
df = pd.concat(dataframes, ignore_index=True)...
[DEBUG] Evaluating expression: df...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>year</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>IPCA (variação %)</td>
      <td>2025</td>
      <td>5,65</td>
      <td>5,55</td>
      <td>5,53</td>
      <td>▼</td>
      <td>(3)</td>
      <td>148</td>
      <td>5,51</td>
      <td>112</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2025</td>
      <td>1,97</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>112</td>
      <td>2,00</td>
      <td>71</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Câmbio (R$/US$)</td>
      <td>2025</td>
      <td>5,90</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>▼</td>
      <td>(1)</td>
      <td>119</td>
      <td>5,85</td>
      <td>84</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Selic (% a.a)</td>
      <td>2025</td>
      <td>15,00</td>
      <td>15,00</td>
      <td>14,75</td>
      <td>▼</td>
      <td>(1)</td>
      <td>144</td>
      <td>14,75</td>
      <td>102</td>
    </tr>
    <tr>
      <th>4</th>
      <td>IGP-M (variação %)</td>
      <td>2025</td>
      <td>5,10</td>
      <td>4,84</td>
      <td>4,98</td>
      <td>▲</td>
      <td>(1)</td>
      <td>75</td>
      <td>4,96</td>
      <td>54</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2025</td>
      <td>5,06</td>
      <td>4,75</td>
      <td>4,63</td>
      <td>▼</td>
      <td>(4)</td>
      <td>104</td>
      <td>4,52</td>
      <td>80</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2025</td>
      <td>-56,30</td>
      <td>-55,90</td>
      <td>-55,90</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>37</td>
      <td>-55,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2025</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>75,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>38</td>
      <td>75,96</td>
      <td>23</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2025</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(20)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2025</td>
      <td>65,79</td>
      <td>65,90</td>
      <td>65,80</td>
      <td>▼</td>
      <td>(1)</td>
      <td>55</td>
      <td>65,40</td>
      <td>38</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2025</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>-0,60</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>65</td>
      <td>-0,60</td>
      <td>46</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2025</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>-9,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>49</td>
      <td>-8,80</td>
      <td>34</td>
    </tr>
    <tr>
      <th>12</th>
      <td>IPCA (variação %)</td>
      <td>2026</td>
      <td>4,50</td>
      <td>4,51</td>
      <td>4,51</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>142</td>
      <td>4,52</td>
      <td>109</td>
    </tr>
    <tr>
      <th>13</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2026</td>
      <td>1,60</td>
      <td>1,70</td>
      <td>1,70</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>106</td>
      <td>1,70</td>
      <td>69</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Câmbio (R$/US$)</td>
      <td>2026</td>
      <td>5,99</td>
      <td>5,95</td>
      <td>5,91</td>
      <td>▼</td>
      <td>(5)</td>
      <td>117</td>
      <td>5,91</td>
      <td>83</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Selic (% a.a)</td>
      <td>2026</td>
      <td>12,50</td>
      <td>12,50</td>
      <td>12,50</td>
      <td>&lt;NA&gt;</td>
      <td>(14)</td>
      <td>137</td>
      <td>12,50</td>
      <td>98</td>
    </tr>
    <tr>
      <th>16</th>
      <td>IGP-M (variação %)</td>
      <td>2026</td>
      <td>4,52</td>
      <td>4,59</td>
      <td>4,52</td>
      <td>▼</td>
      <td>(1)</td>
      <td>67</td>
      <td>4,50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>17</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2026</td>
      <td>4,28</td>
      <td>4,28</td>
      <td>4,28</td>
      <td>&lt;NA&gt;</td>
      <td>(6)</td>
      <td>96</td>
      <td>4,28</td>
      <td>76</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2026</td>
      <td>-50,60</td>
      <td>-51,00</td>
      <td>-52,90</td>
      <td>▼</td>
      <td>(1)</td>
      <td>37</td>
      <td>-52,90</td>
      <td>21</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2026</td>
      <td>79,51</td>
      <td>79,40</td>
      <td>78,60</td>
      <td>▼</td>
      <td>(1)</td>
      <td>36</td>
      <td>78,60</td>
      <td>22</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2026</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>70,00</td>
      <td>&lt;NA&gt;</td>
      <td>(6)</td>
      <td>34</td>
      <td>70,00</td>
      <td>18</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2026</td>
      <td>70,01</td>
      <td>70,35</td>
      <td>70,18</td>
      <td>▼</td>
      <td>(1)</td>
      <td>52</td>
      <td>69,95</td>
      <td>36</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2026</td>
      <td>-0,70</td>
      <td>-0,67</td>
      <td>-0,64</td>
      <td>▲</td>
      <td>(1)</td>
      <td>62</td>
      <td>-0,60</td>
      <td>44</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2026</td>
      <td>-8,50</td>
      <td>-8,55</td>
      <td>-8,51</td>
      <td>▲</td>
      <td>(1)</td>
      <td>48</td>
      <td>-8,50</td>
      <td>33</td>
    </tr>
    <tr>
      <th>24</th>
      <td>IPCA (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(11)</td>
      <td>117</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>25</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2027</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(5)</td>
      <td>77</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Câmbio (R$/US$)</td>
      <td>2027</td>
      <td>5,90</td>
      <td>5,86</td>
      <td>5,85</td>
      <td>▼</td>
      <td>(2)</td>
      <td>85</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Selic (% a.a)</td>
      <td>2027</td>
      <td>10,50</td>
      <td>10,50</td>
      <td>10,50</td>
      <td>&lt;NA&gt;</td>
      <td>(12)</td>
      <td>111</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>28</th>
      <td>IGP-M (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(16)</td>
      <td>58</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>29</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2027</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(15)</td>
      <td>68</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2027</td>
      <td>-50,00</td>
      <td>-50,00</td>
      <td>-50,74</td>
      <td>▼</td>
      <td>(1)</td>
      <td>26</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2027</td>
      <td>79,60</td>
      <td>80,00</td>
      <td>80,11</td>
      <td>▲</td>
      <td>(5)</td>
      <td>24</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2027</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>76,90</td>
      <td>▼</td>
      <td>(1)</td>
      <td>25</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2027</td>
      <td>74,08</td>
      <td>74,13</td>
      <td>74,08</td>
      <td>▼</td>
      <td>(1)</td>
      <td>43</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2027</td>
      <td>-0,50</td>
      <td>-0,46</td>
      <td>-0,46</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>46</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2027</td>
      <td>-7,19</td>
      <td>-7,20</td>
      <td>-7,20</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>37</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>36</th>
      <td>IPCA (variação %)</td>
      <td>2028</td>
      <td>3,78</td>
      <td>3,78</td>
      <td>3,80</td>
      <td>▲</td>
      <td>(1)</td>
      <td>105</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>37</th>
      <td>PIB Total (variação % sobre ano anterior)</td>
      <td>2028</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>2,00</td>
      <td>&lt;NA&gt;</td>
      <td>(60)</td>
      <td>77</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Câmbio (R$/US$)</td>
      <td>2028</td>
      <td>5,85</td>
      <td>5,85</td>
      <td>5,85</td>
      <td>&lt;NA&gt;</td>
      <td>(2)</td>
      <td>82</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Selic (% a.a)</td>
      <td>2028</td>
      <td>10,00</td>
      <td>10,00</td>
      <td>10,00</td>
      <td>&lt;NA&gt;</td>
      <td>(19)</td>
      <td>103</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>40</th>
      <td>IGP-M (variação %)</td>
      <td>2028</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>4,00</td>
      <td>&lt;NA&gt;</td>
      <td>(14)</td>
      <td>55</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>41</th>
      <td>IPCA Administrados (variação %)</td>
      <td>2028</td>
      <td>3,94</td>
      <td>3,90</td>
      <td>3,95</td>
      <td>▲</td>
      <td>(2)</td>
      <td>64</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Conta corrente (US$ bilhões)</td>
      <td>2028</td>
      <td>-51,18</td>
      <td>-51,06</td>
      <td>-53,15</td>
      <td>▼</td>
      <td>(1)</td>
      <td>24</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Balança comercial (US$ bilhões)</td>
      <td>2028</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>81,00</td>
      <td>▲</td>
      <td>(1)</td>
      <td>20</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Investimento direto no país (US$ bilhões)</td>
      <td>2028</td>
      <td>80,00</td>
      <td>80,00</td>
      <td>76,40</td>
      <td>▼</td>
      <td>(1)</td>
      <td>24</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Dívida líquida do setor público (% do PIB)</td>
      <td>2028</td>
      <td>75,96</td>
      <td>75,98</td>
      <td>76,00</td>
      <td>▲</td>
      <td>(2)</td>
      <td>39</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Resultado primário (% do PIB)</td>
      <td>2028</td>
      <td>-0,26</td>
      <td>-0,12</td>
      <td>-0,10</td>
      <td>▲</td>
      <td>(4)</td>
      <td>43</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>47</th>
      <td>Resultado nominal (% do PIB)</td>
      <td>2028</td>
      <td>-6,50</td>
      <td>-6,60</td>
      <td>-6,60</td>
      <td>&lt;NA&gt;</td>
      <td>(1)</td>
      <td>35</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>There we go!</p>
</div> </div> </div> </div> </div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab-group-wrapper").forEach(t=>{const a=t.querySelectorAll(".tab-button"),c=t.querySelectorAll(".tab-panel");a.forEach((r,s)=>{r.addEventListener("click",()=>{a.forEach(e=>e.classList.remove("active")),c.forEach(e=>e.classList.remove("active")),r.classList.add("active"),c[s].classList.add("active")})})})});</script> <script type="module">function t(){const n=window.location.hash;if(!n)return;const c=decodeURIComponent(n.substring(1)),s=document.querySelectorAll(".code-section pre code");for(const o of s)if((o.textContent||"").includes(c)){const e=o.closest(".cell-container");if(e){e.scrollIntoView({behavior:"smooth",block:"center"}),e.style.background="#fef3c7",setTimeout(()=>{e.style.transition="background 1s ease",e.style.background=""},1e3);break}}}window.addEventListener("load",t);window.addEventListener("hashchange",t);</script> <script type="module">window.copyCode=function(e){const c=e.getAttribute("data-code");navigator.clipboard.writeText(c).then(()=>{const t=e.querySelector("span"),o=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=o},2e3)}).catch(t=>{console.error("Failed to copy:",t)})};let r=localStorage.getItem("columnView")==="true",s=!1;r&&document.querySelector(".cells-container")?.classList.add("column-view");const n=document.createElement("div");n.style.cssText="position: fixed; bottom: 20px; right: 20px; background: black; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; opacity: 0; transition: opacity 0.2s; z-index: 9999;";document.body.appendChild(n);function d(e){n.textContent=e,n.style.opacity="0.8",setTimeout(()=>{n.style.opacity="0"},1500)}document.addEventListener("keydown",e=>{document.querySelector(".cells-container"),document.querySelectorAll(".result-image"),e.key==="r"&&i()});setTimeout(()=>{d("R: toggle PDF")},1e3);function i(){const e=document.querySelector(".pdf-view-btn"),c=document.querySelector(".pdf-sidebar-content"),t=document.querySelector(".content-wrapper"),o=document.querySelector(".pdf-embed");if(s)e.style.display="block",c.style.display="none",t.classList.remove("show-pdf"),s=!1,d("PDF: OFF");else{if(e.style.display="none",c.style.display="block",t.classList.add("show-pdf"),!o.src){const l=o.dataset.pdfUrl;o.src=l+"#toolbar=1&navpanes=0&scrollbar=1"}s=!0,d("PDF: ON")}}const a=document.querySelector(".pdf-view-btn");a?.addEventListener("click",i);const p=document.querySelector(".pdf-close-btn");p?.addEventListener("click",i);</script> <script type="module" src="/_astro/ImageLightbox.astro_astro_type_script_index_0_lang.Cx4c9KCn.js"></script> <footer class="site-footer" data-astro-cid-sz7xmlte> <div class="footer-container" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Bad PDFs</h3> <p data-astro-cid-sz7xmlte>Real-world successfully extracting data from bad, bad pdfs.</p> <div class="footer-links" data-astro-cid-sz7xmlte> <a href="https://github.com/jsoma/natural-pdf" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-sz7xmlte> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-astro-cid-sz7xmlte></path> </svg>
GitHub
</a> </div> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Resources</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf Documentation</a></li> <li data-astro-cid-sz7xmlte><a href="/methods/" data-astro-cid-sz7xmlte>All Methods Reference</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf/issues" data-astro-cid-sz7xmlte>Report an Issue</a></li> <li data-astro-cid-sz7xmlte><a href="/about/" data-astro-cid-sz7xmlte>About This Gallery</a></li> </ul> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Contribute</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="/submit/" data-astro-cid-sz7xmlte>Submit a PDF Example</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/badpdfs-analysis" data-astro-cid-sz7xmlte>Gallery Source Code</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf#contributing" data-astro-cid-sz7xmlte>Contributing Guide</a></li> </ul> </div> </div> <div class="footer-bottom" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>&copy; 2025 Bad PDFs. Built with <a href="https://astro.build" data-astro-cid-sz7xmlte>Astro</a> and powered by <a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf</a>.</p> </div> </div> </footer>   </body></html>