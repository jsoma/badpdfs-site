<!DOCTYPE html><html lang="en" data-astro-cid-wxiprx5h> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.6"><title>Complex Table Extraction from OECD Czech PISA Assessment - bad pdfs</title><link rel="stylesheet" href="/_astro/about.K2Del1EQ.css">
<link rel="stylesheet" href="/_astro/about.DqOHNfsy.css">
<style>code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:#999}.token.punctuation{color:#ccc}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.number,.token.function{color:#f08d49}.token.property,.token.class-name,.token.constant,.token.symbol{color:#f8c555}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:#cc99cd}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:#7ec699}.token.operator,.token.entity,.token.url{color:#67cdcc}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}
</style>
<link rel="stylesheet" href="/_astro/_slug_.B3jYt87b.css"></head> <body data-astro-cid-wxiprx5h> <header class="site-header" data-astro-cid-3ef6ksr2> <div class="header-container" data-astro-cid-3ef6ksr2> <div class="header-left" data-astro-cid-3ef6ksr2> <a href="/" class="site-title" data-astro-cid-3ef6ksr2> <h1 data-astro-cid-3ef6ksr2>bad pdfs</h1> </a> <nav class="header-nav" data-astro-cid-3ef6ksr2> <a href="/" class data-astro-cid-3ef6ksr2>Gallery</a> <a href="/methods/" class data-astro-cid-3ef6ksr2>All Methods</a> <a href="/about/" class data-astro-cid-3ef6ksr2>About</a> <a href="https://jsoma.github.io/natural-pdf/" target="_blank" rel="noopener noreferrer" class="external" data-astro-cid-3ef6ksr2>
natural-pdf docs
<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-3ef6ksr2> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" data-astro-cid-3ef6ksr2></path> <polyline points="15 3 21 3 21 9" data-astro-cid-3ef6ksr2></polyline> <line x1="10" y1="14" x2="21" y2="3" data-astro-cid-3ef6ksr2></line> </svg> </a> </nav> </div> <div class="header-right" data-astro-cid-3ef6ksr2> <button class="dark-mode-toggle" aria-label="Toggle dark mode" data-astro-cid-tcsrer47> <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <circle cx="12" cy="12" r="5" data-astro-cid-tcsrer47></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-tcsrer47></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-tcsrer47></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-tcsrer47></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-tcsrer47></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-tcsrer47></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-tcsrer47></line> </svg> <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-tcsrer47> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-tcsrer47></path> </svg> </button>  <script type="module">const m=document.querySelector(".dark-mode-toggle"),e=document.documentElement,r=localStorage.getItem("theme")||"light";e.setAttribute("data-theme",r);m?.addEventListener("click",()=>{const t=e.getAttribute("data-theme")==="dark"?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const a=window.matchMedia("(prefers-color-scheme: dark)");localStorage.getItem("theme")||e.setAttribute("data-theme",a.matches?"dark":"light");a.addEventListener("change",t=>{localStorage.getItem("theme")||e.setAttribute("data-theme",t.matches?"dark":"light")});</script> <!-- Pass BASE_URL to client-side JavaScript --><meta name="base-url" content="/" style="display: none;"><div class="search-wrapper" data-astro-cid-otpdt6jm> <div class="search-container" data-astro-cid-otpdt6jm> <div class="search-input-wrapper" data-astro-cid-otpdt6jm> <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <path d="m21 21-4.35-4.35" data-astro-cid-otpdt6jm></path> </svg> <input type="search" id="search-input" class="search-input" placeholder="Search PDFs, methods, or content..." autocomplete="off" spellcheck="false" data-astro-cid-otpdt6jm> <span class="search-shortcut" data-astro-cid-otpdt6jm>/</span> </div> <div id="search-results" class="search-results" data-astro-cid-otpdt6jm></div> </div> </div> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.Bxe8LC99.js"></script>  <!-- Global styles for dynamically generated search results -->  </div> </div> </header>  <div class="container mx-auto px-4 py-8 max-w-7xl" data-astro-cid-wxiprx5h> <!-- PDF Preview and Info Header --> <header class="mb-8 border-b" data-astro-cid-wxiprx5h> <div class="md:grid md:grid-cols-3 gap-6 p-6" data-astro-cid-wxiprx5h> <!-- PDF Preview --> <div class="md:col-span-1 mb-6 md:mb-0 header-preview" data-astro-cid-wxiprx5h> <img src="/artifacts/screenshots/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a-1.png" alt="Complex Table Extraction from OECD Czech PISA Assessment preview" class="w-full" data-astro-cid-wxiprx5h> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>czech-republic-pisa2012_zakovsky_dotaznik_a.pdf</p> </div> <!-- Title and Description --> <div class="md:col-span-2" data-astro-cid-wxiprx5h> <h1 class="text-4xl font-bold mb-3" data-astro-cid-wxiprx5h>Complex Table Extraction from OECD Czech PISA Assessment</h1> <p class="text-lg mb-4" data-astro-cid-wxiprx5h>This PDF is a document from the OECD regarding the PISA assessment, provided in Czech. The main extraction goal is to get the survey question table found on page 9. Challenges include the weird table format, making it hard to extract automatically.</p> <!-- Methods --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Methods Used</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="/methods/pdf" class="method-tag" data-astro-cid-wxiprx5h> PDF </a><a href="/methods/dissolve" class="method-tag" data-astro-cid-wxiprx5h> dissolve </a><a href="/methods/extract_text" class="method-tag" data-astro-cid-wxiprx5h> extract_text </a><a href="/methods/find_all" class="method-tag" data-astro-cid-wxiprx5h> find_all </a><a href="/methods/inspect" class="method-tag" data-astro-cid-wxiprx5h> inspect </a><a href="/methods/show" class="method-tag" data-astro-cid-wxiprx5h> show </a> </div> </div> <!-- Tags --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>Tags</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <span class="tag-tag" data-astro-cid-wxiprx5h>
#OECD </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Czech </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#PISA </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Survey Table </span><span class="tag-tag" data-astro-cid-wxiprx5h>
#Complex Format </span> </div> </div> <!-- Colab Link --> <div class="mb-4" data-astro-cid-wxiprx5h> <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2" data-astro-cid-wxiprx5h>The code</h3> <div class="flex flex-wrap gap-2" data-astro-cid-wxiprx5h> <a href="https://colab.research.google.com/github/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/notebooks/czech-republic-pisa2012_zakovsky_dotaznik_a.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block colab-btn" title="Open in Google Colab" data-astro-cid-wxiprx5h> <img src="/colab-badge.svg" alt="Open in Colab" data-astro-cid-wxiprx5h> </a> <a href="https://github.com/jsoma/badpdfs-site/blob/gh-pages/artifacts/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/notebooks/czech-republic-pisa2012_zakovsky_dotaznik_a.ipynb" target="_blank" rel="noopener noreferrer" class="inline-block gh-btn" title="Open in GitHub" data-astro-cid-wxiprx5h> <img src="/gh-badge.svg" alt="Read notebook" data-astro-cid-wxiprx5h> </a> </div> </div> <!-- Other walkthroughs using this PDF -->  </div> </div> </header> <!-- Main Content Area with Optional PDF Preview --> <div class="content-wrapper" data-astro-cid-wxiprx5h> <!-- PDF Button/Sidebar --> <aside class="pdf-sidebar" data-astro-cid-wxiprx5h> <button class="pdf-view-btn" data-astro-cid-wxiprx5h>
üìñ View PDF
</button> <div class="pdf-sidebar-content" style="display: none;" data-astro-cid-wxiprx5h> <button class="pdf-close-btn" data-astro-cid-wxiprx5h> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-wxiprx5h> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-wxiprx5h></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-wxiprx5h></line> </svg> </button> <div class="pdf-preview-wrapper" data-astro-cid-wxiprx5h> <iframe class="pdf-embed" type="application/pdf" data-pdf-url="https://pub-4e99d31d19cb404d8d4f5f7efa51ef6e.r2.dev/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a.pdf" data-astro-cid-wxiprx5h></iframe> </div> <p class="text-sm text-gray-500 mt-2 text-center" data-astro-cid-wxiprx5h>czech-republic-pisa2012_zakovsky_dotaznik_a.pdf</p> </div> </aside> <!-- Code and Output --> <div class="main-content" data-astro-cid-wxiprx5h> <div class="cells-container space-y-8" data-astro-cid-wxiprx5h> <div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><h1>Complex Table Extraction from OECD Czech PISA Assessment</h1>
<p>This PDF is a document from the OECD regarding the PISA assessment, provided in Czech. The main extraction goal is to get the survey question table found on page 9. Challenges include the weird table format, making it hard to extract automatically.</p>
<p>I&#39;m assuming by &quot;survey question&quot; the submitter wants <em>as much as possible</em>. You can extend the work we do here to get all of the surveys in the PDF, but for now we&#39;re just going to do a single section of the survey, from pages 7-15.</p>
</div> </div><div id="code-0" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="from natural_pdf import PDF

pdf = PDF(&#34;czech-republic-pisa2012_zakovsky_dotaznik_a.pdf&#34;)
pdf.pages[6:15].show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h><span class="token keyword">from</span> natural_pdf <span class="token keyword">import</span> PDF

pdf <span class="token operator">=</span> PDF<span class="token punctuation">(</span><span class="token string">"czech-republic-pisa2012_zakovsky_dotaznik_a.pdf"</span><span class="token punctuation">)</span>
pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: from natural_pdf import PDF
pdf = PDF(&#39;czech-republic-pisa2012_zakovsky_dotaznik_a.pdf&#39;)...
[DEBUG] Evaluating expression: pdf.pages[6:15].show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_1.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_1.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>If we want to look at one of the pages, it seems like the questions are in bold.</p>
</div> </div><div id="code-1" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="pdf.pages[7].find_all(&#34;text:bold:not-empty&#34;).show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"text:bold:not-empty"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: pdf.pages[7].find_all(&#39;text:bold:not-empty&#39;).show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_2.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_2.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Zoom in! You can see that some of the words, like vzdƒõl√°n√≠, are broken up into <em>multiple words</em>. We can see why if we inspect the text on the page.</p>
</div> </div><div id="code-2" class="cell-container " data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <!-- Code Block --> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="pdf.pages[7].inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>   <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-{cell.type === 'bash' ? 'bash' : 'python'}" data-astro-cid-wxiprx5h>pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <!-- Output --> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: pdf.pages[7].inspect()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (144 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>71</td>
<td>73</td>
<td>74</td>
<td>87</td>
<td>Times</td>
<td>EPFLBH</td>
<td>14</td>
<td>bold, italic</td>
<td>native</td>
<td>1.00</td>
<td>#007f00</td>
</tr>
<tr>
<td>ST12</td>
<td>493</td>
<td>103</td>
<td>514</td>
<td>111</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>8</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#7f7f7f</td>
</tr>
<tr>
<td></td>
<td>71</td>
<td>104</td>
<td>75</td>
<td>118</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>11.</td>
<td>71</td>
<td>129</td>
<td>94</td>
<td>143</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Jak√© je hlavn√≠ zam</td>
<td>119</td>
<td>129</td>
<td>241</td>
<td>143</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>241</td>
<td>129</td>
<td>249</td>
<td>143</td>
<td>Arial</td>
<td>BCOMPC</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>stn√°n√≠ tv√© matky?</td>
<td>249</td>
<td>129</td>
<td>375</td>
<td>143</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>(nap</td>
<td>119</td>
<td>145</td>
<td>147</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>≈ô</td>
<td>147</td>
<td>145</td>
<td>152</td>
<td>159</td>
<td>Arial</td>
<td>EPFKOG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>. u</td>
<td>152</td>
<td>145</td>
<td>167</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒç</td>
<td>167</td>
<td>145</td>
<td>174</td>
<td>159</td>
<td>Arial</td>
<td>EPFKOG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>itelka na st</td>
<td>174</td>
<td>145</td>
<td>241</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>≈ô</td>
<td>241</td>
<td>145</td>
<td>246</td>
<td>159</td>
<td>Arial</td>
<td>EPFKOG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>edn√≠ ≈°kole, kucha</td>
<td>246</td>
<td>145</td>
<td>355</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>≈ô</td>
<td>355</td>
<td>145</td>
<td>359</td>
<td>159</td>
<td>Arial</td>
<td>EPFKOG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ka ve ≈°koln√≠ j√≠deln</td>
<td>359</td>
<td>145</td>
<td>471</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>471</td>
<td>145</td>
<td>478</td>
<td>159</td>
<td>Arial</td>
<td>EPFKOG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>, vedouc√≠</td>
<td>479</td>
<td>145</td>
<td>539</td>
<td>159</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>prodeje)</td>
<td>119</td>
<td>161</td>
<td>170</td>
<td>175</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>170</td>
<td>161</td>
<td>174</td>
<td>175</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>71</td>
<td>180</td>
<td>74</td>
<td>191</td>
<td>Arial</td>
<td>EPFLAG</td>
<td>11</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>(Jestli≈æe v sou</td>
<td>119</td>
<td>186</td>
<td>197</td>
<td>200</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒç</td>
<td>197</td>
<td>186</td>
<td>204</td>
<td>200</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>asn√© dob</td>
<td>204</td>
<td>186</td>
<td>254</td>
<td>200</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>254</td>
<td>186</td>
<td>260</td>
<td>200</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>nepracuje, uve</td>
<td>260</td>
<td>186</td>
<td>346</td>
<td>200</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒè</td>
<td>346</td>
<td>186</td>
<td>354</td>
<td>200</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>jej√≠ posledn√≠ zam</td>
<td>354</td>
<td>186</td>
<td>453</td>
<td>200</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>453</td>
<td>186</td>
<td>459</td>
<td>200</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>stn√°n√≠.)</td>
<td>459</td>
<td>186</td>
<td>509</td>
<td>200</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td><em>Showing 30 of 138 elements (pass limit= to see more)</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3>Rect Elements</h3>
<table>
<thead>
<tr>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>width</th>
<th>height</th>
<th>stroke</th>
<th>fill</th>
<th>stroke_width</th>
</tr>
</thead>
<tbody>
<tr>
<td>428</td>
<td>550</td>
<td>440</td>
<td>562</td>
<td>12</td>
<td>12</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
<tr>
<td>428</td>
<td>584</td>
<td>440</td>
<td>596</td>
<td>12</td>
<td>12</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
<tr>
<td>428</td>
<td>624</td>
<td>440</td>
<td>637</td>
<td>12</td>
<td>12</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
<tr>
<td>428</td>
<td>665</td>
<td>440</td>
<td>678</td>
<td>12</td>
<td>12</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
<tr>
<td>428</td>
<td>699</td>
<td>440</td>
<td>711</td>
<td>12</td>
<td>12</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
<tr>
<td>69</td>
<td>779</td>
<td>526</td>
<td>779</td>
<td>457</td>
<td>0</td>
<td>#000000</td>
<td>#000000</td>
<td>0</td>
</tr>
</tbody>
</table></div>  </div>   </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Turns out the accented letters are a font variant! Each change in boldness, font size, or font type trigger the idea that something is a <em>new word</em>, even if we know it&#39;s not.</p>
<p>Do we deal with it? Do we ignore it? At least two paths open up ahead!</p>
</div> </div><div class="cell-container " data-astro-cid-wxiprx5h> <div class="tab-group-wrapper" data-astro-cid-wxiprx5h> <div class="multiple-approaches-indicator" data-astro-cid-wxiprx5h> <span class="approaches-text" data-astro-cid-wxiprx5h>Multiple approaches</span> <svg class="swirly-arrow" width="50" height="30" viewBox="0 0 50 30" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-wxiprx5h> <path d="M2 15 Q 15 5, 28 12 T 45 12" stroke="#6366f1" stroke-width="2" stroke-linecap="round" fill="none" data-astro-cid-wxiprx5h></path> <path d="M40 10 L 45 12 L 42 17" stroke="#6366f1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" data-astro-cid-wxiprx5h></path> </svg> </div> <div class="tab-group" data-astro-cid-wxiprx5h> <div class="tab-nav" data-astro-cid-wxiprx5h> <button class="tab-button active" data-tab-index="0" data-astro-cid-wxiprx5h> Dissolving and `.find_all` </button><button class="tab-button " data-tab-index="1" data-astro-cid-wxiprx5h> Breaking into sections </button> </div> <div class="tab-panels" data-astro-cid-wxiprx5h> <div class="tab-panel active" data-tab-index="0" data-astro-cid-wxiprx5h> <div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>By default we&#39;ll assume you don&#39;t know why this is happening, and lean heavily in <code>dissolve()</code>. Dissolve can be used to combine texts or regions that are close to one another.</p>
</div> </div><div class="tab-cell" id="code-3" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="pdf.pages[7].find_all(&#34;text:bold:not-empty&#34;).dissolve().show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>pdf<span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"text:bold:not-empty"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dissolve<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: pdf.pages[7].find_all(&#39;text:bold:not-empty&#39;).dissolve().show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_3.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_3.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>When we use <code>dissolve()</code> on the selection you&#39;ll see them combine into blocks. Along with weird font issues, dissolving is also useful for combining parts of the same question that are broken into separate rows. By using <code>padding=5</code> we have the dissolve reach out five pixels to find nearby overlapping regions, including the ones on the row above/below.</p>
</div> </div><div class="tab-cell" id="code-4" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="questions = (
    pdf
    .pages[6:15]
    .find_all('text:bold[size~=14][x0>100]:not-empty')
    .dissolve(padding=5)
)
questions.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>questions <span class="token operator">=</span> <span class="token punctuation">(</span>
    pdf
    <span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:bold[size~=14][x0>100]:not-empty'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>dissolve<span class="token punctuation">(</span>padding<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
questions<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: questions = pdf.pages[6:15].find_all(&#39;text:bold[size~=14][x0&gt;100]:not-empty&#39;).dissolve(padding=5)...
[DEBUG] Evaluating expression: questions.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_4.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_4.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>If we were just interested in the questions, we could pull them each out now.</p>
</div> </div><div class="tab-cell" id="code-5" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="questions.extract_each_text()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>questions<span class="token punctuation">.</span>extract_each_text<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: questions.extract_each_text()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>[&#39;Kte≈ô√≠ lid√© obvykle bydl√≠ u v√°s doma?&#39;, &#39;Jak√© je hlavn√≠ zamƒõstn√°n√≠ tv√© matky?&#39;, &#39;Co tv√° matka v zamƒõstn√°n√≠ dƒõl√°?&#39;, &#39;Jak√©ho nejvy≈°≈°√≠ho vzdƒõl√°n√≠ z n√°sleduj√≠c√≠ch mo≈ænost√≠ dos√°hla\ntv√° matka?&#39;, &#39;Ukonƒçila tv√° matka nƒõkter√Ω z tƒõchto typ≈Ø pomaturitn√≠ho studia?&#39;, &#39;Co v souƒçasn√© dobƒõ dƒõl√° tv√° matka?&#39;, &#39;Jak√© je hlavn√≠ zamƒõstn√°n√≠ tv√©ho otce?&#39;, &#39;Co tv≈Øj otec v zamƒõstn√°n√≠ dƒõl√°?&#39;, &#39;Jak√©ho nejvy≈°≈°√≠ho vzdƒõl√°n√≠ z n√°sleduj√≠c√≠ch mo≈ænost√≠ dos√°hl\ntv≈Øj otec?&#39;, &#39;Ukonƒçil tv≈Øj otec nƒõkter√Ω z tƒõchto typ≈Ø pomaturitn√≠ho studia?&#39;, &#39;Co v souƒçasn√© dobƒõ dƒõl√° tv≈Øj otec?&#39;, &#39;Ve kter√© zemi ses narodil/a ty a tvoji rodiƒçe?&#39;, &#39;Jestli≈æe ses NENARODIL/A v ƒåesk√© republice, kolik ti bylo let,\nkdy≈æ ses do ƒåesk√© republiky p≈ôistƒõhoval/a?&#39;, &#39;Kter√Ωm jazykem doma vƒõt≈°inou mluv√≠te?&#39;, &#39;Kter√© z uveden√Ωch vƒõc√≠ m√°te doma?&#39;, &#39;Kolik tƒõchto vƒõc√≠ m√°te doma?&#39;, &#39;Kolik m√°te doma knih?&#39;]</pre> </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Instead, we&#39;re going to use the question to <strong>break the page into sections</strong>. Starting from each question, we&#39;ll look <code>.below()</code> until it hits the either:</p>
<ul>
<li>The next question</li>
<li>A wide line (Why is it a <code>rect</code>? Who knows!)</li>
<li>The STXX text used to denote questions</li>
</ul>
<p>This didn&#39;t come easy: It took a lot of trial and error to see the right selectors.</p>
</div> </div><div class="tab-cell" id="code-6" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="answer_areas = (
    questions.below(
        until='text:bold[size~=14]:regex(\d+) | rect[width>300] | text:regex(^ST\d)',
        include_endpoint=False
    )
)
answer_areas.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>answer_areas <span class="token operator">=</span> <span class="token punctuation">(</span>
    questions<span class="token punctuation">.</span>below<span class="token punctuation">(</span>
        until<span class="token operator">=</span><span class="token string">'text:bold[size~=14]:regex(\d+) | rect[width>300] | text:regex(^ST\d)'</span><span class="token punctuation">,</span>
        include_endpoint<span class="token operator">=</span><span class="token boolean">False</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
answer_areas<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: answer_areas = questions.below(until=&#39;text:bold[size~=14]:regex(\\d+) | rect[width&gt;300] | text:regex...
[DEBUG] Evaluating expression: answer_areas.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_5.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_5.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Now we can find the text of the question by asking for the text that is neither bold nor tiny:</p>
</div> </div><div class="tab-cell" id="code-7" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="answer_areas[3].find_all('text:not(:italic):not-empty[size>8]').show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>answer_areas<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:not(:italic):not-empty[size>8]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: answer_areas[3].find_all(&#39;text:not(:italic):not-empty[size&gt;8]&#39;).show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_6.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_6.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>And if we want it for each of the questions, we&#39;ll just search through each of them.</p>
<blockquote>
<p>There are about two hundred ways to do this part.</p>
</blockquote>
</div> </div><div class="tab-cell" id="code-8" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="results = []
for question, answer_area in zip(questions, answer_areas):
    result = {}
    result['question'] = question.extract_text()
    result['notes'] = (
        answer_area
        .find_all('text:italic:not-empty[size>8]')
        .extract_text()
    )
    result['answers'] = (
        answer_area
        .find_all('text:not(:italic):not-empty[size>8]')
        .extract_text()
    )
    results.append(result)
print(&#34;Found&#34;, len(results))" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> question<span class="token punctuation">,</span> answer_area <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>questions<span class="token punctuation">,</span> answer_areas<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    result<span class="token punctuation">[</span><span class="token string">'question'</span><span class="token punctuation">]</span> <span class="token operator">=</span> question<span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    result<span class="token punctuation">[</span><span class="token string">'notes'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
        answer_area
        <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:italic:not-empty[size>8]'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    result<span class="token punctuation">[</span><span class="token string">'answers'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
        answer_area
        <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:not(:italic):not-empty[size>8]'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    results<span class="token punctuation">.</span>append<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Found"</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: results = []
for question, answer_area in zip(questions, answer_areas):
    result = {}
    result[&#39;...
[DEBUG] Evaluating expression: print(&#39;Found&#39;, len(results))...
Found 17
</pre> </div>    </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Now we can pack it up into pandas and be good to go.</p>
</div> </div><div class="tab-cell" id="code-9" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="import pandas as pd

df = pd.DataFrame(results)
df" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>results<span class="token punctuation">)</span>
df</code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: import pandas as pd
df = pd.DataFrame(results)...
[DEBUG] Evaluating expression: df...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>question</th>
      <th>notes</th>
      <th>answers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Kte≈ô√≠ lid√© obvykle bydl√≠ u v√°s doma?</td>
      <td></td>
      <td>10. Kte ≈ô √≠ lid√© obvykle bydl√≠ u v√°s doma?</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jak√© je hlavn√≠ zamƒõstn√°n√≠ tv√© matky?</td>
      <td></td>
      <td>11. Jak√© je hlavn√≠ zam ƒõ stn√°n√≠ tv√© matky?</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Co tv√° matka v zamƒõstn√°n√≠ dƒõl√°?</td>
      <td></td>
      <td>12. Co tv√° matka v zam ƒõ stn√°n√≠ d ƒõ l√°?</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jak√©ho nejvy≈°≈°√≠ho vzdƒõl√°n√≠ z n√°sleduj√≠c√≠ch mo≈æ...</td>
      <td></td>
      <td>13. Jak√©ho nejvy≈°≈°√≠ho vzd ƒõ l√°n√≠ z n√°sleduj√≠c√≠...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Ukonƒçila tv√° matka nƒõkter√Ω z tƒõchto typ≈Ø pomat...</td>
      <td></td>
      <td>14. Ukon ƒç ila tv√° matka n ƒõ kter√Ω z t ƒõ chto ...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Co v souƒçasn√© dobƒõ dƒõl√° tv√° matka?</td>
      <td></td>
      <td>15. Co v sou ƒç asn√© dob ƒõ d ƒõ l√° tv√° matka?</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Jak√© je hlavn√≠ zamƒõstn√°n√≠ tv√©ho otce?</td>
      <td></td>
      <td>16. Jak√© je hlavn√≠ zam ƒõ stn√°n√≠ tv√©ho otce?</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Co tv≈Øj otec v zamƒõstn√°n√≠ dƒõl√°?</td>
      <td></td>
      <td>17. Co tv ≈Ø j otec v zam ƒõ stn√°n√≠ d ƒõ l√°?</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Jak√©ho nejvy≈°≈°√≠ho vzdƒõl√°n√≠ z n√°sleduj√≠c√≠ch mo≈æ...</td>
      <td></td>
      <td>18. Jak√©ho nejvy≈°≈°√≠ho vzd ƒõ l√°n√≠ z n√°sleduj√≠c√≠...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Ukonƒçil tv≈Øj otec nƒõkter√Ω z tƒõchto typ≈Ø pomatu...</td>
      <td></td>
      <td>19. Ukon ƒç il tv ≈Ø j otec n ƒõ kter√Ω z t ƒõ chto...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Co v souƒçasn√© dobƒõ dƒõl√° tv≈Øj otec?</td>
      <td></td>
      <td>20. Co v sou ƒç asn√© dob ƒõ d ƒõ l√° tv ≈Ø j otec?</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Ve kter√© zemi ses narodil/a ty a tvoji rodiƒçe?</td>
      <td></td>
      <td>21. Ve kter√© zemi ses narodil/a ty a tvoji rod...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Jestli≈æe ses NENARODIL/A v ƒåesk√© republice, ko...</td>
      <td></td>
      <td>22. Jestli≈æe ses NENARODIL/A v ƒå esk√© republic...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Kter√Ωm jazykem doma vƒõt≈°inou mluv√≠te?</td>
      <td></td>
      <td>23. Kter√Ωm jazykem doma v ƒõ t≈°inou mluv√≠te?</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Kter√© z uveden√Ωch vƒõc√≠ m√°te doma?</td>
      <td></td>
      <td>24. Kter√© z uveden√Ωch v ƒõ c√≠ m√°te doma?</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Kolik tƒõchto vƒõc√≠ m√°te doma?</td>
      <td></td>
      <td>25. Kolik t ƒõ chto v ƒõ c√≠ m√°te doma?</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Kolik m√°te doma knih?</td>
      <td></td>
      <td>26. Kolik m√°te doma knih?</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div> </div><div class="tab-panel " data-tab-index="1" data-astro-cid-wxiprx5h> <div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Instead of focusing on the questions, we can also think about patterns on the page: each question begins with a number. Let&#39;s break the page up based on bold, size 14 text that includes numbers.</p>
</div> </div><div class="tab-cell" id="code-10" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="sections = (
    pdf
    .pages[6:15]
    .get_sections(
        start_elements='text:bold[size~=14]:regex(\d+)'
    )
)
sections.show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>sections <span class="token operator">=</span> <span class="token punctuation">(</span>
    pdf
    <span class="token punctuation">.</span>pages<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>get_sections<span class="token punctuation">(</span>
        start_elements<span class="token operator">=</span><span class="token string">'text:bold[size~=14]:regex(\d+)'</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
sections<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: sections = pdf.pages[6:15].get_sections(start_elements=&#39;text:bold[size~=14]:regex(\\d+)&#39;)...
[DEBUG] Evaluating expression: sections.show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_7.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_7.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Let&#39;s a look at the first section.</p>
</div> </div><div class="tab-cell" id="code-11" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="sections[0].show()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: sections[0].show()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h> <a href="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_8.png" class="result-image" data-astro-cid-wxiprx5h> <img src="/artifacts/executions/pdfs/czech-republic-pisa2012_zakovsky_dotaznik_a/czech-republic-pisa2012_zakovsky_dotaznik_a/images/image_8.png" alt="Result" class="max-w-full cursor-zoom-in" data-astro-cid-wxiprx5h> </a>   </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>If we wanted the rough text from the section, we just ask for it.</p>
</div> </div><div class="tab-cell" id="code-12" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="text = sections[0].extract_text(layout=True)
print(text)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>text <span class="token operator">=</span> sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span>layout<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: text = sections[0].extract_text(layout=True)...
[DEBUG] Evaluating expression: print(text)...
          10.   Kte≈ô√≠ lid√© obvykle bydl√≠ u v√°s doma?                              
                (V ka≈æd√©m ≈ô√°dku za≈°krtni pouze jeden ƒçtvereƒçek.)                  
                                                     Ano   Ne                     
              a) Matka (vƒçetnƒõ nevlastn√≠ matky nebo pƒõstounky)                    
                                                        1    2                    
              b) Otec (vƒçetnƒõ nevlastn√≠ho otce nebo pƒõstouna)                     
                                                        1    2                    
              c) Bratr/brat≈ôi (vƒçetnƒõ nevlastn√≠ch)                                
                                                        1    2                    
              d) Sestra/sestry (vƒçetnƒõ nevlastn√≠ch)                               
                                                        1    2                    
              e) Prarodiƒç/e                                                       
                                                        1    2                    
               f) Jin√≠ (nap≈ô. sest≈ôenice, bratranec)                              
                                                        1    2                    
                                         7                                        
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
                                                                                  
</pre> </div>    </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Most likely we want to pull out the pieces separately: the italic, the bold, the normal. We can inspect the text on the page to see what selectors might work for each.</p>
</div> </div><div class="tab-cell" id="code-13" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="sections[0].find_all('text').inspect()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>inspect<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Evaluating expression: sections[0].find_all(&#39;text&#39;).inspect()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><h2>Collection Inspection (88 elements)</h2>
<h3>Word Elements</h3>
<table>
<thead>
<tr>
<th>text</th>
<th>x0</th>
<th>top</th>
<th>x1</th>
<th>bottom</th>
<th>font_family</th>
<th>font_variant</th>
<th>size</th>
<th>styles</th>
<th>source</th>
<th>confidence</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td>10.</td>
<td>71</td>
<td>329</td>
<td>94</td>
<td>343</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Kte</td>
<td>119</td>
<td>329</td>
<td>141</td>
<td>343</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>≈ô</td>
<td>141</td>
<td>329</td>
<td>147</td>
<td>343</td>
<td>Arial</td>
<td>BCOMPC</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>√≠ lid√© obvykle bydl√≠ u v√°s doma?</td>
<td>147</td>
<td>329</td>
<td>365</td>
<td>343</td>
<td>Arial</td>
<td>BCOMPD</td>
<td>14</td>
<td>bold</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>71</td>
<td>354</td>
<td>74</td>
<td>368</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>(V ka≈æd√©m</td>
<td>119</td>
<td>354</td>
<td>181</td>
<td>368</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>≈ô</td>
<td>181</td>
<td>354</td>
<td>186</td>
<td>368</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>√°dku za≈°krtni pouze jeden</td>
<td>186</td>
<td>354</td>
<td>335</td>
<td>368</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒç</td>
<td>335</td>
<td>354</td>
<td>341</td>
<td>368</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>tvere</td>
<td>341</td>
<td>354</td>
<td>369</td>
<td>368</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒç</td>
<td>369</td>
<td>354</td>
<td>375</td>
<td>368</td>
<td>Times</td>
<td>EPFLGP</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ek.)</td>
<td>375</td>
<td>354</td>
<td>399</td>
<td>368</td>
<td>Times</td>
<td>EPFLHA</td>
<td>14</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>483</td>
<td>385</td>
<td>486</td>
<td>399</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Ano</td>
<td>385</td>
<td>386</td>
<td>406</td>
<td>397</td>
<td>Times</td>
<td>EPFLHA</td>
<td>11</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>Ne</td>
<td>431</td>
<td>386</td>
<td>446</td>
<td>397</td>
<td>Times</td>
<td>EPFLHA</td>
<td>11</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>113</td>
<td>386</td>
<td>122</td>
<td>398</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>483</td>
<td>419</td>
<td>486</td>
<td>433</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>a) Matka (v</td>
<td>104</td>
<td>420</td>
<td>163</td>
<td>432</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒç</td>
<td>163</td>
<td>420</td>
<td>168</td>
<td>432</td>
<td>Times</td>
<td>EPFLBI</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>etn</td>
<td>168</td>
<td>420</td>
<td>183</td>
<td>432</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>183</td>
<td>420</td>
<td>188</td>
<td>432</td>
<td>Times</td>
<td>EPFLBI</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>nevlastn√≠ matky nebo p</td>
<td>188</td>
<td>420</td>
<td>303</td>
<td>432</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>ƒõ</td>
<td>303</td>
<td>420</td>
<td>308</td>
<td>432</td>
<td>Times</td>
<td>EPFLBI</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>stounky)</td>
<td>308</td>
<td>420</td>
<td>350</td>
<td>432</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>12</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>350</td>
<td>420</td>
<td>353</td>
<td>432</td>
<td>Times</td>
<td>EPFLHA</td>
<td>12</td>
<td>italic</td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>406</td>
<td>421</td>
<td>410</td>
<td>435</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>449</td>
<td>421</td>
<td>452</td>
<td>435</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>1</td>
<td>403</td>
<td>429</td>
<td>406</td>
<td>435</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>6</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td>2</td>
<td>445</td>
<td>429</td>
<td>449</td>
<td>435</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>6</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td></td>
<td>483</td>
<td>453</td>
<td>486</td>
<td>467</td>
<td>Times</td>
<td>EPFLBJ</td>
<td>14</td>
<td></td>
<td>native</td>
<td>1.00</td>
<td>#000000</td>
</tr>
<tr>
<td><em>Showing 30 of 88 elements (pass limit= to see more)</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>  </div>   </div> </div> </div> </div><div class="tab-cell" id="code-14" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="question = sections[0].find_all('text:bold').extract_text()
print(question)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>question <span class="token operator">=</span> sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:bold'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>question<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: question = sections[0].find_all(&#39;text:bold&#39;).extract_text()...
[DEBUG] Evaluating expression: print(question)...
10. Kte ≈ô √≠ lid√© obvykle bydl√≠ u v√°s doma?
</pre> </div>    </div> </div> </div> </div><div class="tab-cell" id="code-15" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="notes = sections[0].find_all('text:italic[size~=14]').extract_text()
print(notes)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>notes <span class="token operator">=</span> sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:italic[size~=14]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: notes = sections[0].find_all(&#39;text:italic[size~=14]&#39;).extract_text()...
[DEBUG] Evaluating expression: print(notes)...
(V ka≈æd√©m ≈ô √°dku za≈°krtni pouze jeden ƒç tvere ƒç ek.)
</pre> </div>    </div> </div> </div> </div><div class="tab-cell" id="code-16" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="answers = (
    sections[0]
    .find_all('text:not(:bold):not(:italic)[size=12]')
    .extract_text(
        layout=True,
        strip=True,
    )
)
print(answers)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>answers <span class="token operator">=</span> <span class="token punctuation">(</span>
    sections<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:not(:bold):not(:italic)[size=12]'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span>
        layout<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        strip<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>answers<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: answers = sections[0].find_all(&#39;text:not(:bold):not(:italic)[size=12]&#39;).extract_text(layout=True, st...
[DEBUG] Evaluating expression: print(answers)...
a) Matka (vƒçetnƒõ nevlastn√≠ matky nebo pƒõstounky)
b) Otec (vƒçetnƒõ nevlastn√≠ho otce nebo pƒõstouna)
c) Bratr/brat≈ôi (vƒçetnƒõ nevlastn√≠ch)
d) Sestra/sestry (vƒçetnƒõ nevlastn√≠ch)
e) Prarodiƒç/e
f) Jin√≠ (nap≈ô. sest≈ôenice, bratranec)
</pre> </div>    </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Now that we know it works for one of them, we can do it for all of the sections.</p>
</div> </div><div class="tab-cell" id="code-17" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="results = []

for section in sections:
    question = (
        section
        .find_all('text:bold')
        .extract_text()
    )
    notes = (
        section
        .find_all('text:italic[size~=14]')
        .extract_text()
    )
    answers = (
        section
        .find_all('text:not(:bold):not(:italic)[size=12]')
        .extract_text(layout=True, strip=True)
    )
    results.append({
        'question': question,
        'notes': notes,
        'answers': answers
    })
len(results)" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h>results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> section <span class="token keyword">in</span> sections<span class="token punctuation">:</span>
    question <span class="token operator">=</span> <span class="token punctuation">(</span>
        section
        <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:bold'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    notes <span class="token operator">=</span> <span class="token punctuation">(</span>
        section
        <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:italic[size~=14]'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    answers <span class="token operator">=</span> <span class="token punctuation">(</span>
        section
        <span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'text:not(:bold):not(:italic)[size=12]'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>extract_text<span class="token punctuation">(</span>layout<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> strip<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    results<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">'question'</span><span class="token punctuation">:</span> question<span class="token punctuation">,</span>
        <span class="token string">'notes'</span><span class="token punctuation">:</span> notes<span class="token punctuation">,</span>
        <span class="token string">'answers'</span><span class="token punctuation">:</span> answers
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token builtin">len</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: results = []
for section in sections:
    question = section.find_all(&#39;text:bold&#39;).extract_text()
  ...
[DEBUG] Evaluating expression: len(results)...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>   <pre class="font-mono text-base whitespace-pre-wrap text-gray-800" data-astro-cid-wxiprx5h>17</pre> </div>   </div> </div> </div> </div><div class="tab-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none p-4" data-astro-cid-wxiprx5h><p>Pop it into a pandas dataframe and you&#39;re ready to go!</p>
</div> </div><div class="tab-cell" id="code-18" data-astro-cid-wxiprx5h> <div class="code-output-container space-y-1" data-astro-cid-wxiprx5h> <div class="code-section" data-astro-cid-wxiprx5h> <div class="bg-gray-900 text-gray-100 p-4 relative" data-astro-cid-wxiprx5h> <button class="copy-btn absolute top-2 right-2 px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors cursor-pointer flex items-center gap-1" onclick="copyCode(this)" data-code="import pandas as pd

df = pd.DataFrame(results)
df.head()" data-astro-cid-wxiprx5h> <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wxiprx5h> <rect x="9" y="9" width="13" height="13" rx="2" ry="2" data-astro-cid-wxiprx5h></rect> <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" data-astro-cid-wxiprx5h></path> </svg> <span data-astro-cid-wxiprx5h>Copy</span> </button>  <pre class="text-base overflow-x-auto" data-astro-cid-wxiprx5h><code class="language-python" data-astro-cid-wxiprx5h><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>results<span class="token punctuation">)</span>
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre> </div> </div> <div class="output-section" data-astro-cid-wxiprx5h> <div class="bg-gray-50" data-astro-cid-wxiprx5h> <div class="p-4 font-mono text-base" data-astro-cid-wxiprx5h> <div class="text-xs text-gray-500 mb-2 uppercase tracking-wider" data-astro-cid-wxiprx5h>Output</div> <pre class="whitespace-pre-wrap text-gray-700" data-astro-cid-wxiprx5h>[DEBUG] Executing code: import pandas as pd
df = pd.DataFrame(results)...
[DEBUG] Evaluating expression: df.head()...
</pre> </div> <div class="p-4" data-astro-cid-wxiprx5h>  <div class="overflow-x-auto dataframe-container prose prose-sm max-w-none" data-astro-cid-wxiprx5h><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>question</th>
      <th>notes</th>
      <th>answers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10. Kte ≈ô √≠ lid√© obvykle bydl√≠ u v√°s doma?</td>
      <td>(V ka≈æd√©m ≈ô √°dku za≈°krtni pouze jeden ƒç tvere ...</td>
      <td>a) Matka (vƒçetnƒõ nevlastn√≠ matky nebo pƒõstounk...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>11. Jak√© je hlavn√≠ zam ƒõ stn√°n√≠ tv√© matky?</td>
      <td>(Jestli≈æe v sou ƒç asn√© dob ƒõ nepracuje, uve ƒè ...</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>12. Co tv√° matka v zam ƒõ stn√°n√≠ d ƒõ l√°?  ST13</td>
      <td>Popi≈° jednou v ƒõ tou pracovn√≠ ƒç innost, kterou...</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>13. Jak√©ho nejvy≈°≈°√≠ho vzd ƒõ l√°n√≠ z n√°sleduj√≠c√≠...</td>
      <td>Kdy≈æ si nebude≈° jist√Ω/jist√° t√≠m, co m√°≈° vybrat...</td>
      <td>Ukonƒçila st≈ôedn√≠ ≈°kolu nebo uƒçebn√≠ obor s matu...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>14. Ukon ƒç ila tv√° matka n ƒõ kter√Ω z t ƒõ chto ...</td>
      <td>Kdy≈æ si nebude≈° jist√Ω/jist√° t√≠m, co m√°≈° vybrat...</td>
      <td>a) Z√≠skala na vysok√© ≈°kole vƒõdeck√Ω titul (Ph.D...</td>
    </tr>
  </tbody>
</table>
</div></div>  </div>   </div> </div> </div> </div> </div> </div> </div> </div> </div><div class="cell-container markdown-cell" data-astro-cid-wxiprx5h> <div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl" data-astro-cid-wxiprx5h><p>Done!</p>
</div> </div> </div> </div> </div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".tab-group-wrapper").forEach(t=>{const a=t.querySelectorAll(".tab-button"),c=t.querySelectorAll(".tab-panel");a.forEach((r,s)=>{r.addEventListener("click",()=>{a.forEach(e=>e.classList.remove("active")),c.forEach(e=>e.classList.remove("active")),r.classList.add("active"),c[s].classList.add("active")})})})});</script> <script type="module">function t(){const n=window.location.hash;if(!n)return;const c=decodeURIComponent(n.substring(1)),s=document.querySelectorAll(".code-section pre code");for(const o of s)if((o.textContent||"").includes(c)){const e=o.closest(".cell-container");if(e){e.scrollIntoView({behavior:"smooth",block:"center"}),e.style.background="#fef3c7",setTimeout(()=>{e.style.transition="background 1s ease",e.style.background=""},1e3);break}}}window.addEventListener("load",t);window.addEventListener("hashchange",t);</script> <script type="module">window.copyCode=function(e){const c=e.getAttribute("data-code");navigator.clipboard.writeText(c).then(()=>{const t=e.querySelector("span"),o=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=o},2e3)}).catch(t=>{console.error("Failed to copy:",t)})};let r=localStorage.getItem("columnView")==="true",s=!1;r&&document.querySelector(".cells-container")?.classList.add("column-view");const n=document.createElement("div");n.style.cssText="position: fixed; bottom: 20px; right: 20px; background: black; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; opacity: 0; transition: opacity 0.2s; z-index: 9999;";document.body.appendChild(n);function d(e){n.textContent=e,n.style.opacity="0.8",setTimeout(()=>{n.style.opacity="0"},1500)}document.addEventListener("keydown",e=>{document.querySelector(".cells-container"),document.querySelectorAll(".result-image"),e.key==="r"&&i()});setTimeout(()=>{d("R: toggle PDF")},1e3);function i(){const e=document.querySelector(".pdf-view-btn"),c=document.querySelector(".pdf-sidebar-content"),t=document.querySelector(".content-wrapper"),o=document.querySelector(".pdf-embed");if(s)e.style.display="block",c.style.display="none",t.classList.remove("show-pdf"),s=!1,d("PDF: OFF");else{if(e.style.display="none",c.style.display="block",t.classList.add("show-pdf"),!o.src){const l=o.dataset.pdfUrl;o.src=l+"#toolbar=1&navpanes=0&scrollbar=1"}s=!0,d("PDF: ON")}}const a=document.querySelector(".pdf-view-btn");a?.addEventListener("click",i);const p=document.querySelector(".pdf-close-btn");p?.addEventListener("click",i);</script> <script type="module" src="/_astro/ImageLightbox.astro_astro_type_script_index_0_lang.Cx4c9KCn.js"></script> <footer class="site-footer" data-astro-cid-sz7xmlte> <div class="footer-container" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Bad PDFs</h3> <p data-astro-cid-sz7xmlte>Real-world successfully extracting data from bad, bad pdfs.</p> <div class="footer-links" data-astro-cid-sz7xmlte> <a href="https://github.com/jsoma/natural-pdf" target="_blank" rel="noopener noreferrer" data-astro-cid-sz7xmlte> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-sz7xmlte> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-astro-cid-sz7xmlte></path> </svg>
GitHub
</a> </div> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Resources</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf Documentation</a></li> <li data-astro-cid-sz7xmlte><a href="/methods/" data-astro-cid-sz7xmlte>All Methods Reference</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf/issues" data-astro-cid-sz7xmlte>Report an Issue</a></li> <li data-astro-cid-sz7xmlte><a href="/about/" data-astro-cid-sz7xmlte>About This Gallery</a></li> </ul> </div> <div class="footer-section" data-astro-cid-sz7xmlte> <h3 data-astro-cid-sz7xmlte>Contribute</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="/submit/" data-astro-cid-sz7xmlte>Submit a PDF Example</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/badpdfs-analysis" data-astro-cid-sz7xmlte>Gallery Source Code</a></li> <li data-astro-cid-sz7xmlte><a href="https://github.com/jsoma/natural-pdf#contributing" data-astro-cid-sz7xmlte>Contributing Guide</a></li> </ul> </div> </div> <div class="footer-bottom" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>&copy; 2025 Bad PDFs. Built with <a href="https://astro.build" data-astro-cid-sz7xmlte>Astro</a> and powered by <a href="https://jsoma.github.io/natural-pdf/" data-astro-cid-sz7xmlte>natural-pdf</a>.</p> </div> </div> </footer>   </body></html>