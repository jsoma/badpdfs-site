import{_ as pe}from"./preload-helper.BlTxHScW.js";var y;function R(t,e,i){const n=typeof i,s=typeof t;if(n!=="undefined"){if(s!=="undefined"){if(i){if(s==="function"&&n===s)return function(o){return t(i(o))};if(e=t.constructor,e===i.constructor){if(e===Array)return i.concat(t);if(e===Map){var r=new Map(i);for(var h of t)r.set(h[0],h[1]);return r}if(e===Set){h=new Set(i);for(r of t.values())h.add(r);return h}}}return t}return i}return s==="undefined"?e:t}function tt(t,e){return typeof t>"u"?e:t}function I(){return Object.create(null)}function E(t){return typeof t=="string"}function at(t){return typeof t=="object"}function dt(t,e){if(E(e))t=t[e];else for(let i=0;t&&i<e.length;i++)t=t[e[i]];return t}const me=/[^\p{L}\p{N}]+/u,we=/(\d{3})/g,ye=/(\D)(\d{3})/g,xe=/(\d{3})(\D)/g,Vt=/[\u0300-\u036f]/g;function ht(t={}){if(!this||this.constructor!==ht)return new ht(...arguments);if(arguments.length)for(t=0;t<arguments.length;t++)this.assign(arguments[t]);else this.assign(t)}y=ht.prototype;y.assign=function(t){this.normalize=R(t.normalize,!0,this.normalize);let e=t.include,i=e||t.exclude||t.split,n;if(i||i===""){if(typeof i=="object"&&i.constructor!==RegExp){let s="";n=!e,e||(s+="\\p{Z}"),i.letter&&(s+="\\p{L}"),i.number&&(s+="\\p{N}",n=!!e),i.symbol&&(s+="\\p{S}"),i.punctuation&&(s+="\\p{P}"),i.control&&(s+="\\p{C}"),(i=i.char)&&(s+=typeof i=="object"?i.join(""):i);try{this.split=new RegExp("["+(e?"^":"")+s+"]+","u")}catch{this.split=/\s+/}}else this.split=i,n=i===!1||"a1a".split(i).length<2;this.numeric=R(t.numeric,n)}else{try{this.split=R(this.split,me)}catch{this.split=/\s+/}this.numeric=R(t.numeric,R(this.numeric,!0))}if(this.prepare=R(t.prepare,null,this.prepare),this.finalize=R(t.finalize,null,this.finalize),i=t.filter,this.filter=typeof i=="function"?i:R(i&&new Set(i),null,this.filter),this.dedupe=R(t.dedupe,!0,this.dedupe),this.matcher=R((i=t.matcher)&&new Map(i),null,this.matcher),this.mapper=R((i=t.mapper)&&new Map(i),null,this.mapper),this.stemmer=R((i=t.stemmer)&&new Map(i),null,this.stemmer),this.replacer=R(t.replacer,null,this.replacer),this.minlength=R(t.minlength,1,this.minlength),this.maxlength=R(t.maxlength,1024,this.maxlength),this.rtl=R(t.rtl,!1,this.rtl),(this.cache=i=R(t.cache,!0,this.cache))&&(this.F=null,this.L=typeof i=="number"?i:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(const s of this.matcher.keys())this.h+=(this.h?"|":"")+s;if(this.stemmer)for(const s of this.stemmer.keys())this.A+=(this.A?"|":"")+s;return this};y.addStemmer=function(t,e){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(t,e),this.A+=(this.A?"|":"")+t,this.K=null,this.cache&&X(this),this};y.addFilter=function(t){return typeof t=="function"?this.filter=t:(this.filter||(this.filter=new Set),this.filter.add(t)),this.cache&&X(this),this};y.addMapper=function(t,e){return typeof t=="object"?this.addReplacer(t,e):t.length>1?this.addMatcher(t,e):(this.mapper||(this.mapper=new Map),this.mapper.set(t,e),this.cache&&X(this),this)};y.addMatcher=function(t,e){return typeof t=="object"?this.addReplacer(t,e):t.length<2&&(this.dedupe||this.mapper)?this.addMapper(t,e):(this.matcher||(this.matcher=new Map),this.matcher.set(t,e),this.h+=(this.h?"|":"")+t,this.J=null,this.cache&&X(this),this)};y.addReplacer=function(t,e){return typeof t=="string"?this.addMatcher(t,e):(this.replacer||(this.replacer=[]),this.replacer.push(t,e),this.cache&&X(this),this)};y.encode=function(t,e){if(this.cache&&t.length<=this.H)if(this.F){if(this.B.has(t))return this.B.get(t)}else this.F=setTimeout(X,50,this);this.normalize&&(typeof this.normalize=="function"?t=this.normalize(t):t=Vt?t.normalize("NFKD").replace(Vt,"").toLowerCase():t.toLowerCase()),this.prepare&&(t=this.prepare(t)),this.numeric&&t.length>3&&(t=t.replace(ye,"$1 $2").replace(xe,"$1 $2").replace(we,"$1 "));const i=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer);let n=[],s=I(),r,h,o=this.split||this.split===""?t.split(this.split):[t];for(let u=0,f,c;u<o.length;u++)if((f=c=o[u])&&!(f.length<this.minlength||f.length>this.maxlength)){if(e){if(s[f])continue;s[f]=1}else{if(r===f)continue;r=f}if(i)n.push(f);else if(!this.filter||(typeof this.filter=="function"?this.filter(f):!this.filter.has(f))){if(this.cache&&f.length<=this.I)if(this.F){var l=this.D.get(f);if(l||l===""){l&&n.push(l);continue}}else this.F=setTimeout(X,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let m;for(;m!==f&&f.length>2;)m=f,f=f.replace(this.K,g=>this.stemmer.get(g))}if(f&&(this.mapper||this.dedupe&&f.length>1)){l="";for(let m=0,g="",p,a;m<f.length;m++)p=f.charAt(m),p===g&&this.dedupe||((a=this.mapper&&this.mapper.get(p))||a===""?a===g&&this.dedupe||!(g=a)||(l+=a):l+=g=p);f=l}if(this.matcher&&f.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),f=f.replace(this.J,m=>this.matcher.get(m))),f&&this.replacer)for(l=0;f&&l<this.replacer.length;l+=2)f=f.replace(this.replacer[l],this.replacer[l+1]);if(this.cache&&c.length<=this.I&&(this.D.set(c,f),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),f){if(f!==c)if(e){if(s[f])continue;s[f]=1}else{if(h===f)continue;h=f}n.push(f)}}}return this.finalize&&(n=this.finalize(n)||n),this.cache&&t.length<=this.H&&(this.B.set(t,n),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),n};function X(t){t.F=null,t.B.clear(),t.D.clear()}function Pt(t,e,i){i||(e||typeof t!="object"?typeof e=="object"&&(i=e,e=0):i=t),i&&(t=i.query||t,e=i.limit||e);let n=""+(e||0);i&&(n+=(i.offset||0)+!!i.context+!!i.suggest+(i.resolve!==!1)+(i.resolution||this.resolution)+(i.boost||0)),t=(""+t).toLowerCase(),this.cache||(this.cache=new q);let s=this.cache.get(t+n);if(!s){const r=i&&i.cache;r&&(i.cache=!1),s=this.search(t,e,i),r&&(i.cache=r),this.cache.set(t+n,s)}return s}function q(t){this.limit=t&&t!==!0?t:1e3,this.cache=new Map,this.h=""}q.prototype.set=function(t,e){this.cache.set(this.h=t,e),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)};q.prototype.get=function(t){const e=this.cache.get(t);return e&&this.h!==t&&(this.cache.delete(t),this.cache.set(this.h=t,e)),e};q.prototype.remove=function(t){for(const e of this.cache){const i=e[0];e[1].includes(t)&&this.cache.delete(i)}};q.prototype.clear=function(){this.cache.clear(),this.h=""};const Kt={normalize:!1,numeric:!1,dedupe:!1},wt={},It=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),Zt=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),Ut=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],Qt={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ÃŸ:2,d:3,t:3,l:4,m:5,n:5,r:6};var Et={Exact:Kt,Default:wt,Normalize:wt,LatinBalance:{mapper:It},LatinAdvanced:{mapper:It,matcher:Zt,replacer:Ut},LatinExtra:{mapper:It,replacer:Ut.concat([/(?!^)[aeo]/g,""]),matcher:Zt},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(t){for(let i=0;i<t.length;i++){var e=t[i];let n=e.charAt(0),s=Qt[n];for(let r=1,h;r<e.length&&(h=e.charAt(r),h==="h"||h==="w"||!(h=Qt[h])||h===s||(n+=h,s=h,n.length!==4));r++);t[i]=n}}},CJK:{split:""},LatinExact:Kt,LatinDefault:wt,LatinSimple:wt};function Xt(t,e,i,n){let s=[];for(let r=0,h;r<t.index.length;r++)if(h=t.index[r],e>=h.length)e-=h.length;else{e=h[n?"splice":"slice"](e,i);const o=e.length;if(o&&(s=s.length?s.concat(e):e,i-=o,n&&(t.length-=o),!i))break;e=0}return s}function ot(t){if(!this||this.constructor!==ot)return new ot(t);this.index=t?[t]:[],this.length=t?t.length:0;const e=this;return new Proxy([],{get(i,n){if(n==="length")return e.length;if(n==="push")return function(s){e.index[e.index.length-1].push(s),e.length++};if(n==="pop")return function(){if(e.length)return e.length--,e.index[e.index.length-1].pop()};if(n==="indexOf")return function(s){let r=0;for(let h=0,o,l;h<e.index.length;h++){if(o=e.index[h],l=o.indexOf(s),l>=0)return r+l;r+=o.length}return-1};if(n==="includes")return function(s){for(let r=0;r<e.index.length;r++)if(e.index[r].includes(s))return!0;return!1};if(n==="slice")return function(s,r){return Xt(e,s||0,r||e.length,!1)};if(n==="splice")return function(s,r){return Xt(e,s||0,r||e.length,!0)};if(n==="constructor")return Array;if(typeof n!="symbol")return(i=e.index[n/2**31|0])&&i[n]},set(i,n,s){return i=n/2**31|0,(e.index[i]||(e.index[i]=[]))[n]=s,e.length++,!0}})}ot.prototype.clear=function(){this.index.length=0};ot.prototype.push=function(){};function J(t=8){if(!this||this.constructor!==J)return new J(t);this.index=I(),this.h=[],this.size=0,t>32?(this.B=oe,this.A=BigInt(t)):(this.B=he,this.A=t)}J.prototype.get=function(t){const e=this.index[this.B(t)];return e&&e.get(t)};J.prototype.set=function(t,e){var i=this.B(t);let n=this.index[i];n?(i=n.size,n.set(t,e),(i-=n.size)&&this.size++):(this.index[i]=n=new Map([[t,e]]),this.h.push(n),this.size++)};function H(t=8){if(!this||this.constructor!==H)return new H(t);this.index=I(),this.h=[],this.size=0,t>32?(this.B=oe,this.A=BigInt(t)):(this.B=he,this.A=t)}H.prototype.add=function(t){var e=this.B(t);let i=this.index[e];i?(e=i.size,i.add(t),(e-=i.size)&&this.size++):(this.index[e]=i=new Set([t]),this.h.push(i),this.size++)};y=J.prototype;y.has=H.prototype.has=function(t){const e=this.index[this.B(t)];return e&&e.has(t)};y.delete=H.prototype.delete=function(t){const e=this.index[this.B(t)];e&&e.delete(t)&&this.size--};y.clear=H.prototype.clear=function(){this.index=I(),this.h=[],this.size=0};y.values=H.prototype.values=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].values())yield e};y.keys=H.prototype.keys=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].keys())yield e};y.entries=H.prototype.entries=function*(){for(let t=0;t<this.h.length;t++)for(let e of this.h[t].entries())yield e};function he(t){let e=2**this.A-1;if(typeof t=="number")return t&e;let i=0,n=this.A+1;for(let s=0;s<t.length;s++)i=(i*n^t.charCodeAt(s))&e;return this.A===32?i+2**31:i}function oe(t){let e=BigInt(2)**this.A-BigInt(1);var i=typeof t;if(i==="bigint")return t&e;if(i==="number")return BigInt(t)&e;i=BigInt(0);let n=this.A+BigInt(1);for(let s=0;s<t.length;s++)i=(i*n^BigInt(t.charCodeAt(s)))&e;return i}let et,ft;async function ke(t){t=t.data;var e=t.task;const i=t.id;let n=t.args;switch(e){case"init":ft=t.options||{},(e=t.factory)?(Function("return "+e)()(self),et=new self.FlexSearch.Index(ft),delete self.FlexSearch):et=new N(ft),postMessage({id:i});break;default:let s;e==="export"&&(n[1]?(n[0]=ft.export,n[2]=0,n[3]=1):n=null),e==="import"?n[0]&&(t=await ft.import.call(et,n[0]),et.import(n[0],t)):((s=n&&et[e].apply(et,n))&&s.then&&(s=await s),s&&s.await&&(s=await s.await),e==="search"&&s.result&&(s=s.result)),postMessage(e==="search"?{id:i,msg:s}:{id:i})}}function Jt(t){it.call(t,"add"),it.call(t,"append"),it.call(t,"search"),it.call(t,"update"),it.call(t,"remove"),it.call(t,"searchCache")}let Lt,Yt,kt;function ve(){Lt=kt=0}function it(t){this[t+"Async"]=function(){const e=arguments;var i=e[e.length-1];let n;if(typeof i=="function"&&(n=i,delete e[e.length-1]),Lt?kt||(kt=Date.now()-Yt>=this.priority*this.priority*3):(Lt=setTimeout(ve,0),Yt=Date.now()),kt){const r=this;return new Promise(h=>{setTimeout(function(){h(r[t+"Async"].apply(r,e))},0)})}const s=this[t].apply(this,e);return i=s.then?s:new Promise(r=>r(s)),n&&i.then(n),i}}let V=0;function Y(t={},e){function i(o){function l(u){u=u.data||u;const f=u.id,c=f&&r.h[f];c&&(c(u.msg),delete r.h[f])}if(this.worker=o,this.h=I(),this.worker)return s?this.worker.on("message",l):this.worker.onmessage=l,t.config?new Promise(function(u){V>1e9&&(V=0),r.h[++V]=function(){u(r)},r.worker.postMessage({id:V,task:"init",factory:n,options:t})}):(this.priority=t.priority||4,this.encoder=e||null,this.worker.postMessage({task:"init",factory:n,options:t}),this)}if(!this||this.constructor!==Y)return new Y(t);let n=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;n&&(n=n.toString());const s=typeof window>"u",r=this,h=be(n,s,t.worker);return h.then?h.then(function(o){return i.call(r,o)}):i.call(this,h)}K("add");K("append");K("search");K("update");K("remove");K("clear");K("export");K("import");Y.prototype.searchCache=Pt;Jt(Y.prototype);function K(t){Y.prototype[t]=function(){const e=this,i=[].slice.call(arguments);var n=i[i.length-1];let s;return typeof n=="function"&&(s=n,i.pop()),n=new Promise(function(r){t==="export"&&typeof i[0]=="function"&&(i[0]=null),V>1e9&&(V=0),e.h[++V]=r,e.worker.postMessage({task:t,id:V,args:i})}),s?(n.then(s),this):n}}function be(t,e,i){return e?typeof module<"u"?new(require("worker_threads")).Worker(__dirname+"/worker/node.js"):pe(()=>import("./__vite-browser-external.BIHI7g3E.js"),[]).then(function(n){return new n.Worker(import.meta.dirname+"/node/node.mjs")}):t?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+ke.toString()],{type:"text/javascript"}))):new window.Worker(typeof i=="string"?i:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"})}G.prototype.add=function(t,e,i){if(at(t)&&(e=t,t=dt(e,this.key)),e&&(t||t===0)){if(!i&&this.reg.has(t))return this.update(t,e);for(let o=0,l;o<this.field.length;o++){l=this.B[o];var n=this.index.get(this.field[o]);if(typeof l=="function"){var s=l(e);s&&n.add(t,s,i,!0)}else s=l.G,(!s||s(e))&&(l.constructor===String?l=[""+l]:E(l)&&(l=[l]),Rt(e,l,this.D,0,n,t,l[0],i))}if(this.tag)for(n=0;n<this.A.length;n++){var r=this.A[n];s=this.tag.get(this.F[n]);let o=I();if(typeof r=="function"){if(r=r(e),!r)continue}else{var h=r.G;if(h&&!h(e))continue;r.constructor===String&&(r=""+r),r=dt(e,r)}if(s&&r){E(r)&&(r=[r]);for(let l=0,u,f;l<r.length;l++)if(u=r[l],!o[u]&&(o[u]=1,(h=s.get(u))?f=h:s.set(u,f=[]),!i||!f.includes(t))){if(f.length===2**31-1){if(h=new ot(f),this.fastupdate)for(let c of this.reg.values())c.includes(f)&&(c[c.indexOf(f)]=h);s.set(u,f=h)}f.push(t),this.fastupdate&&((h=this.reg.get(t))?h.push(f):this.reg.set(t,[f]))}}}if(this.store&&(!i||!this.store.has(t))){let o;if(this.h){o=I();for(let l=0,u;l<this.h.length;l++){if(u=this.h[l],(i=u.G)&&!i(e))continue;let f;if(typeof u=="function"){if(f=u(e),!f)continue;u=[u.O]}else if(E(u)||u.constructor===String){o[u]=e[u];continue}Ot(e,o,u,0,u[0],f)}}this.store.set(t,o||e)}this.worker&&(this.fastupdate||this.reg.add(t))}return this};function Ot(t,e,i,n,s,r){if(t=t[s],n===i.length-1)e[s]=r||t;else if(t)if(t.constructor===Array)for(e=e[s]=Array(t.length),s=0;s<t.length;s++)Ot(t,e,i,n,s);else e=e[s]||(e[s]=I()),s=i[++n],Ot(t,e,i,n,s)}function Rt(t,e,i,n,s,r,h,o){if(t=t[h])if(n===e.length-1){if(t.constructor===Array){if(i[n]){for(e=0;e<t.length;e++)s.add(r,t[e],!0,!0);return}t=t.join(" ")}s.add(r,t,o,!0)}else if(t.constructor===Array)for(h=0;h<t.length;h++)Rt(t,e,i,n,s,r,h,o);else h=e[++n],Rt(t,e,i,n,s,r,h,o)}function Ht(t,e,i,n){if(!t.length)return t;if(t.length===1)return t=t[0],t=i||t.length>e?t.slice(i,i+e):t,n?rt.call(this,t):t;let s=[];for(let r=0,h,o;r<t.length;r++)if((h=t[r])&&(o=h.length)){if(i){if(i>=o){i-=o;continue}h=h.slice(i,i+e),o=h.length,i=0}if(o>e&&(h=h.slice(0,e),o=e),!s.length&&o>=e)return n?rt.call(this,h):h;if(s.push(h),e-=o,!e)break}return s=s.length>1?[].concat.apply([],s):s[0],n?rt.call(this,s):s}function At(t,e,i,n){var s=n[0];if(s[0]&&s[0].query)return t[e].apply(t,s);if(!(e!=="and"&&e!=="not"||t.result.length||t.await||s.suggest))return n.length>1&&(s=n[n.length-1]),(n=s.resolve)?t.await||t.result:t;let r=[],h=0,o=0,l,u,f,c,m;for(e=0;e<n.length;e++)if(s=n[e]){var g=void 0;if(s.constructor===C)g=s.await||s.result;else if(s.then||s.constructor===Array)g=s;else{h=s.limit||0,o=s.offset||0,f=s.suggest,u=s.resolve,l=((c=s.highlight||t.highlight)||s.enrich)&&u,g=s.queue;let p=s.async||g,a=s.index,d=s.query;if(a?t.index||(t.index=a):a=t.index,d||s.tag){const x=s.field||s.pluck;if(x&&(!d||t.query&&!c||(t.query=d,t.field=x,t.highlight=c),a=a.index.get(x)),g&&(m||t.await)){m=1;let w;const b=t.C.length,S=new Promise(function(A){w=A});(function(A,M){S.h=function(){M.index=null,M.resolve=!1;let $=p?A.searchAsync(M):A.search(M);return $.then?$.then(function(k){return t.C[b]=k=k.result||k,w(k),k}):($=$.result||$,w($),$)}})(a,Object.assign({},s)),t.C.push(S),r[e]=S;continue}else s.resolve=!1,s.index=null,g=p?a.searchAsync(s):a.search(s),s.resolve=u,s.index=a}else if(s.and)g=yt(s,"and",a);else if(s.or)g=yt(s,"or",a);else if(s.not)g=yt(s,"not",a);else if(s.xor)g=yt(s,"xor",a);else continue}g.await?(m=1,g=g.await):g.then?(m=1,g=g.then(function(p){return p.result||p})):g=g.result||g,r[e]=g}if(m&&!t.await&&(t.await=new Promise(function(p){t.return=p})),m){const p=Promise.all(r).then(function(a){for(let d=0;d<t.C.length;d++)if(t.C[d]===p){t.C[d]=function(){return i.call(t,a,h,o,l,u,f,c)};break}Nt(t)});t.C.push(p)}else if(t.await)t.C.push(function(){return i.call(t,r,h,o,l,u,f,c)});else return i.call(t,r,h,o,l,u,f,c);return u?t.await||t.result:t}function yt(t,e,i){t=t[e];const n=t[0]||t;return n.index||(n.index=i),i=new C(n),t.length>1&&(i=i[e].apply(i,t.slice(1))),i}C.prototype.or=function(){return At(this,"or",$e,arguments)};function $e(t,e,i,n,s,r,h){return t.length&&(this.result.length&&t.push(this.result),t.length<2?this.result=t[0]:(this.result=le(t,e,i,!1,this.h),i=0)),s&&(this.await=null),s?this.resolve(e,i,n,h):this}C.prototype.and=function(){return At(this,"and",je,arguments)};function je(t,e,i,n,s,r,h){if(!r&&!this.result.length)return s?this.result:this;let o;if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{let l=0;for(let u=0,f,c;u<t.length;u++)if((f=t[u])&&(c=f.length))l<c&&(l=c);else if(!r){l=0;break}l?(this.result=bt(t,l,e,i,r,this.h,s),o=!0):this.result=[]}else r||(this.result=t);return s&&(this.await=null),s?this.resolve(e,i,n,h,o):this}C.prototype.xor=function(){return At(this,"xor",Me,arguments)};function Me(t,e,i,n,s,r,h){if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{t:{r=i;var o=this.h;const l=[],u=I();let f=0;for(let c=0,m;c<t.length;c++)if(m=t[c]){f<m.length&&(f=m.length);for(let g=0,p;g<m.length;g++)if(p=m[g])for(let a=0,d;a<p.length;a++)d=p[a],u[d]=u[d]?2:1}for(let c=0,m,g=0;c<f;c++)for(let p=0,a;p<t.length;p++)if((a=t[p])&&(m=a[c])){for(let d=0,x;d<m.length;d++)if(x=m[d],u[x]===1)if(r)r--;else if(s){if(l.push(x),l.length===e){t=l;break t}}else{const w=c+(p?o:0);if(l[w]||(l[w]=[]),l[w].push(x),++g===e){t=l;break t}}}t=l}this.result=t,o=!0}else r||(this.result=t);return s&&(this.await=null),s?this.resolve(e,i,n,h,o):this}C.prototype.not=function(){return At(this,"not",Se,arguments)};function Se(t,e,i,n,s,r,h){if(!r&&!this.result.length)return s?this.result:this;if(t.length&&this.result.length){t:{r=i;var o=[];t=new Set(t.flat().flat());for(let l=0,u,f=0;l<this.result.length;l++)if(u=this.result[l]){for(let c=0,m;c<u.length;c++)if(m=u[c],!t.has(m)){if(r)r--;else if(s){if(o.push(m),o.length===e){t=o;break t}}else if(o[l]||(o[l]=[]),o[l].push(m),++f===e){t=o;break t}}}t=o}this.result=t,o=!0}return s&&(this.await=null),s?this.resolve(e,i,n,h,o):this}function vt(t,e,i,n,s){let r,h,o;typeof s=="string"?(r=s,s=""):r=s.template,h=r.indexOf("$1"),o=r.substring(h+2),h=r.substring(0,h);let l=s&&s.boundary,u=!s||s.clip!==!1,f=s&&s.merge&&o&&h&&new RegExp(o+" "+h,"g");s=s&&s.ellipsis;var c=0;if(typeof s=="object"){var m=s.template;c=m.length-2,s=s.pattern}typeof s!="string"&&(s=s===!1?"":"..."),c&&(s=m.replace("$1",s)),m=s.length-c;let g,p;typeof l=="object"&&(g=l.before,g===0&&(g=-1),p=l.after,p===0&&(p=-1),l=l.total||9e5),c=new Map;for(let Ct=0,U,Wt,lt;Ct<e.length;Ct++){let ut;if(n)ut=e,lt=n;else{var a=e[Ct];if(lt=a.field,!lt)continue;ut=a.result}Wt=i.get(lt),U=Wt.encoder,a=c.get(U),typeof a!="string"&&(a=U.encode(t),c.set(U,a));for(let pt=0;pt<ut.length;pt++){var d=ut[pt].doc;if(!d||(d=dt(d,lt),!d))continue;var x=d.trim().split(/\s+/);if(!x.length)continue;d="";var w=[];let mt=[];for(var b=-1,S=-1,A=0,M=0;M<x.length;M++){var $=x[M],k=U.encode($);k=k.length>1?k.join(" "):k[0];let v;if(k&&$){for(var j=$.length,z=(U.split?$.replace(U.split,""):$).length-k.length,_="",O=0,T=0;T<a.length;T++){var P=a[T];if(P){var L=P.length;L+=z,O&&L<=O||(P=k.indexOf(P),P>-1&&(_=(P?$.substring(0,P):"")+h+$.substring(P,P+L)+o+(P+L<j?$.substring(P+L):""),O=L,v=!0))}}_&&(l&&(b<0&&(b=d.length+(d?1:0)),S=d.length+(d?1:0)+_.length,A+=j,mt.push(w.length),w.push({match:_})),d+=(d?" ":"")+_)}if(!v)$=x[M],d+=(d?" ":"")+$,l&&w.push({text:$});else if(l&&A>=l)break}if(A=mt.length*(r.length-2),g||p||l&&d.length-A>l)if(A=l+A-m*2,M=S-b,g>0&&(M+=g),p>0&&(M+=p),M<=A)x=g?b-(g>0?g:0):b-((A-M)/2|0),w=p?S+(p>0?p:0):x+A,u||(x>0&&d.charAt(x)!==" "&&d.charAt(x-1)!==" "&&(x=d.indexOf(" ",x),x<0&&(x=0)),w<d.length&&d.charAt(w-1)!==" "&&d.charAt(w)!==" "&&(w=d.lastIndexOf(" ",w),w<S?w=S:++w)),d=(x?s:"")+d.substring(x,w)+(w<d.length?s:"");else{for(S=[],b={},A={},M={},$={},k={},_=z=j=0,T=O=1;;){var F=void 0;for(let v=0,B;v<mt.length;v++){if(B=mt[v],_)if(z!==_){if(M[v+1])continue;if(B+=_,b[B]){j-=m,A[v+1]=1,M[v+1]=1;continue}if(B>=w.length-1){if(B>=w.length){M[v+1]=1,B>=x.length&&(A[v+1]=1);continue}j-=m}if(d=w[B].text,L=p&&k[v])if(L>0){if(d.length>L)if(M[v+1]=1,u)d=d.substring(0,L);else continue;(L-=d.length)||(L=-1),k[v]=L}else{M[v+1]=1;continue}if(j+d.length+1<=l)d=" "+d,S[v]+=d;else if(u)F=l-j-1,F>0&&(d=" "+d.substring(0,F),S[v]+=d),M[v+1]=1;else{M[v+1]=1;continue}}else{if(M[v])continue;if(B-=z,b[B]){j-=m,M[v]=1,A[v]=1;continue}if(B<=0){if(B<0){M[v]=1,A[v]=1;continue}j-=m}if(d=w[B].text,L=g&&$[v])if(L>0){if(d.length>L)if(M[v]=1,u)d=d.substring(d.length-L);else continue;(L-=d.length)||(L=-1),$[v]=L}else{M[v]=1;continue}if(j+d.length+1<=l)d+=" ",S[v]=d+S[v];else if(u)F=d.length+1-(l-j),F>=0&&F<d.length&&(d=d.substring(F)+" ",S[v]=d+S[v]),M[v]=1;else{M[v]=1;continue}}else{d=w[B].match,g&&($[v]=g),p&&(k[v]=p),v&&j++;let Bt;if(B?!v&&m&&(j+=m):(A[v]=1,M[v]=1),B>=x.length-1||B<w.length-1&&w[B+1].match?Bt=1:m&&(j+=m),j-=r.length-2,!v||j+d.length<=l)S[v]=d;else{F=O=T=A[v]=0;break}Bt&&(A[v+1]=1,M[v+1]=1)}j+=d.length,F=b[B]=1}if(F)z===_?_++:z++;else{if(z===_?O=0:T=0,!O&&!T)break;O?(z++,_=z):_++}}d="";for(let v=0,B;v<S.length;v++)B=(v&&A[v]?" ":(v&&!s?" ":"")+s)+S[v],d+=B;s&&!A[S.length]&&(d+=s)}f&&(d=d.replace(f," ")),ut[pt].highlight=d}if(n)break}return e}function C(t,e){if(!this||this.constructor!==C)return new C(t,e);let i=0,n,s,r,h,o,l;if(t&&t.index){const u=t;if(e=u.index,i=u.boost||0,s=u.query){r=u.field||u.pluck,h=u.highlight;const f=u.resolve;t=u.async||u.queue,u.resolve=!1,u.index=null,t=t?e.searchAsync(u):e.search(u),u.resolve=f,u.index=e,t=t.result||t}else t=[]}if(t&&t.then){const u=this;t=t.then(function(f){u.C[0]=u.result=f.result||f,Nt(u)}),n=[t],t=[],o=new Promise(function(f){l=f})}this.index=e||null,this.result=t||[],this.h=i,this.C=n||[],this.await=o||null,this.return=l||null,this.highlight=h||null,this.query=s||"",this.field=r||""}y=C.prototype;y.limit=function(t){if(this.await){const e=this;this.C.push(function(){return e.limit(t).result})}else if(this.result.length){const e=[];for(let i=0,n;i<this.result.length;i++)if(n=this.result[i])if(n.length<=t){if(e[i]=n,t-=n.length,!t)break}else{e[i]=n.slice(0,t);break}this.result=e}return this};y.offset=function(t){if(this.await){const e=this;this.C.push(function(){return e.offset(t).result})}else if(this.result.length){const e=[];for(let i=0,n;i<this.result.length;i++)(n=this.result[i])&&(n.length<=t?t-=n.length:(e[i]=n.slice(t),t=0));this.result=e}return this};y.boost=function(t){if(this.await){const e=this;this.C.push(function(){return e.boost(t).result})}else this.h+=t;return this};function Nt(t,e){let i=t.result;var n=t.await;t.await=null;for(let s=0,r;s<t.C.length;s++)if(r=t.C[s]){if(typeof r=="function")i=r(),t.C[s]=i=i.result||i,s--;else if(r.h)i=r.h(),t.C[s]=i=i.result||i,s--;else if(r.then)return t.await=n}return n=t.return,t.C=[],t.return=null,e||n(i),i}y.resolve=function(t,e,i,n,s){let r=this.await?Nt(this,!0):this.result;if(r.then){const h=this;return r.then(function(){return h.resolve(t,e,i,n,s)})}return r.length&&(typeof t=="object"?(n=t.highlight||this.highlight,i=!!n||t.enrich,e=t.offset,t=t.limit):(n=n||this.highlight,i=!!n||i),r=s?i?rt.call(this.index,r):r:Ht.call(this.index,r,t||100,e,i)),this.finalize(r,n)};y.finalize=function(t,e){if(t.then){const n=this;return t.then(function(s){return n.finalize(s,e)})}e&&t.length&&this.query&&(t=vt(this.query,t,this.index.index,this.field,e));const i=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",i&&i(t),t};function bt(t,e,i,n,s,r,h){const o=t.length;let l=[],u,f;u=I();for(let c=0,m,g,p,a;c<e;c++)for(let d=0;d<o;d++)if(p=t[d],c<p.length&&(m=p[c]))for(let x=0;x<m.length;x++){if(g=m[x],(f=u[g])?u[g]++:(f=0,u[g]=1),a=l[f]||(l[f]=[]),!h){let w=c+(d||!s?0:r||0);a=a[w]||(a[w]=[])}if(a.push(g),h&&i&&f===o-1&&a.length-n===i)return n?a.slice(n):a}if(t=l.length)if(s)l=l.length>1?le(l,i,n,h,r):(l=l[0])&&i&&l.length>i||n?l.slice(n,i+n):l;else{if(t<o)return[];if(l=l[t-1],i||n)if(h)(l.length>i||n)&&(l=l.slice(n,i+n));else{s=[];for(let c=0,m;c<l.length;c++)if(m=l[c]){if(n&&m.length>n)n-=m.length;else if((i&&m.length>i||n)&&(m=m.slice(n,i+n),i-=m.length,n&&(n-=m.length)),s.push(m),!i)break}l=s}}return l}function le(t,e,i,n,s){const r=[],h=I();let o;var l=t.length;let u;if(n){for(s=l-1;s>=0;s--)if(u=(n=t[s])&&n.length){for(l=0;l<u;l++)if(o=n[l],!h[o]){if(h[o]=1,i)i--;else if(r.push(o),r.length===e)return r}}}else for(let f=l-1,c,m=0;f>=0;f--){c=t[f];for(let g=0;g<c.length;g++)if(u=(n=c[g])&&n.length){for(let p=0;p<u;p++)if(o=n[p],!h[o])if(h[o]=1,i)i--;else{let a=(g+(f<l-1&&s||0))/(f+1)|0;if((r[a]||(r[a]=[])).push(o),++m===e)return r}}}return r}function _e(t,e,i){const n=I(),s=[];for(let r=0,h;r<e.length;r++){h=e[r];for(let o=0;o<h.length;o++)n[h[o]]=1}if(i)for(let r=0,h;r<t.length;r++)h=t[r],n[h]&&(s.push(h),n[h]=0);else for(let r=0,h,o;r<t.result.length;r++)for(h=t.result[r],e=0;e<h.length;e++)o=h[e],n[o]&&((s[r]||(s[r]=[])).push(o),n[o]=0);return s}G.prototype.search=function(t,e,i,n){i||(!e&&at(t)?(i=t,t=""):at(e)&&(i=e,e=0));let s=[];var r=[];let h,o,l,u,f,c,m=0,g=!0,p;if(i){i.constructor===Array&&(i={index:i}),t=i.query||t,h=i.pluck,o=i.merge,u=i.boost,c=h||i.field||(c=i.index)&&(c.index?null:c);var a=this.tag&&i.tag;l=i.suggest,g=i.resolve!==!1,f=i.cache,p=g&&this.store&&i.highlight;var d=!!p||g&&this.store&&i.enrich;e=i.limit||e;var x=i.offset||0;if(e||(e=g?100:0),a&&(!this.db||!n)){a.constructor!==Array&&(a=[a]);var w=[];for(let $=0,k;$<a.length;$++)if(k=a[$],k.field&&k.tag){var b=k.tag;if(b.constructor===Array)for(var S=0;S<b.length;S++)w.push(k.field,b[S]);else w.push(k.field,b)}else{b=Object.keys(k);for(let j=0,z,_;j<b.length;j++)if(z=b[j],_=k[z],_.constructor===Array)for(S=0;S<_.length;S++)w.push(z,_[S]);else w.push(z,_)}if(a=w,!t){if(r=[],w.length)for(a=0;a<w.length;a+=2){if(this.db){if(n=this.index.get(w[a]),!n)continue;r.push(n=n.db.tag(w[a+1],e,x,d))}else n=Ae.call(this,w[a],w[a+1],e,x,d);s.push(g?{field:w[a],tag:w[a+1],result:n}:[n])}if(r.length){const $=this;return Promise.all(r).then(function(k){for(let j=0;j<k.length;j++)g?s[j].result=k[j]:s[j]=k[j];return g?s:new C(s.length>1?bt(s,1,0,0,l,u):s[0],$)})}return g?s:new C(s.length>1?bt(s,1,0,0,l,u):s[0],this)}}g||h||!(c=c||this.field)||(E(c)?h=c:(c.constructor===Array&&c.length===1&&(c=c[0]),h=c.field||c.index)),c&&c.constructor!==Array&&(c=[c])}c||(c=this.field);let A;w=(this.worker||this.db)&&!n&&[];for(let $=0,k,j,z;$<c.length;$++){if(j=c[$],this.db&&this.tag&&!this.B[$])continue;let _;if(E(j)||(_=j,j=_.field,t=_.query||t,e=tt(_.limit,e),x=tt(_.offset,x),l=tt(_.suggest,l),p=g&&this.store&&tt(_.highlight,p),d=!!p||g&&this.store&&tt(_.enrich,d),f=tt(_.cache,f)),n)k=n[$];else{b=_||i||{},S=b.enrich;var M=this.index.get(j);if(a&&(this.db&&(b.tag=a,A=M.db.support_tag_search,b.field=c),!A&&S&&(b.enrich=!1)),k=f?M.searchCache(t,e,b):M.search(t,e,b),S&&(b.enrich=S),w){w[$]=k;continue}}if(z=(k=k.result||k)&&k.length,a&&z){if(b=[],S=0,this.db&&n){if(!A)for(M=c.length;M<n.length;M++){let O=n[M];if(O&&O.length)S++,b.push(O);else if(!l)return g?s:new C(s,this)}}else for(let O=0,T,P;O<a.length;O+=2){if(T=this.tag.get(a[O]),!T){if(l)continue;return g?s:new C(s,this)}if(P=(T=T&&T.get(a[O+1]))&&T.length)S++,b.push(T);else if(!l)return g?s:new C(s,this)}if(S){if(k=_e(k,b,g),z=k.length,!z&&!l)return g?k:new C(k,this);S--}}if(z)r[m]=j,s.push(k),m++;else if(c.length===1)return g?s:new C(s,this)}if(w){if(this.db&&a&&a.length&&!A)for(d=0;d<a.length;d+=2){if(r=this.index.get(a[d]),!r){if(l)continue;return g?s:new C(s,this)}w.push(r.db.tag(a[d+1],e,x,!1))}const $=this;return Promise.all(w).then(function(k){return i&&(i.resolve=g),k.length&&(k=$.search(t,e,i,k)),k})}if(!m)return g?s:new C(s,this);if(h&&(!d||!this.store))return s=s[0],g?s:new C(s,this);for(w=[],x=0;x<r.length;x++){if(a=s[x],d&&a.length&&typeof a[0].doc>"u"&&(this.db?w.push(a=this.index.get(this.field[0]).db.enrich(a)):a=rt.call(this,a)),h)return g?p?vt(t,a,this.index,h,p):a:new C(a,this);s[x]={field:r[x],result:a}}if(d&&this.db&&w.length){const $=this;return Promise.all(w).then(function(k){for(let j=0;j<k.length;j++)s[j].result=k[j];return p&&(s=vt(t,s,$.index,h,p)),o?Gt(s):s})}return p&&(s=vt(t,s,this.index,h,p)),o?Gt(s):s};function Gt(t){const e=[],i=I(),n=I();for(let s=0,r,h,o,l,u,f,c;s<t.length;s++){r=t[s],h=r.field,o=r.result;for(let m=0;m<o.length;m++)u=o[m],typeof u!="object"?u={id:l=u}:l=u.id,(f=i[l])?f.push(h):(u.field=i[l]=[h],e.push(u)),(c=u.highlight)&&(f=n[l],f||(n[l]=f={},u.highlight=f),f[h]=c)}return e}function Ae(t,e,i,n,s){return t=this.tag.get(t),t?(t=t.get(e),t?(e=t.length-n,e>0&&((i&&e>i||n)&&(t=t.slice(n,n+i)),s&&(t=rt.call(this,t))),t):[]):[]}function rt(t){if(!this||!this.store)return t;if(this.db)return this.index.get(this.field[0]).db.enrich(t);const e=Array(t.length);for(let i=0,n;i<t.length;i++)n=t[i],e[i]={id:n,doc:this.store.get(n)};return e}function G(t){if(!this||this.constructor!==G)return new G(t);const e=t.document||t.doc||t;let i,n;if(this.B=[],this.field=[],this.D=[],this.key=(i=e.key||e.id)&&$t(i,this.D)||"id",(n=t.keystore||0)&&(this.keystore=n),this.fastupdate=!!t.fastupdate,this.reg=!this.fastupdate||t.worker||t.db?n?new H(n):new Set:n?new J(n):new Map,this.h=(i=e.store||null)&&i&&i!==!0&&[],this.store=i?n?new J(n):new Map:null,this.cache=(i=t.cache||null)&&new q(i),t.cache=!1,this.worker=t.worker||!1,this.priority=t.priority||4,this.index=Ce.call(this,t,e),this.tag=null,(i=e.tag)&&(typeof i=="string"&&(i=[i]),i.length)){this.tag=new Map,this.A=[],this.F=[];for(let s=0,r,h;s<i.length;s++){if(r=i[s],h=r.field||r,!h)throw Error("The tag field from the document descriptor is undefined.");r.custom?this.A[s]=r.custom:(this.A[s]=$t(h,this.D),r.filter&&(typeof this.A[s]=="string"&&(this.A[s]=new String(this.A[s])),this.A[s].G=r.filter)),this.F[s]=h,this.tag.set(h,new Map)}}if(this.worker){this.fastupdate=!1,t=[];for(const s of this.index.values())s.then&&t.push(s);if(t.length){const s=this;return Promise.all(t).then(function(r){let h=0;for(const o of s.index.entries()){const l=o[0];let u=o[1];u.then&&(u=r[h],s.index.set(l,u),h++)}return s})}}else t.db&&(this.fastupdate=!1,this.mount(t.db))}y=G.prototype;y.mount=function(t){let e=this.field;if(this.tag)for(let r=0,h;r<this.F.length;r++){h=this.F[r];var i=void 0;this.index.set(h,i=new N({},this.reg)),e===this.field&&(e=e.slice(0)),e.push(h),i.tag=this.tag.get(h)}i=[];const n={db:t.db,type:t.type,fastupdate:t.fastupdate};for(let r=0,h,o;r<e.length;r++){n.field=o=e[r],h=this.index.get(o);const l=new t.constructor(t.id,n);l.id=t.id,i[r]=l.mount(h),h.document=!0,r?h.bypass=!0:h.store=this.store}const s=this;return this.db=Promise.all(i).then(function(){s.db=!0})};y.commit=async function(){const t=[];for(const e of this.index.values())t.push(e.commit());await Promise.all(t),this.reg.clear()};y.destroy=function(){const t=[];for(const e of this.index.values())t.push(e.destroy());return Promise.all(t)};function Ce(t,e){const i=new Map;let n=e.index||e.field||e;E(n)&&(n=[n]);for(let r=0,h,o;r<n.length;r++){if(h=n[r],E(h)||(o=h,h=h.field),o=at(o)?Object.assign({},t,o):t,this.worker){var s=void 0;s=(s=o.encoder)&&s.encode?s:new ht(typeof s=="string"?Et[s]:s||{}),s=new Y(o,s),i.set(h,s)}this.worker||i.set(h,new N(o,this.reg)),o.custom?this.B[r]=o.custom:(this.B[r]=$t(h,this.D),o.filter&&(typeof this.B[r]=="string"&&(this.B[r]=new String(this.B[r])),this.B[r].G=o.filter)),this.field[r]=h}if(this.h){t=e.store,E(t)&&(t=[t]);for(let r=0,h,o;r<t.length;r++)h=t[r],o=h.field||h,h.custom?(this.h[r]=h.custom,h.custom.O=o):(this.h[r]=$t(o,this.D),h.filter&&(typeof this.h[r]=="string"&&(this.h[r]=new String(this.h[r])),this.h[r].G=h.filter))}return i}function $t(t,e){const i=t.split(":");let n=0;for(let s=0;s<i.length;s++)t=i[s],t[t.length-1]==="]"&&(t=t.substring(0,t.length-2))&&(e[n]=!0),t&&(i[n++]=t);return n<i.length&&(i.length=n),n>1?i:i[0]}y.append=function(t,e){return this.add(t,e,!0)};y.update=function(t,e){return this.remove(t).add(t,e)};y.remove=function(t){at(t)&&(t=dt(t,this.key));for(var e of this.index.values())e.remove(t,!0);if(this.reg.has(t)){if(this.tag&&!this.fastupdate)for(let i of this.tag.values())for(let n of i){e=n[0];const s=n[1],r=s.indexOf(t);r>-1&&(s.length>1?s.splice(r,1):i.delete(e))}this.store&&this.store.delete(t),this.reg.delete(t)}return this.cache&&this.cache.remove(t),this};y.clear=function(){const t=[];for(const e of this.index.values()){const i=e.clear();i.then&&t.push(i)}if(this.tag)for(const e of this.tag.values())e.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),t.length?Promise.all(t):this};y.contain=function(t){return this.db?this.index.get(this.field[0]).db.has(t):this.reg.has(t)};y.cleanup=function(){for(const t of this.index.values())t.cleanup();return this};y.get=function(t){return this.db?this.index.get(this.field[0]).db.enrich(t).then(function(e){return e[0]&&e[0].doc||null}):this.store.get(t)||null};y.set=function(t,e){return typeof t=="object"&&(e=t,t=dt(e,this.key)),this.store.set(t,e),this};y.searchCache=Pt;y.export=Be;y.import=Ie;Jt(G.prototype);function Ft(t,e=0){let i=[],n=[];e&&(e=25e4/e*5e3|0);for(const s of t.entries())n.push(s),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function Dt(t,e){e||(e=new Map);for(let i=0,n;i<t.length;i++)n=t[i],e.set(n[0],n[1]);return e}function ue(t,e=0){let i=[],n=[];e&&(e=25e4/e*1e3|0);for(const s of t.entries())n.push([s[0],Ft(s[1])[0]]),n.length===e&&(i.push(n),n=[]);return n.length&&i.push(n),i}function fe(t,e){e||(e=new Map);for(let i=0,n,s;i<t.length;i++)n=t[i],s=e.get(n[0]),e.set(n[0],Dt(n[1],s));return e}function ce(t){let e=[],i=[];for(const n of t.keys())i.push(n),i.length===25e4&&(e.push(i),i=[]);return i.length&&e.push(i),e}function ae(t,e){e||(e=new Set);for(let i=0;i<t.length;i++)e.add(t[i]);return e}function jt(t,e,i,n,s,r,h=0){const o=n&&n.constructor===Array;var l=o?n.shift():n;if(!l)return this.export(t,e,s,r+1);if((l=t((e?e+".":"")+(h+1)+"."+i,JSON.stringify(l)))&&l.then){const u=this;return l.then(function(){return jt.call(u,t,e,i,o?n:null,s,r,h+1)})}return jt.call(this,t,e,i,o?n:null,s,r,h+1)}function Be(t,e,i=0,n=0){if(i<this.field.length){const h=this.field[i];if((e=this.index.get(h).export(t,h,i,n=1))&&e.then){const o=this;return e.then(function(){return o.export(t,h,i+1)})}return this.export(t,h,i+1)}let s,r;switch(n){case 0:s="reg",r=ce(this.reg),e=null;break;case 1:s="tag",r=this.tag&&ue(this.tag,this.reg.size),e=null;break;case 2:s="doc",r=this.store&&Ft(this.store),e=null;break;default:return}return jt.call(this,t,e,s,r||null,i,n)}function Ie(t,e){var i=t.split(".");i[i.length-1]==="json"&&i.pop();const n=i.length>2?i[0]:"";if(i=i.length>2?i[2]:i[1],this.worker&&n)return this.index.get(n).import(t);if(e){if(typeof e=="string"&&(e=JSON.parse(e)),n)return this.index.get(n).import(i,e);switch(i){case"reg":this.fastupdate=!1,this.reg=ae(e,this.reg);for(let s=0,r;s<this.field.length;s++)r=this.index.get(this.field[s]),r.fastupdate=!1,r.reg=this.reg;if(this.worker){e=[];for(const s of this.index.values())e.push(s.import(t));return Promise.all(e)}break;case"tag":this.tag=fe(e,this.tag);break;case"doc":this.store=Dt(e,this.store)}}}function qt(t,e){let i="";for(const n of t.entries()){t=n[0];const s=n[1];let r="";for(let h=0,o;h<s.length;h++){o=s[h]||[""];let l="";for(let u=0;u<o.length;u++)l+=(l?",":"")+(e==="string"?'"'+o[u]+'"':o[u]);l="["+l+"]",r+=(r?",":"")+l}r='["'+t+'",['+r+"]]",i+=(i?",":"")+r}return i}N.prototype.remove=function(t,e){const i=this.reg.size&&(this.fastupdate?this.reg.get(t):this.reg.has(t));if(i){if(this.fastupdate){for(let n=0,s,r;n<i.length;n++)if((s=i[n])&&(r=s.length))if(s[r-1]===t)s.pop();else{const h=s.indexOf(t);h>=0&&s.splice(h,1)}}else gt(this.map,t),this.depth&&gt(this.ctx,t);e||this.reg.delete(t)}return this.db&&(this.commit_task.push({del:t}),this.M&&de(this)),this.cache&&this.cache.remove(t),this};function gt(t,e){let i=0;var n=typeof e>"u";if(t.constructor===Array){for(let s=0,r,h,o;s<t.length;s++)if((r=t[s])&&r.length){if(n)return 1;if(h=r.indexOf(e),h>=0){if(r.length>1)return r.splice(h,1),1;if(delete t[s],i)return 1;o=1}else{if(o)return 1;i++}}}else for(let s of t.entries())n=s[0],gt(s[1],e)?i++:t.delete(n);return i}const ze={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};N.prototype.add=function(t,e,i,n){if(e&&(t||t===0)){if(!n&&!i&&this.reg.has(t))return this.update(t,e);n=this.depth,e=this.encoder.encode(e,!n);const u=e.length;if(u){const f=I(),c=I(),m=this.resolution;for(let g=0;g<u;g++){let p=e[this.rtl?u-1-g:g];var s=p.length;if(s&&(n||!c[p])){var r=this.score?this.score(e,p,g,null,0):xt(m,u,g),h="";switch(this.tokenize){case"tolerant":if(D(this,c,p,r,t,i),s>2){for(let a=1,d,x,w,b;a<s-1;a++)d=p.charAt(a),x=p.charAt(a+1),w=p.substring(0,a)+x,b=p.substring(a+2),h=w+d+b,D(this,c,h,r,t,i),h=w+b,D(this,c,h,r,t,i);D(this,c,p.substring(0,p.length-1),r,t,i)}break;case"full":if(s>2){for(let a=0,d;a<s;a++)for(r=s;r>a;r--){h=p.substring(a,r),d=this.rtl?s-1-a:a;var o=this.score?this.score(e,p,g,h,d):xt(m,u,g,s,d);D(this,c,h,o,t,i)}break}case"bidirectional":case"reverse":if(s>1){for(o=s-1;o>0;o--){h=p[this.rtl?s-1-o:o]+h;var l=this.score?this.score(e,p,g,h,o):xt(m,u,g,s,o);D(this,c,h,l,t,i)}h=""}case"forward":if(s>1){for(o=0;o<s;o++)h+=p[this.rtl?s-1-o:o],D(this,c,h,r,t,i);break}default:if(D(this,c,p,r,t,i),n&&u>1&&g<u-1)for(s=this.N,h=p,r=Math.min(n+1,this.rtl?g+1:u-g),o=1;o<r;o++){p=e[this.rtl?u-1-g-o:g+o],l=this.bidirectional&&p>h;const a=this.score?this.score(e,h,g,p,o-1):xt(s+(u/2>s?0:1),u,g,r-1,o-1);D(this,f,l?h:p,a,t,i,l?p:h)}}}}this.fastupdate||this.reg.add(t)}}return this.db&&(this.commit_task.push(i?{ins:t}:{del:t}),this.M&&de(this)),this};function D(t,e,i,n,s,r,h){let o,l;if(!(o=e[i])||h&&!o[h]){if(h?(e=o||(e[i]=I()),e[h]=1,l=t.ctx,(o=l.get(h))?l=o:l.set(h,l=t.keystore?new J(t.keystore):new Map)):(l=t.map,e[i]=1),(o=l.get(i))?l=o:l.set(i,l=o=[]),r){for(let u=0,f;u<o.length;u++)if((f=o[u])&&f.includes(s)){if(u<=n)return;f.splice(f.indexOf(s),1),t.fastupdate&&(e=t.reg.get(s))&&e.splice(e.indexOf(f),1);break}}if(l=l[n]||(l[n]=[]),l.push(s),l.length===2**31-1){if(e=new ot(l),t.fastupdate)for(let u of t.reg.values())u.includes(l)&&(u[u.indexOf(l)]=e);o[n]=l=e}t.fastupdate&&((n=t.reg.get(s))?n.push(l):t.reg.set(s,[l]))}}function xt(t,e,i,n,s){return i&&t>1?e+(n||0)<=t?i+(s||0):(t-1)/(e+(n||0))*(i+(s||0))+1|0:0}N.prototype.search=function(t,e,i){if(i||(e||typeof t!="object"?typeof e=="object"&&(i=e,e=0):(i=t,t="")),i&&i.cache)return i.cache=!1,t=this.searchCache(t,e,i),i.cache=!0,t;let n=[],s,r,h,o=0,l,u,f,c,m;i&&(t=i.query||t,e=i.limit||e,o=i.offset||0,r=i.context,h=i.suggest,m=(l=i.resolve)&&i.enrich,f=i.boost,c=i.resolution,u=this.db&&i.tag),typeof l>"u"&&(l=this.resolve),r=this.depth&&r!==!1;let g=this.encoder.encode(t,!r);if(s=g.length,e=e||(l?100:0),s===1)return ee.call(this,g[0],"",e,o,l,m,u);if(s===2&&r&&!h)return ee.call(this,g[1],g[0],e,o,l,m,u);let p=I(),a=0,d;if(r&&(d=g[0],a=1),c||c===0||(c=d?this.N:this.resolution),this.db){if(this.db.search&&(i=this.db.search(this,g,e,o,h,l,m,u),i!==!1))return i;const x=this;return async function(){for(let w,b;a<s;a++){if((b=g[a])&&!p[b]){if(p[b]=1,w=await Tt(x,b,d,0,0,!1,!1),w=ie(w,n,h,c)){n=w;break}d&&(h&&w&&n.length||(d=b))}h&&d&&a===s-1&&!n.length&&(c=x.resolution,d="",a=-1,p=I())}return te(n,c,e,o,h,f,l)}()}for(let x,w;a<s;a++){if((w=g[a])&&!p[w]){if(p[w]=1,x=Tt(this,w,d,0,0,!1,!1),x=ie(x,n,h,c)){n=x;break}d&&(h&&x&&n.length||(d=w))}h&&d&&a===s-1&&!n.length&&(c=this.resolution,d="",a=-1,p=I())}return te(n,c,e,o,h,f,l)};function te(t,e,i,n,s,r,h){let o=t.length,l=t;if(o>1)l=bt(t,e,i,n,s,r,h);else if(o===1)return h?Ht.call(null,t[0],i,n):new C(t[0],this);return h?l:new C(l,this)}function ee(t,e,i,n,s,r,h){return t=Tt(this,t,e,i,n,s,r,h),this.db?t.then(function(o){return s?o||[]:new C(o,this)}):t&&t.length?s?Ht.call(this,t,i,n):new C(t,this):s?[]:new C([],this)}function ie(t,e,i,n){let s=[];if(t&&t.length){if(t.length<=n){e.push(t);return}for(let r=0,h;r<n;r++)(h=t[r])&&(s[r]=h);if(s.length){e.push(s);return}}if(!i)return s}function Tt(t,e,i,n,s,r,h,o){let l;return i&&(l=t.bidirectional&&e>i)&&(l=i,i=e,e=l),t.db?t.db.get(e,i,n,s,r,h,o):(t=i?(t=t.ctx.get(i))&&t.get(e):t.map.get(e),t)}function N(t,e){if(!this||this.constructor!==N)return new N(t);if(t){var i=E(t)?t:t.preset;i&&(t=Object.assign({},ze[i],t))}else t={};i=t.context;const n=i===!0?{depth:1}:i||{},s=E(t.encoder)?Et[t.encoder]:t.encode||t.encoder||{};this.encoder=s.encode?s:typeof s=="object"?new ht(s):{encode:s},this.resolution=t.resolution||9,this.tokenize=i=(i=t.tokenize)&&i!=="default"&&i!=="exact"&&i||"strict",this.depth=i==="strict"&&n.depth||0,this.bidirectional=n.bidirectional!==!1,this.fastupdate=!!t.fastupdate,this.score=t.score||null,(i=t.keystore||0)&&(this.keystore=i),this.map=i?new J(i):new Map,this.ctx=i?new J(i):new Map,this.reg=e||(this.fastupdate?i?new J(i):new Map:i?new H(i):new Set),this.N=n.resolution||3,this.rtl=s.rtl||t.rtl||!1,this.cache=(i=t.cache||null)&&new q(i),this.resolve=t.resolve!==!1,(i=t.db)&&(this.db=this.mount(i)),this.M=t.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=t.priority||4}y=N.prototype;y.mount=function(t){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),t.mount(this)};y.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)};y.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function de(t){t.commit_timer||(t.commit_timer=setTimeout(function(){t.commit_timer=null,t.db.commit(t)},1))}y.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this};y.append=function(t,e){return this.add(t,e,!0)};y.contain=function(t){return this.db?this.db.has(t):this.reg.has(t)};y.update=function(t,e){const i=this,n=this.remove(t);return n&&n.then?n.then(()=>i.add(t,e)):this.add(t,e)};y.cleanup=function(){return this.fastupdate?(gt(this.map),this.depth&&gt(this.ctx),this):this};y.searchCache=Pt;y.export=function(t,e,i=0,n=0){let s,r;switch(n){case 0:s="reg",r=ce(this.reg);break;case 1:s="cfg",r=null;break;case 2:s="map",r=Ft(this.map,this.reg.size);break;case 3:s="ctx",r=ue(this.ctx,this.reg.size);break;default:return}return jt.call(this,t,e,s,r,i,n)};y.import=function(t,e){if(e)switch(typeof e=="string"&&(e=JSON.parse(e)),t=t.split("."),t[t.length-1]==="json"&&t.pop(),t.length===3&&t.shift(),t=t.length>1?t[1]:t[0],t){case"reg":this.fastupdate=!1,this.reg=ae(e,this.reg);break;case"map":this.map=Dt(e,this.map);break;case"ctx":this.ctx=fe(e,this.ctx)}};y.serialize=function(t=!0){let e="",i="",n="";if(this.reg.size){let r;for(var s of this.reg.keys())r||(r=typeof s),e+=(e?",":"")+(r==="string"?'"'+s+'"':s);e="index.reg=new Set(["+e+"]);",i=qt(this.map,r),i="index.map=new Map(["+i+"]);";for(const h of this.ctx.entries()){s=h[0];let o=qt(h[1],r);o="new Map(["+o+"])",o='["'+s+'",'+o+"]",n+=(n?",":"")+o}n="index.ctx=new Map(["+n+"]);"}return t?"function inject(index){"+e+i+n+"}":e+i+n};Jt(N.prototype);const ge=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Mt=["map","ctx","tag","reg","cfg"],Q=I();function St(t,e={}){if(!this||this.constructor!==St)return new St(t,e);typeof t=="object"&&(e=t,t=t.name),t||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(t?":"+t.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=e.field?e.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=e.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}y=St.prototype;y.mount=function(t){return t.index?t.mount(this):(t.db=this,this.open())};y.open=function(){if(this.db)return this.db;let t=this;navigator.storage&&navigator.storage.persist(),Q[t.id]||(Q[t.id]=[]),Q[t.id].push(t.field);const e=ge.open(t.id,1);return e.onupgradeneeded=function(){const i=t.db=this.result;for(let n=0,s;n<Mt.length;n++){s=Mt[n];for(let r=0,h;r<Q[t.id].length;r++)h=Q[t.id][r],i.objectStoreNames.contains(s+(s!=="reg"&&h?":"+h:""))||i.createObjectStore(s+(s!=="reg"&&h?":"+h:""))}},t.db=Z(e,function(i){t.db=i,t.db.onversionchange=function(){t.close()}})};y.close=function(){this.db&&this.db.close(),this.db=null};y.destroy=function(){const t=ge.deleteDatabase(this.id);return Z(t)};y.clear=function(){const t=[];for(let i=0,n;i<Mt.length;i++){n=Mt[i];for(let s=0,r;s<Q[this.id].length;s++)r=Q[this.id][s],t.push(n+(n!=="reg"&&r?":"+r:""))}const e=this.db.transaction(t,"readwrite");for(let i=0;i<t.length;i++)e.objectStore(t[i]).clear();return Z(e)};y.get=function(t,e,i=0,n=0,s=!0,r=!1){t=this.db.transaction((e?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((e?"ctx":"map")+(this.field?":"+this.field:"")).get(e?e+":"+t:t);const h=this;return Z(t).then(function(o){let l=[];if(!o||!o.length)return l;if(s){if(!i&&!n&&o.length===1)return o[0];for(let u=0,f;u<o.length;u++)if((f=o[u])&&f.length){if(n>=f.length){n-=f.length;continue}const c=i?n+Math.min(f.length-n,i):f.length;for(let m=n;m<c;m++)l.push(f[m]);if(n=0,l.length===i)break}return r?h.enrich(l):l}return o})};y.tag=function(t,e=0,i=0,n=!1){t=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(t);const s=this;return Z(t).then(function(r){return!r||!r.length||i>=r.length?[]:!e&&!i?r:(r=r.slice(i,i+e),n?s.enrich(r):r)})};y.enrich=function(t){typeof t!="object"&&(t=[t]);const e=this.db.transaction("reg","readonly").objectStore("reg"),i=[];for(let n=0;n<t.length;n++)i[n]=Z(e.get(t[n]));return Promise.all(i).then(function(n){for(let s=0;s<n.length;s++)n[s]={id:t[s],doc:n[s]?JSON.parse(n[s]):null};return n})};y.has=function(t){return t=this.db.transaction("reg","readonly").objectStore("reg").getKey(t),Z(t).then(function(e){return!!e})};y.search=null;y.info=function(){};y.transaction=function(t,e,i){t+=t!=="reg"&&this.field?":"+this.field:"";let n=this.h[t+":"+e];if(n)return i.call(this,n);let s=this.db.transaction(t,e);this.h[t+":"+e]=n=s.objectStore(t);const r=i.call(this,n);return this.h[t+":"+e]=null,Z(s).finally(function(){return s=n=null,r})};y.commit=async function(t){let e=t.commit_task,i=[];t.commit_task=[];for(let n=0,s;n<e.length;n++)s=e[n],s.del&&i.push(s.del);i.length&&await this.remove(i),t.reg.size&&(await this.transaction("map","readwrite",function(n){for(const s of t.map){const r=s[0],h=s[1];h.length&&(n.get(r).onsuccess=function(){let o=this.result;var l;if(o&&o.length){const u=Math.max(o.length,h.length);for(let f=0,c,m;f<u;f++)if((m=h[f])&&m.length){if((c=o[f])&&c.length)for(l=0;l<m.length;l++)c.push(m[l]);else o[f]=m;l=1}}else o=h,l=1;l&&n.put(o,r)})}}),await this.transaction("ctx","readwrite",function(n){for(const s of t.ctx){const r=s[0],h=s[1];for(const o of h){const l=o[0],u=o[1];u.length&&(n.get(r+":"+l).onsuccess=function(){let f=this.result;var c;if(f&&f.length){const m=Math.max(f.length,u.length);for(let g=0,p,a;g<m;g++)if((a=u[g])&&a.length){if((p=f[g])&&p.length)for(c=0;c<a.length;c++)p.push(a[c]);else f[g]=a;c=1}}else f=u,c=1;c&&n.put(f,r+":"+l)})}}}),t.store?await this.transaction("reg","readwrite",function(n){for(const s of t.store){const r=s[0],h=s[1];n.put(typeof h=="object"?JSON.stringify(h):1,r)}}):t.bypass||await this.transaction("reg","readwrite",function(n){for(const s of t.reg.keys())n.put(1,s)}),t.tag&&await this.transaction("tag","readwrite",function(n){for(const s of t.tag){const r=s[0],h=s[1];h.length&&(n.get(r).onsuccess=function(){let o=this.result;o=o&&o.length?o.concat(h):h,n.put(o,r)})}}),t.map.clear(),t.ctx.clear(),t.tag&&t.tag.clear(),t.store&&t.store.clear(),t.document||t.reg.clear())};function zt(t,e,i){const n=t.value;let s,r=0;for(let h=0,o;h<n.length;h++){if(o=i?n:n[h]){for(let l=0,u,f;l<e.length;l++)if(f=e[l],u=o.indexOf(f),u>=0)if(s=1,o.length>1)o.splice(u,1);else{n[h]=[];break}r+=o.length}if(i)break}r?s&&t.update(n):t.delete(),t.continue()}y.remove=function(t){return typeof t!="object"&&(t=[t]),Promise.all([this.transaction("map","readwrite",function(e){e.openCursor().onsuccess=function(){const i=this.result;i&&zt(i,t)}}),this.transaction("ctx","readwrite",function(e){e.openCursor().onsuccess=function(){const i=this.result;i&&zt(i,t)}}),this.transaction("tag","readwrite",function(e){e.openCursor().onsuccess=function(){const i=this.result;i&&zt(i,t,!0)}}),this.transaction("reg","readwrite",function(e){for(let i=0;i<t.length;i++)e.delete(t[i])})])};function Z(t,e){return new Promise((i,n)=>{t.onsuccess=t.oncomplete=function(){e&&e(this.result),e=null,i(this.result)},t.onerror=t.onblocked=n,t=null})}const Le={Index:N,Charset:Et,Encoder:ht,Document:G,Worker:Y,Resolver:C,IndexedDB:St,Language:{}};let _t=null,Oe=null,Re={},se=[],nt={},ct=!1;const W=document.querySelector('meta[name="base-url"]')?.content||"/";async function Te(){try{const e=await(await fetch(`${W}artifacts/search_index.compact.json`)).json();e.documents.forEach(n=>{Re[n.id]=n}),Oe=e.methodIndex,se=await(await fetch(`${W}artifacts/all_metadata.json`)).json(),se.forEach(n=>{n.method_usage&&n.method_usage.forEach(s=>{const r=s.method;nt[r]||(nt[r]=[]),nt[r].push({example:n.id,title:n.title,slug:n.slug,usage:s})})}),_t=new Le.Document({document:{id:"id",index:["title","description","content","methods","tags"],store:["id","slug","title","description","methods"]},tokenize:"forward",threshold:0,resolution:9,depth:3}),e.documents.forEach(n=>{_t.add(n)}),console.log("Search index loaded:",e.documents.length,"documents"),console.log("Method usage map loaded:",Object.keys(nt).length,"methods")}catch(t){console.error("Failed to load search index:",t)}}function Pe(t){const e=t.args||[],i=t.kwargs||{},n=[];e.forEach(o=>{Array.isArray(o)?n.push(`[${o.map(l=>typeof l=="string"?`"${l}"`:l).join(", ")}]`):typeof o=="string"&&o!=="<Lambda>"?n.push(`"${o}"`):o==="<Lambda>"?n.push("lambda ..."):n.push(String(o))});const s=[];for(const[o,l]of Object.entries(i))typeof l=="string"?s.push(`${o}="${l}"`):typeof l=="boolean"?s.push(`${o}=${l?"True":"False"}`):s.push(`${o}=${l}`);const r=[...n,...s],h=r.length>0?r.join(", "):"";return`.${t.method}(${h})`}function Ee(t){if(!_t||t.length<2)return{documents:[],methods:{}};const e=_t.search(t,{limit:10,enrich:!0}),i=new Set,n=[];e.forEach(h=>{h.result.forEach(o=>{i.has(o.id)||(i.add(o.id),n.push(o.doc))})});const s={},r=t.toLowerCase();if(nt){for(const[h,o]of Object.entries(nt))if(h.toLowerCase().includes(r)){s[h]||(s[h]={method:h,usageExamples:[]});const l=new Set;o.forEach(u=>{const f=Pe(u.usage),c=`${u.slug}:${f}`;l.has(c)||(l.add(c),s[h].usageExamples.push({title:u.title,slug:u.slug,snippet:f}))})}}return{documents:n,methods:s}}function Je(t,e){const i=document.getElementById("search-results"),n=Object.keys(t.methods).length;if(!t.documents.length&&n===0){i.innerHTML='<div class="no-results">No results found</div>';return}let s="";n>0&&(s+='<div class="results-section">',s+='<div class="results-header">Methods</div>',Object.values(t.methods).sort((h,o)=>{const l=h.method.toLowerCase()===e.toLowerCase(),u=o.method.toLowerCase()===e.toLowerCase();return l&&!u?-1:!l&&u?1:o.usageExamples.length-h.usageExamples.length}).slice(0,5).forEach(({method:h,usageExamples:o})=>{const l=encodeURIComponent(h.toLowerCase()),u=`method-${h.replace(/[^a-zA-Z0-9]/g,"-")}`,f=3;s+=`
          <div class="method-group" data-method="${h}">
            <a href="${W}methods/${l}" class="method-group-header">
              <span class="method-name">${st(h)}</span>
              <span class="method-count">${o.length} example${o.length!==1?"s":""}</span>
            </a>
            <div class="method-snippets" id="${u}">
              ${o.slice(0,f).map(c=>`
                <div class="snippet-item">
                  <a href="${W}pdfs/${c.slug}#${l}" class="snippet-link">
                    <span class="snippet-title">${st(c.title)}</span>
                    <code class="snippet-code">${st(c.snippet)}</code>
                  </a>
                </div>
              `).join("")}
            </div>
            ${o.length>f?`
              <a href="${W}methods/${l}" class="show-more-btn">
                <svg class="show-more-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
                <span class="show-more-text">Show ${o.length-f} more ${o.length-f===1?"match":"matches"}</span>
              </a>
            `:""}
          </div>
        `}),s+="</div>"),t.documents.length>0&&(s+='<div class="results-section">',s+='<div class="results-header">PDFs</div>',t.documents.forEach(r=>{s+=`
          <a href="${W}pdfs/${r.slug}" class="result-item">
            <div class="result-title">${ne(r.title,e)}</div>
            <div class="result-description">${ne(r.description,e)}</div>
            <div class="result-methods">
              ${r.methods.slice(0,3).map(h=>`<span class="method-tag">${st(h)}</span>`).join("")}
            </div>
          </a>
        `}),s+="</div>"),(t.documents.length>0||n>0)&&(s+=`
        <a href="${W}search?q=${encodeURIComponent(e)}" class="view-all-results">
          View all results for "${st(e)}" â†’
        </a>
      `),i.innerHTML=s}function ne(t,e){const i=st(t),n=new RegExp(`(${He(e)})`,"gi");return i.replace(n,"<mark>$1</mark>")}function st(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}function He(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ne(){const t=document.getElementById("search-input"),e=document.getElementById("search-results"),i=document.querySelector(".search-wrapper");let n;t.addEventListener("input",r=>{clearTimeout(n);const h=r.target.value.trim();if(h.length<2){e.innerHTML="",e.classList.remove("show");return}n=setTimeout(()=>{const o=Ee(h);Je(o,h),e.classList.add("show")},150)}),t.addEventListener("focus",()=>{ct=!0,i.classList.add("focused"),t.value.length>=2&&e.classList.add("show")}),document.addEventListener("click",r=>{i.contains(r.target)||(e.classList.remove("show"),i.classList.remove("focused"),ct=!1)}),document.addEventListener("keydown",r=>{r.key==="/"&&!ct&&r.target.tagName!=="INPUT"&&(r.preventDefault(),t.focus()),r.key==="Escape"&&ct&&(t.blur(),e.classList.remove("show"),i.classList.remove("focused"),ct=!1)});let s=-1;t.addEventListener("keydown",r=>{const h=e.querySelectorAll(".result-item, .method-group-header");if(r.key==="ArrowDown")r.preventDefault(),s=Math.min(s+1,h.length-1),re(h,s);else if(r.key==="ArrowUp")r.preventDefault(),s=Math.max(s-1,-1),re(h,s);else if(r.key==="Enter")if(s>=0)r.preventDefault(),h[s].click();else{r.preventDefault();const o=t.value.trim();o&&(window.location.href=`${W}search?q=${encodeURIComponent(o)}`)}})}function re(t,e){t.forEach((i,n)=>{n===e?(i.classList.add("selected"),i.scrollIntoView({block:"nearest"})):i.classList.remove("selected")})}Te();Ne();
